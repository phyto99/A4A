<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Art Gallery Explorer</title>
    
    <!-- Link to existing Svelte CSS files -->
    <link rel="stylesheet" href="global.da2a4795 (1).css">
    <link rel="stylesheet" href="src.3607d8e2 (1).css">
    
    <style>
        /* CUSTOM STYLES - CLEARLY SEPARATED FROM ORIGINAL */
        /* ================================================ */
        
        .game-container {
            display: flex;
            flex-direction: column;
            height: 100vh;
            position: relative;
        }
        
        .map-section {
            flex: 1;
            position: relative;
            background: linear-gradient(45deg, #1a1a1a, #2a2a2a);
            overflow: hidden;
        }
        
        .city-block {
            position: absolute;
            width: 60px;
            height: 30px;
            border: 1px solid #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8em;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .city-block:hover {
            transform: scale(1.1);
            z-index: 10;
        }
        
        .gallery-section {
            height: 300px;
            background: #000;
            border-top: 2px solid #fff;
            overflow-y: auto;
            padding: 20px;
        }
        
        .paintings-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .painting-card {
            border: 2px solid #fff;
            padding: 15px;
            background: #111;
            transition: all 0.3s ease;
        }
        
        .painting-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(255, 255, 255, 0.1);
        }
        
        .painting-title {
            font-size: 1.2em;
            margin-bottom: 5px;
        }
        
        .painting-author {
            font-size: 0.9em;
            color: #ccc;
            margin-bottom: 5px;
        }
        
        .painting-type {
            font-size: 0.8em;
            color: #999;
            margin-bottom: 10px;
        }
        
        .painting-image {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border: 1px solid #666;
            margin-bottom: 10px;
        }
        
        .region-colors {
            europe: #ff6b6b;
            asia: #4ecdc4;
            americas: #45b7d1;
            africa: #f9ca24;
            oceania: #6c5ce7;
        }
        
        .loading {
            text-align: center;
            padding: 50px;
            font-size: 1.5em;
        }
        
        .error {
            color: #ff4757;
            text-align: center;
            padding: 20px;
        }
        
        .map-title {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 2em;
            z-index: 100;
        }
        
        .legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border: 1px solid #fff;
            border-radius: 5px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .legend-color {
            width: 20px;
            height: 20px;
            margin-right: 10px;
            border: 1px solid #fff;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Map Section -->
        <div class="map-section">
            <h1 class="map-title title-font">Art Popularity Map</h1>
            <div id="cityMap"></div>
            

        </div>
        
        <!-- Gallery Section -->
        <div class="gallery-section">
            <div id="paintingsContainer">
                <div class="loading">Loading paintings...</div>
            </div>
        </div>
    </div>

    <script>
        // CUSTOM JAVASCRIPT - CLEARLY SEPARATED FROM ORIGINAL
        // ==================================================
        
        class ArtGalleryGame {
            constructor() {
                this.paintings = [];
                this.cities = [
                    { name: 'NYC', x: 25, y: 40, region: 'north america', popularity: 9 },
                    { name: 'LON', x: 50, y: 30, region: 'europe', popularity: 8 },
                    { name: 'PAR', x: 52, y: 35, region: 'europe', popularity: 9 },
                    { name: 'TOK', x: 85, y: 45, region: 'east asia', popularity: 7 },
                    { name: 'BER', x: 55, y: 32, region: 'europe', popularity: 6 },
                    { name: 'ROM', x: 55, y: 42, region: 'europe', popularity: 8 },
                    { name: 'SYD', x: 88, y: 75, region: 'oceania', popularity: 5 },
                    { name: 'CAI', x: 60, y: 55, region: 'subsaharan africa', popularity: 4 },
                    { name: 'MUM', x: 75, y: 50, region: 'south asia', popularity: 6 },
                    { name: 'SAO', x: 35, y: 70, region: 'south america', popularity: 5 }
                ];
                this.regionColors = {
                    'north america': 'blue',
                    'south america': 'red', 
                    'oceania': 'lime',
                    'europe': 'cyan',
                    'middle east': 'magenta',
                    'subsaharan africa': 'yellow',
                    'south asia': 'orange',
                    'east asia': 'darkred'
                };
                this.init();
            }
            
            async init() {
                this.renderMap();
                await this.fetchPaintings();
                this.renderPaintings();
            }
            
            renderMap() {
                const mapContainer = document.getElementById('cityMap');
                
                this.cities.forEach(city => {
                    const cityBlock = document.createElement('div');
                    cityBlock.className = 'city-block';
                    cityBlock.textContent = city.name;
                    
                    // Position based on popularity (0-10 scale)
                    cityBlock.style.left = `${city.x}%`;
                    cityBlock.style.top = `${city.y}%`;
                    
                    // Use red-blue gradient from Svelte CSS for popularity
                    const popularityPercent = (city.popularity / 10) * 100;
                    cityBlock.style.background = `linear-gradient(90deg, #0068ff ${100-popularityPercent}%, #ff2500 ${popularityPercent}%)`;
                    
                    // Add region outline color
                    cityBlock.style.borderColor = this.regionColors[city.region];
                    cityBlock.style.borderWidth = '3px';
                    
                    cityBlock.addEventListener('click', () => {
                        this.showCityInfo(city);
                    });
                    
                    mapContainer.appendChild(cityBlock);
                });
            }
            
            showCityInfo(city) {
                alert(`${city.name}\nRegion: ${city.region}\nPopularity: ${city.popularity}/10`);
            }
            
            async fetchPaintings() {
                try {
                    // Since we can't directly access Airtable without API key, 
                    // I'll create sample data that matches the structure
                    this.paintings = [
                        {
                            title: "The Starry Night",
                            author: "Vincent van Gogh",
                            year: "1889",
                            type: "Post-Impressionism",
                            region: "europe",
                            image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg/300px-Van_Gogh_-_Starry_Night_-_Google_Art_Project.jpg"
                        },
                        {
                            title: "The Great Wave",
                            author: "Katsushika Hokusai", 
                            year: "1831",
                            type: "Ukiyo-e",
                            region: "east asia",
                            image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0a/The_Great_Wave_off_Kanagawa.jpg/300px-The_Great_Wave_off_Kanagawa.jpg"
                        },
                        {
                            title: "Mona Lisa",
                            author: "Leonardo da Vinci",
                            year: "1503",
                            type: "Renaissance",
                            region: "europe", 
                            image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ec/Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg/300px-Mona_Lisa%2C_by_Leonardo_da_Vinci%2C_from_C2RMF_retouched.jpg"
                        },
                        {
                            title: "American Gothic",
                            author: "Grant Wood",
                            year: "1930", 
                            type: "Regionalism",
                            region: "north america",
                            image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Grant_Wood_-_American_Gothic_-_Google_Art_Project.jpg/300px-Grant_Wood_-_American_Gothic_-_Google_Art_Project.jpg"
                        },
                        {
                            title: "Girl with a Pearl Earring",
                            author: "Johannes Vermeer",
                            year: "1665",
                            type: "Baroque",
                            region: "europe",
                            image: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/0f/1665_Girl_with_a_Pearl_Earring.jpg/300px-1665_Girl_with_a_Pearl_Earring.jpg"
                        },
                        {
                            title: "The Persistence of Memory",
                            author: "Salvador Dal√≠",
                            year: "1931",
                            type: "Surrealism", 
                            region: "europe",
                            image: "https://upload.wikimedia.org/wikipedia/en/thumb/d/dd/The_Persistence_of_Memory.jpg/300px-The_Persistence_of_Memory.jpg"
                        }
                    ];
                } catch (error) {
                    console.error('Error fetching paintings:', error);
                    document.getElementById('paintingsContainer').innerHTML = 
                        '<div class="error">Failed to load paintings. Using sample data.</div>';
                }
            }
            
            renderPaintings() {
                const container = document.getElementById('paintingsContainer');
                
                if (this.paintings.length === 0) {
                    container.innerHTML = '<div class="error">No paintings found.</div>';
                    return;
                }
                
                const grid = document.createElement('div');
                grid.className = 'paintings-grid';
                
                this.paintings.forEach(painting => {
                    const card = document.createElement('div');
                    card.className = 'painting-card';
                    
                    // Add region outline color
                    card.style.borderColor = this.regionColors[painting.region];
                    
                    card.innerHTML = `
                        <div class="painting-title title-font">${painting.title}</div>
                        <div class="painting-author">${painting.author} | ${painting.year}</div>
                        <div class="painting-type">${painting.type}</div>
                        <img class="painting-image" src="${painting.image}" alt="${painting.title}" 
                             onerror="this.src='data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjE1MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjMzMzIi8+PHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSIxNCIgZmlsbD0iI2ZmZiIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkltYWdlIE5vdCBGb3VuZDwvdGV4dD48L3N2Zz4='">
                    `;
                    
                    card.addEventListener('click', () => {
                        this.showPaintingDetails(painting);
                    });
                    
                    grid.appendChild(card);
                });
                
                container.innerHTML = '';
                container.appendChild(grid);
            }
            
            showPaintingDetails(painting) {
                // Create a modal-like effect using existing Svelte styles
                const modal = document.createElement('div');
                modal.style.cssText = `
                    position: fixed;
                    top: 0;
                    left: 0;
                    width: 100%;
                    height: 100%;
                    background: rgba(0, 0, 0, 0.9);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    z-index: 1000;
                `;
                
                modal.innerHTML = `
                    <div style="background: #000; border: 2px solid ${this.regionColors[painting.region]}; padding: 30px; max-width: 500px; text-align: center;">
                        <h2 class="title-font">${painting.title}</h2>
                        <p><strong>${painting.author}</strong> | ${painting.year}</p>
                        <p>${painting.type}</p>
                        <img src="${painting.image}" style="max-width: 100%; height: auto; margin: 20px 0;" alt="${painting.title}">
                        <br>
                        <button onclick="this.parentElement.parentElement.remove()" style="margin-top: 20px; padding: 10px 20px; background: #fff; color: #000; border: none; cursor: pointer;">Close</button>
                    </div>
                `;
                
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.remove();
                    }
                });
                
                document.body.appendChild(modal);
            }
        }
        
        // Initialize the game when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            new ArtGalleryGame();
        });
    </script>
</body>
</html>