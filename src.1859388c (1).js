parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"SdlP":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof e&&e.amd?e(["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).schema={})}(this,function(e){"use strict";var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function r(e,t,n,r){var i,o=arguments.length,s=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(s=(o<3?i(s):o>3?i(t,n,s):i(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function i(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}var o,s=255;e.OPERATION=void 0,(o=e.OPERATION||(e.OPERATION={}))[o.ADD=128]="ADD",o[o.REPLACE=0]="REPLACE",o[o.DELETE=64]="DELETE",o[o.DELETE_AND_ADD=192]="DELETE_AND_ADD",o[o.TOUCH=1]="TOUCH",o[o.CLEAR=10]="CLEAR";var a=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,n){void 0===n&&(n=!0),this.refs.set(e,t),n&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(e.refCounts[t]<=0){var n=e.refs.get(t);if(n instanceof fe)for(var r in n._definition.schema)"string"!=typeof n._definition.schema[r]&&n[r]&&n[r].$changes&&e.removeRef(n[r].$changes.refId);else{var i=n.$changes.parent._definition,o=i.schema[i.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(o)[0]&&Array.from(n.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),c=function(){function t(e,t,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,n)}return t.prototype.setParent=function(e,t,n){var r=this;if(this.indexes||(this.indexes=this.ref instanceof fe?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=n,t)if(this.root=t,this.ref instanceof fe){var i=this.ref._definition;for(var o in i.schema){var s=this.ref[o];if(s&&s.$changes){var a=i.indexes[o];s.$changes.setParent(this.ref,t,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof fe){var n=e.$changes,i=r.ref.$changes.indexes[t];n.setParent(r.ref,r.root,i)}})},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,n){void 0===n&&(n=e.OPERATION.ADD);var r="number"==typeof t?t:this.indexes[t];this.assertValidIndex(r,t);var i=this.changes.get(r);i&&i.op!==e.OPERATION.DELETE&&i.op!==e.OPERATION.TOUCH||this.changes.set(r,{op:i&&i.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:n,index:r}),this.allChanges.add(r),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t),this.changes.has(n)||this.changes.set(n,{op:e.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition)return(t=this.ref._definition).schema[t.fieldsByIndex[e]];var t,n=(t=this.parent._definition).schema[t.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var n="number"==typeof t?t:this.indexes[t];if(void 0!==n){var r=this.getValue(n);this.changes.set(n,{op:e.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],r&&r.$changes&&(r.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema ".concat(this.ref.constructor.name,": trying to delete non-existing index: ").concat(t," (").concat(n,")"))},t.prototype.discard=function(t,n){var r=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.ref instanceof fe||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var n=r.ref.getIndex(t.index);delete r.indexes[n]}}),this.changes.clear(),this.changed=t,n&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var n=e.getValue(t.index);n&&n.$changes&&n.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw new Error('ChangeTree: missing index for field "'.concat(t,'"'))},t}(),f=function(e,t){var n=e.toString(),r=t.toString();return n<r?-1:n>r?1:0};function h(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,n){if("symbol"==typeof t||isNaN(t))e[t]=n;else{var r=Array.from(e.$items.keys()),i=parseInt(r[t]||t);null==n?e.deleteAt(i):e.setAt(i,n)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0}})}var u=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach(function(n){e=t.$refId++,t.setAt(e,n)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,n){var r,i;void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,t);var o=null!==(i=null===(r=this.$changes.indexes[t])||void 0===r?void 0:r.op)&&void 0!==i?i:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,n),this.$changes.change(t,o)},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new(t.bind.apply(t,i([void 0],(e=Array.from(this.$items.values())).concat.apply(e,n),!1)))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys());return Array.from(this.$items.values()).reverse().forEach(function(n,r){e.setAt(t[r],n)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()).shift();if(void 0!==e){var t=this.$items.get(e);return this.$deleteAt(e),t}},t.prototype.slice=function(e,n){return new(t.bind.apply(t,i([void 0],Array.from(this.$items.values()).slice(e,n),!1)))},t.prototype.sort=function(e){var t=this;void 0===e&&(e=f);var n=Array.from(this.$items.keys());return Array.from(this.$items.values()).sort(e).forEach(function(e,r){t.setAt(n[r],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var n=Array.from(this.$items.keys()),r=[],i=e;i<e+t;i++)r.push(this.$items.get(n[i])),this.$deleteAt(n[i]);return r},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this.length,i=t.length,o=Array.from(this.$items.values());return t.forEach(function(t,n){e.setAt(n,t)}),o.forEach(function(t,n){e.setAt(i+n,t)}),r+i},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.prototype.reduce.apply(Array.from(this.$items.values()),arguments)},t.prototype.reduceRight=function(e,t){return Array.prototype.reduceRight.apply(Array.from(this.$items.values()),arguments)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,n){throw new Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,n){throw new Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},t.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw new Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,i([void 0],Array.from(this.$items.values()),!1))):new(t.bind.apply(t,i([void 0],this.map(function(e){return e.$changes?e.clone():e}),!1)))},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}();function p(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,n){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,n):e[t]=n,!0},deleteProperty:function(e,t){return e.delete(t),!0}})}var d=function(){function t(e){var t=this;if(this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map)e.forEach(function(e,n){return t.set(n,e)});else for(var n in e)this.set(n,e[n])}return t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),t.prototype.set=function(t,n){if(null==n)throw new Error("MapSchema#set('".concat(t,"', ").concat(n,"): trying to set ").concat(n," value on '").concat(t,"'."));var r=void 0!==this.$changes.indexes[t],i=r?this.$changes.indexes[t]:this.$refId++,o=r?e.OPERATION.REPLACE:e.OPERATION.ADD,s=void 0!==n.$changes;return s&&n.$changes.setParent(this,this.$changes.root,i),r?s&&this.$items.get(t)!==n&&(o=e.OPERATION.ADD):(this.$changes.indexes[t]=i,this.$indexes.set(i,t)),this.$items.set(t,n),this.$changes.change(t,o),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,n){e[n]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e,t){e.$changes?n.set(t,e.clone()):n.set(t,e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),l={};function y(e,t){l[e]=t}function g(e){return l[e]}var v=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var n=new e;return n.schema=Object.assign({},t&&t.schema||{}),n.indexes=Object.assign({},t&&t.indexes||{}),n.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),n.descriptors=Object.assign({},t&&t.descriptors||{}),n.deprecated=Object.assign({},t&&t.deprecated||{}),n},e.prototype.addField=function(e,t){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=e,this.indexes[e]=n,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var n=this.indexes[e],r=this.schema[e];if(g(Object.keys(r)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=t,!0;console.warn("@filterChildren: field '".concat(e,"' can't have children. Ignoring filter."))},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}();var $=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=v.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t=new e),function(e){return A(e,t)}},e}(),m=new $;function A(e,t){return void 0===t&&(t=m),function(n,r){if(!e)throw new Error("Type not found. Ensure your `@type` annotations are correct and that you don't have any circular dependencies.");var o=n.constructor;o._context=t,t.has(o)||t.add(o);var s=o._definition;if(s.addField(r,e),s.descriptors[r]){if(s.deprecated[r])return;try{throw new Error("@colyseus/schema: Duplicate '".concat(r,"' definition on '").concat(o.name,"'.\nCheck @type() annotation"))}catch(g){var a=g.stack.split("\n")[4].trim();throw new Error("".concat(g.message," ").concat(a))}}var c=u.is(e),f=!c&&d.is(e);if("string"!=typeof e&&!fe.is(e)){var l=Object.values(e)[0];"string"==typeof l||t.has(l)||t.add(l)}var y="_".concat(r);s.descriptors[y]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[r]={get:function(){return this[y]},set:function(e){e!==this[y]&&(null!=e?(!c||e instanceof u||(e=new(u.bind.apply(u,i([void 0],e,!1)))),!f||e instanceof d||(e=new d(e)),void 0===e.$proxy&&(f?e=p(e):c&&(e=h(e))),this.$changes.change(r),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[r])):this.$changes.delete(r),this[y]=e)},enumerable:!0,configurable:!0}}}function x(e,t,n){for(var r=0,i=0,o=n.length;i<o;i++)(r=n.charCodeAt(i))<128?e[t++]=r:r<2048?(e[t++]=192|r>>6,e[t++]=128|63&r):r<55296||r>=57344?(e[t++]=224|r>>12,e[t++]=128|r>>6&63,e[t++]=128|63&r):(i++,r=65536+((1023&r)<<10|1023&n.charCodeAt(i)),e[t++]=240|r>>18,e[t++]=128|r>>12&63,e[t++]=128|r>>6&63,e[t++]=128|63&r)}function E(e,t){e.push(255&t)}function I(e,t){e.push(255&t)}function O(e,t){e.push(255&t),e.push(t>>8&255)}function w(e,t){e.push(255&t),e.push(t>>8&255)}function b(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function T(e,t){var n=t>>24,r=t>>16,i=t>>8,o=t;e.push(255&o),e.push(255&i),e.push(255&r),e.push(255&n)}function R(e,t){var n=Math.floor(t/Math.pow(2,32));T(e,t>>>0),T(e,n)}function P(e,t){var n=t/Math.pow(2,32)>>0;T(e,t>>>0),T(e,n)}var _=new Int32Array(2),N=new Float32Array(_.buffer),C=new Float64Array(_.buffer);function D(e,t){N[0]=t,b(e,_[0])}function S(e,t){C[0]=t,b(e,_[0]),b(e,_[1])}function F(e,t){t||(t="");var n=function(e){for(var t=0,n=0,r=0,i=e.length;r<i;r++)(t=e.charCodeAt(r))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t),r=0;if(n<32)e.push(160|n),r=1;else if(n<256)e.push(217),I(e,n),r=2;else if(n<65536)e.push(218),w(e,n),r=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),T(e,n),r=5}return x(e,e.length,t),r+n}function j(e,t){return isNaN(t)?j(e,0):isFinite(t)?t!==(0|t)?(e.push(203),S(e,t),9):t>=0?t<128?(I(e,t),1):t<256?(e.push(204),I(e,t),2):t<65536?(e.push(205),w(e,t),3):t<4294967296?(e.push(206),T(e,t),5):(e.push(207),P(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),E(e,t),2):t>=-32768?(e.push(209),O(e,t),3):t>=-2147483648?(e.push(210),b(e,t),5):(e.push(211),R(e,t),9):j(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var L=Object.freeze({__proto__:null,utf8Write:x,int8:E,uint8:I,int16:O,uint16:w,int32:b,uint32:T,int64:R,uint64:P,float32:function(e,t){D(e,t)},float64:function(e,t){S(e,t)},writeFloat32:D,writeFloat64:S,boolean:function(e,t){return I(e,t?1:0)},string:F,number:j});function k(e,t){return M(e,t)<<24>>24}function M(e,t){return e[t.offset++]}function B(e,t){return V(e,t)<<16>>16}function V(e,t){return e[t.offset++]|e[t.offset++]<<8}function J(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function z(e,t){return J(e,t)>>>0}function U(e,t){var n=z(e,t);return J(e,t)*Math.pow(2,32)+n}function W(e,t){var n=z(e,t);return z(e,t)*Math.pow(2,32)+n}var H=new Int32Array(2),q=new Float32Array(H.buffer),G=new Float64Array(H.buffer);function X(e,t){return H[0]=J(e,t),q[0]}function K(e,t){return H[0]=J(e,t),H[1]=J(e,t),G[0]}function Q(e,t){var n,r=e[t.offset++];r<192?n=31&r:217===r?n=M(e,t):218===r?n=V(e,t):219===r&&(n=z(e,t));var i=function(e,t,n){for(var r="",i=0,o=t,s=t+n;o<s;o++){var a=e[o];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(i=(7&a)<<18|(63&e[++o])<<12|(63&e[++o])<<6|(63&e[++o])<<0)>=65536?(i-=65536,r+=String.fromCharCode(55296+(i>>>10),56320+(1023&i))):r+=String.fromCharCode(i):r+=String.fromCharCode((15&a)<<12|(63&e[++o])<<6|(63&e[++o])<<0):r+=String.fromCharCode((31&a)<<6|63&e[++o]):r+=String.fromCharCode(a)}return r}(e,t.offset,n);return t.offset+=n,i}function Y(e,t){var n=e[t.offset++];return n<128?n:202===n?X(e,t):203===n?K(e,t):204===n?M(e,t):205===n?V(e,t):206===n?z(e,t):207===n?W(e,t):208===n?k(e,t):209===n?B(e,t):210===n?J(e,t):211===n?U(e,t):n>223?-1*(255-n+1):void 0}function Z(e,t){return e[t.offset-1]===s&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var ee=Object.freeze({__proto__:null,int8:k,uint8:M,int16:B,uint16:V,int32:J,uint32:z,float32:function(e,t){return X(e,t)},float64:function(e,t){return K(e,t)},int64:U,uint64:W,readFloat32:X,readFloat64:K,boolean:function(e,t){return M(e,t)>0},string:Q,stringCheck:function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},number:Y,numberCheck:function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},arrayCheck:function(e,t){return e[t.offset]<160},switchStructureCheck:Z}),te=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++;return void 0!==e.$changes&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,r,i){return e(n,r,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),ne=function(){function t(e){var t=this;this.$changes=new c(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){var n,r;if(this.has(t))return!1;var i=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,i);var o=null!==(r=null===(n=this.$changes.indexes[i])||void 0===n?void 0:n.op)&&void 0!==r?r:e.OPERATION.ADD;return this.$changes.indexes[i]=i,this.$indexes.set(i,i),this.$items.set(i,t),this.$changes.change(i,o),i},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,r=this.$items.entries();(n=r.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,n=this.$items.values(),r=!1;(t=n.next())&&!t.done;)if(e===t.value){r=!0;break}return r},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,r,i){return e(n,r,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),re=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}(),ie=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);function se(e,t,n,r){if(!(e instanceof t))throw new oe("a '".concat(t.name,"' was expected, but '").concat(e.constructor.name,"' was provided in ").concat(n.constructor.name,"#").concat(r))}function ae(e,t,n,r,i){!function(e,t,n,r){var i,o=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":i="number",isNaN(e)&&console.log('trying to encode "NaN" in '.concat(n.constructor.name,"#").concat(r));break;case"string":i="string",o=!0;break;case"boolean":return}if(typeof e!==i&&(!o||o&&null!==e)){var s="'".concat(JSON.stringify(e),"'").concat(e&&e.constructor&&" (".concat(e.constructor.name,")")||"");throw new oe("a '".concat(i,"' was expected, but ").concat(s," was provided in ").concat(n.constructor.name,"#").concat(r))}}(n,e,r,i);var o=L[e];if(!o)throw new oe("a '".concat(e,"' was expected, but ").concat(n," was provided in ").concat(r.constructor.name,"#").concat(i));o(t,n)}function ce(e,t,n){return ee[e](t,n)}var fe=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new c(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.listen=function(e,t){var n=this;return this.$listeners[e]||(this.$listeners[e]=new re),this.$listeners[e].register(t),function(){return n.$listeners[e].remove(t)}},t.prototype.decode=function(n,r,i,o){void 0===r&&(r={offset:0}),void 0===i&&(i=this),void 0===o&&(o=new Map);var a=this.$changes.root,c=n.length,f=0,h=[];for(a.refs.set(f,this),o.set(f,h);r.offset<c;){var p=n[r.offset++];if(p!=s){var l=i.$changes,y=void 0!==i._definition,v=y?p>>6<<6:p;if(v!==e.OPERATION.CLEAR){var $=y?p%(v||255):Y(n,r),m=y?i._definition.fieldsByIndex[$]:"",A=l.getType($),x=void 0,E=void 0,I=void 0;if(y?E=i["_".concat(m)]:(E=i.getByIndex($),(v&e.OPERATION.ADD)===e.OPERATION.ADD?(I=i instanceof d?Q(n,r):$,i.setIndex($,I)):I=i.getIndex($)),(v&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(v!==e.OPERATION.DELETE_AND_ADD&&i.deleteByIndex($),E&&E.$changes&&a.removeRef(E.$changes.refId),x=null),void 0!==m){if(v===e.OPERATION.DELETE);else if(t.is(A)){var O=Y(n,r);if(x=a.refs.get(O),v!==e.OPERATION.REPLACE){var w=this.getSchemaType(n,r,A);x||((x=this.createTypeInstance(w)).$changes.refId=O,E&&(x.onChange=E.onChange,x.onRemove=E.onRemove,x.$listeners=E.$listeners,E.$changes.refId&&O!==E.$changes.refId&&a.removeRef(E.$changes.refId))),a.addRef(O,x,x!==E)}}else if("string"==typeof A)x=ce(A,n,r);else{var b=g(Object.keys(A)[0]),T=Y(n,r),R=a.refs.has(T)?E||a.refs.get(T):new b.constructor;if((x=R.clone(!0)).$changes.refId=T,E&&(x.onAdd=E.onAdd,x.onRemove=E.onRemove,x.onChange=E.onChange,E.$changes.refId&&T!==E.$changes.refId)){a.removeRef(E.$changes.refId);for(var P=[],_=E.entries(),N=void 0;(N=_.next())&&!N.done;){var C=N.value,D=C[0],S=C[1];P.push({op:e.OPERATION.DELETE,field:D,value:void 0,previousValue:S})}o.set(E.$changes.refId,P)}a.addRef(T,x,R!==E),b.getProxy&&(x=b.getProxy(x))}var F=E!==x;if(null!=x)if(x.$changes&&x.$changes.setParent(l.ref,l.root,$),i instanceof t)i[m]=x;else if(i instanceof d){D=I;i.$items.set(D,x)}else if(i instanceof u)i.setAt($,x);else if(i instanceof te){var j=i.add(x);i.setIndex($,j)}else if(i instanceof ne){!1!==(j=i.add(x))&&i.setIndex($,j)}F&&h.push({op:v,field:m,dynamicIndex:I,value:x,previousValue:E})}else{console.warn("@colyseus/schema: definition mismatch");for(var L={offset:r.offset};r.offset<c&&(!Z(n,r)||(L.offset=r.offset+1,!a.refs.has(Y(n,L))));)r.offset++}}else i.clear(!0)}else{f=Y(n,r);var k=a.refs.get(f);if(!k)throw new Error('"refId" not found: '.concat(f));i=k,h=[],o.set(f,h)}}return this._triggerChanges(o),a.garbageCollectDeletedRefs(),o},t.prototype.encode=function(n,r,i){void 0===n&&(n=!1),void 0===r&&(r=[]),void 0===i&&(i=!1);for(var o=this.$changes,a=new WeakSet,c=[o],f=1,h=0;h<f;h++){var u=c[h],p=u.ref,l=p instanceof t;u.ensureRefId(),a.add(u),u!==o&&(u.changed||n)&&(I(r,s),j(r,u.refId));for(var y=n?Array.from(u.allChanges):Array.from(u.changes.values()),v=0,$=y.length;v<$;v++){var m=n?{op:e.OPERATION.ADD,index:y[v]}:y[v],A=m.index,x=l?p._definition.fieldsByIndex&&p._definition.fieldsByIndex[A]:A,E=r.length;if(m.op!==e.OPERATION.TOUCH)if(l)I(r,A|m.op);else{if(I(r,m.op),m.op===e.OPERATION.CLEAR)continue;j(r,A)}if(!l&&(m.op&e.OPERATION.ADD)==e.OPERATION.ADD)if(p instanceof d)F(r,u.ref.$indexes.get(A));if(m.op!==e.OPERATION.DELETE){var O=u.getType(A),w=u.getValue(A);if(w&&w.$changes&&!a.has(w.$changes)&&(c.push(w.$changes),w.$changes.ensureRefId(),f++),m.op!==e.OPERATION.TOUCH){if(t.is(O))se(w,O,p,x),j(r,w.$changes.refId),(m.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(r,O,w.constructor);else if("string"==typeof O)ae(O,r,w,p,x);else{var b=g(Object.keys(O)[0]);se(p["_".concat(x)],b.constructor,p,x),j(r,w.$changes.refId)}i&&u.cache(A,r.slice(E))}}}n||i||u.discard()}return r},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(n,r){var i,o;void 0===r&&(r=!1);for(var a=this,c=new Set,f=ie.get(n),h=[this.$changes],u=1,p=[],l=function(l){var y=h[l];if(c.has(y.refId))return"continue";var g=y.ref,v=g instanceof t;I(p,s),j(p,y.refId);var $=f.refIds.has(y),m=r||!$;f.addRefId(y);var A=f.containerIndexes.get(y),x=m?Array.from(y.allChanges):Array.from(y.changes.values());!r&&v&&g._definition.indexesWithFilters&&g._definition.indexesWithFilters.forEach(function(t){!A.has(t)&&y.allChanges.has(t)&&(m?x.push(t):x.push({op:e.OPERATION.ADD,index:t}))});for(var E=0,O=x.length;E<O;E++){var w=m?{op:e.OPERATION.ADD,index:x[E]}:x[E];if(w.op!==e.OPERATION.CLEAR){var b=w.index;if(w.op!==e.OPERATION.DELETE){var T=y.getValue(b),R=y.getType(b);if(v){if((P=g._definition.filters&&g._definition.filters[b])&&!P.call(g,n,T,a)){T&&T.$changes&&c.add(T.$changes.refId);continue}}else{var P,_=y.parent;if((P=y.getChildrenFilter())&&!P.call(_,n,g.$indexes.get(b),T,a)){T&&T.$changes&&c.add(T.$changes.refId);continue}}if(T.$changes&&(h.push(T.$changes),u++),w.op!==e.OPERATION.TOUCH)if(w.op===e.OPERATION.ADD||v)p.push.apply(p,null!==(i=y.caches[b])&&void 0!==i?i:[]),A.add(b);else if(A.has(b))p.push.apply(p,null!==(o=y.caches[b])&&void 0!==o?o:[]);else{if(A.add(b),I(p,e.OPERATION.ADD),j(p,b),g instanceof d){var N=y.ref.$indexes.get(b);F(p,N)}T.$changes?j(p,T.$changes.refId):L[R](p,T)}else if(T.$changes&&!v){if(I(p,e.OPERATION.ADD),j(p,b),g instanceof d){N=y.ref.$indexes.get(b);F(p,N)}j(p,T.$changes.refId)}}else v?I(p,w.op|b):(I(p,w.op),j(p,b))}else I(p,w.op)}},y=0;y<u;y++)l(y);return p},t.prototype.clone=function(){var e,t=new this.constructor,n=this._definition.schema;for(var r in n)"object"==typeof this[r]&&"function"==typeof(null===(e=this[r])||void 0===e?void 0:e.clone)?t[r]=this[r].clone():t[r]=this[r];return t},t.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var e=new Map;t.prototype._triggerAllFillChanges.call(this,this,e);try{t.prototype._triggerChanges.call(this,e)}catch(n){t.onError(n)}}},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,n={};for(var r in e)t[r]||null===this[r]||void 0===this[r]||(n[r]="function"==typeof this[r].toJSON?this[r].toJSON():this["_".concat(r)]);return n},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(I(e,213),j(e,n._typeid))},t.prototype.getSchemaType=function(e,t,n){var r;return 213===e[t.offset]&&(t.offset++,r=this.constructor._context.get(Y(e,t))),r||n},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerAllFillChanges=function(n,r){if(!r.has(n.$changes.refId)){var i=[];if(r.set(n.$changes.refId||0,i),n instanceof t){var o=n._definition.schema;for(var s in o){void 0!==(u=n["_".concat(s)])&&(i.push({op:e.OPERATION.ADD,field:s,value:u,previousValue:void 0}),void 0!==u.$changes&&t.prototype._triggerAllFillChanges.call(this,u,r))}}else for(var a=n.entries(),c=void 0;(c=a.next())&&!c.done;){var f=c.value,h=f[0],u=f[1];i.push({op:e.OPERATION.ADD,field:h,dynamicIndex:h,value:u,previousValue:void 0}),void 0!==u.$changes&&t.prototype._triggerAllFillChanges.call(this,u,r)}}},t.prototype._triggerChanges=function(n){var r=this;n.forEach(function(n,i){var o,s,a,c,f,h,u,p,d,l,y,g;if(n.length>0){for(var v=r.$changes.root.refs.get(i),$=v instanceof t,m=0;m<n.length;m++){var A=n[m],x=v.$listeners&&v.$listeners[A.field];if($||(A.op===e.OPERATION.ADD&&void 0===A.previousValue?null===(s=(o=v).onAdd)||void 0===s||s.call(o,A.value,null!==(a=A.dynamicIndex)&&void 0!==a?a:A.field):A.op===e.OPERATION.DELETE?void 0!==A.previousValue&&(null===(f=(c=v).onRemove)||void 0===f||f.call(c,A.previousValue,null!==(h=A.dynamicIndex)&&void 0!==h?h:A.field)):A.op===e.OPERATION.DELETE_AND_ADD?(void 0!==A.previousValue&&(null===(p=(u=v).onRemove)||void 0===p||p.call(u,A.previousValue,A.dynamicIndex)),null===(l=(d=v).onAdd)||void 0===l||l.call(d,A.value,A.dynamicIndex)):A.op!==e.OPERATION.REPLACE&&A.value===A.previousValue||null===(g=(y=v).onChange)||void 0===g||g.call(y,A.value,A.dynamicIndex)),(A.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&A.previousValue instanceof t&&A.previousValue.onRemove&&A.previousValue.onRemove(),x)try{x.invoke(A.value,A.previousValue)}catch(E){t.onError(E)}}if($&&v.onChange)try{v.onChange(n)}catch(E){t.onError(E)}}})},t._definition=v.create(),t}();var he=new $,ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),r([A("string",he)],t.prototype,"name",void 0),r([A("string",he)],t.prototype,"type",void 0),r([A("number",he)],t.prototype,"referencedType",void 0),t}(fe),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new u,t}return n(t,e),r([A("number",he)],t.prototype,"id",void 0),r([A([ue],he)],t.prototype,"fields",void 0),t}(fe),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new u,t}return n(t,e),t.encode=function(e){var n=e.constructor,r=new t;r.rootType=n._typeid;var i=function(e,t){for(var n in t){var i=new ue;i.name=n;var o=void 0;if("string"==typeof t[n])o=t[n];else{var s=t[n],a=void 0;fe.is(s)?(o="ref",a=t[n]):"string"==typeof s[o=Object.keys(s)[0]]?o+=":"+s[o]:a=s[o],i.referencedType=a?a._typeid:-1}i.type=o,e.fields.push(i)}r.types.push(e)},o=n._context.types;for(var s in o){var a=new pe;a.id=Number(s),i(a,o[s]._definition.schema)}return r.encodeAll()},t.decode=function(e,r){var i=new $,o=new t;o.decode(e,r);var s=o.types.reduce(function(e,t){var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(fe),o=t.id;return e[o]=r,i.add(r,o),e},{});o.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var n;if(void 0!==e.referencedType){var r=e.type,o=s[e.referencedType];if(!o){var a=e.type.split(":");r=a[0],o=a[1]}"ref"===r?A(o,i)(t.prototype,e.name):A(((n={})[r]=o,n),i)(t.prototype,e.name)}else A(e.type,i)(t.prototype,e.name)})});var a=s[o.rootType],c=new a;for(var f in a._definition.schema){var h=a._definition.schema[f];"string"!=typeof h&&(c[f]="function"==typeof h?new h:new(g(Object.keys(h)[0]).constructor))}return c},r([A([pe],he)],t.prototype,"types",void 0),r([A("number",he)],t.prototype,"rootType",void 0),t}(fe);y("map",{constructor:d,getProxy:p}),y("array",{constructor:u,getProxy:h}),y("set",{constructor:ne}),y("collection",{constructor:te}),e.ArraySchema=u,e.CollectionSchema=te,e.Context=$,e.MapSchema=d,e.Reflection=de,e.ReflectionField=ue,e.ReflectionType=pe,e.Schema=fe,e.SchemaDefinition=v,e.SetSchema=ne,e.decode=ee,e.defineTypes=function(e,t,n){for(var r in void 0===n&&(n=e._context||m),t)A(t[r],n)(e.prototype,r);return e},e.deprecated=function(e,t){return void 0===e&&(e=!0),function(t,n){var r=t.constructor._definition;r.deprecated[n]=!0,e&&(r.descriptors[n]={get:function(){throw new Error("".concat(n," is deprecated."))},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],n={},r=n,i=function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,i=e.index,o=t._definition?t._definition.fieldsByIndex[i]:t.$indexes.get(i);r[o]=n.getValue(i)})},o=0;o<1;o++)i(o);return n},e.encode=L,e.filter=function(e){return function(t,n){var r=t.constructor;r._definition.addFilter(n,e)&&(r._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,n){var r=t.constructor;r._definition.addChildrenFilter(n,e)&&(r._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=y,e.type=A,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],"YkLP":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.SvelteElement=exports.SvelteComponentTyped=exports.SvelteComponentDev=exports.SvelteComponent=exports.HtmlTagHydration=exports.HtmlTag=void 0,exports.action_destroyer=M,exports.add_attribute=wn,exports.add_classes=kn,exports.add_flush_callback=Oe,exports.add_location=s,exports.add_render_callback=De,exports.add_resize_listener=zt,exports.add_styles=Sn,exports.add_transform=ce,exports.afterUpdate=de,exports.append=J,exports.append_dev=qn,exports.append_empty_stylesheet=V,exports.append_hydration=Z,exports.append_hydration_dev=Hn,exports.append_styles=K,exports.assign=o,exports.attr=xt,exports.attr_dev=Un,exports.attribute_to_object=Kt,exports.beforeUpdate=ae,exports.bind=Cn,exports.binding_callbacks=void 0,exports.blank_object=c,exports.bubble=be,exports.check_outros=Pe,exports.children=wt,exports.claim_component=On,exports.claim_element=Ct,exports.claim_html_tag=jt,exports.claim_space=At,exports.claim_svg_element=Dt,exports.claim_text=Ot,exports.clear_loops=L,exports.component_subscribe=g,exports.compute_rest_props=E,exports.compute_slots=S,exports.createEventDispatcher=_e,exports.create_animation=se,exports.create_bidirectional_transition=Ye,exports.create_component=Dn,exports.create_in_transition=Ge,exports.create_out_transition=Ue,exports.create_slot=b,exports.create_ssr_component=Fn,exports.current_component=void 0,exports.custom_event=Gt,exports.dataset_dev=Jn,exports.debug=yn,exports.destroy_block=Ve,exports.destroy_component=Mn,exports.destroy_each=ot,exports.detach=nt,exports.detach_after_dev=Wn,exports.detach_before_dev=zn,exports.detach_between_dev=Bn,exports.detach_dev=Pn,exports.dirty_components=void 0,exports.dispatch_dev=Rn,exports.each=mn,exports.element=rt,exports.element_is=st,exports.empty=at,exports.end_hydrating=G,exports.escape=_n,exports.escape_attribute_value=hn,exports.escape_object=xn,exports.exclude_internal_props=k,exports.fix_and_destroy_block=Ze,exports.fix_and_outro_and_destroy_block=tn,exports.fix_position=ie,exports.flush=Te,exports.getAllContexts=me,exports.getContext=xe,exports.get_all_dirty_from_scope=w,exports.get_binding_group_value=vt,exports.get_current_component=ue,exports.get_custom_elements_slots=Qt,exports.get_root_for_style=Q,exports.get_slot_changes=v,exports.get_spread_object=rn,exports.get_spread_update=on,exports.get_store_value=m,exports.globals=void 0,exports.group_outros=Le,exports.handle_promise=Je,exports.hasContext=ge,exports.identity=exports.has_prop=void 0,exports.init=Tn,exports.insert=tt,exports.insert_dev=In,exports.insert_hydration=et,exports.insert_hydration_dev=Ln,exports.is_client=exports.invalid_attribute_name_character=exports.intros=void 0,exports.is_crossorigin=Bt,exports.is_empty=_,exports.is_function=u,exports.is_promise=r,exports.is_void=ln,exports.listen=pt,exports.listen_dev=Gn,exports.loop=P,exports.loop_guard=no,exports.merge_ssr_styles=pn,exports.missing_component=void 0,exports.mount_component=An,exports.noop=e,exports.not_equal=f,exports.now=void 0,exports.null_to_empty=D,exports.object_without_properties=it,exports.onDestroy=fe,exports.onMount=pe,exports.once=C,exports.outro_and_destroy_block=Xe,exports.prevent_default=dt,exports.prop_dev=Yn,exports.query_selector_all=Ut,exports.raf=void 0,exports.run=i,exports.run_all=l,exports.safe_not_equal=a,exports.schedule_update=Se,exports.select_multiple_value=Pt,exports.select_option=Ht,exports.select_options=It,exports.select_value=Lt,exports.self=_t,exports.setContext=he,exports.set_attributes=mt,exports.set_current_component=le,exports.set_custom_element_data=bt,exports.set_data=Tt,exports.set_data_dev=Kn,exports.set_input_type=Rt,exports.set_input_value=Nt,exports.set_now=R,exports.set_raf=q,exports.set_store_value=O,exports.set_style=qt,exports.set_svg_attributes=gt,exports.space=ut,exports.spread=an,exports.src_url_equal=d,exports.start_hydrating=W,exports.stop_propagation=ft,exports.subscribe=x,exports.svg_element=ct,exports.text=lt,exports.tick=Ce,exports.time_ranges_to_array=Ft,exports.to_number=$t,exports.toggle_class=Wt,exports.transition_in=Be,exports.transition_out=ze,exports.trusted=ht,exports.update_await_block_branch=Ke,exports.update_keyed_each=en,exports.update_slot=F,exports.update_slot_base=$,exports.validate_component=bn,exports.validate_dynamic_element=Xn,exports.validate_each_argument=Qn,exports.validate_each_keys=nn,exports.validate_slots=Vn,exports.validate_store=h,exports.validate_void_dynamic_element=Zn,exports.xlink_attr=yt;const n=t=>t;function o(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t&&"object"==typeof t&&"function"==typeof t.then}function s(t,e,n,o,r){t.__svelte_meta={loc:{file:e,line:n,column:o,char:r}}}function i(t){return t()}function c(){return Object.create(null)}function l(t){t.forEach(i)}function u(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let p;function d(t,e){return p||(p=document.createElement("a")),p.href=e,t===p.href}function f(t,e){return t!=t?e==e:t!==e}function _(t){return 0===Object.keys(t).length}function h(t,e){if(null!=t&&"function"!=typeof t.subscribe)throw new Error(`'${e}' is not a store with a 'subscribe' method`)}function x(t,...n){if(null==t)return e;const o=t.subscribe(...n);return o.unsubscribe?()=>o.unsubscribe():o}function m(t){let e;return x(t,t=>e=t)(),e}function g(t,e,n){t.$$.on_destroy.push(x(e,n))}function b(t,e,n,o){if(t){const r=y(t,e,n,o);return t[0](r)}}function y(t,e,n,r){return t[1]&&r?o(n.ctx.slice(),t[1](r(e))):n.ctx}function v(t,e,n,o){if(t[2]&&o){const r=t[2](o(n));if(void 0===e.dirty)return r;if("object"==typeof r){const t=[],n=Math.max(e.dirty.length,r.length);for(let o=0;o<n;o+=1)t[o]=e.dirty[o]|r[o];return t}return e.dirty|r}return e.dirty}function $(t,e,n,o,r,s){if(r){const i=y(e,n,o,s);t.p(i,r)}}function F(t,e,n,o,r,s,i){$(t,e,n,o,v(e,o,r,s),i)}function w(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}function k(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function E(t,e){const n={};e=new Set(e);for(const o in t)e.has(o)||"$"===o[0]||(n[o]=t[o]);return n}function S(t){const e={};for(const n in t)e[n]=!0;return e}function C(t){let e=!1;return function(...n){e||(e=!0,t.call(this,...n))}}function D(t){return null==t?"":t}function O(t,e,n){return t.set(n),e}exports.identity=n;const A=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);function M(t){return t&&u(t.destroy)?t.destroy:e}exports.has_prop=A;const j="undefined"!=typeof window;exports.is_client=j;let T=j?()=>window.performance.now():()=>Date.now();exports.now=T;let N=j?t=>requestAnimationFrame(t):e;function R(t){exports.now=T=t}function q(t){exports.raf=N=t}exports.raf=N;const H=new Set;function I(t){H.forEach(e=>{e.c(t)||(H.delete(e),e.f())}),0!==H.size&&N(I)}function L(){H.clear()}function P(t){let e;return 0===H.size&&N(I),{promise:new Promise(n=>{H.add(e={c:t,f:n})}),abort(){H.delete(e)}}}let B,z=!1;function W(){z=!0}function G(){z=!1}function U(t,e,n,o){for(;t<e;){const r=t+(e-t>>1);n(r)<=o?t=r+1:e=r}return t}function Y(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let n=0;n<e.length;n++){const o=e[n];void 0!==o.claim_order&&t.push(o)}e=t}const n=new Int32Array(e.length+1),o=new Int32Array(e.length);n[0]=-1;let r=0;for(let l=0;l<e.length;l++){const t=e[l].claim_order,s=(r>0&&e[n[r]].claim_order<=t?r+1:U(1,r,t=>e[n[t]].claim_order,t))-1;o[l]=n[s]+1;const i=s+1;n[i]=l,r=Math.max(i,r)}const s=[],i=[];let c=e.length-1;for(let l=n[r]+1;0!=l;l=o[l-1]){for(s.push(e[l-1]);c>=l;c--)i.push(e[c]);c--}for(;c>=0;c--)i.push(e[c]);s.reverse(),i.sort((t,e)=>t.claim_order-e.claim_order);for(let l=0,u=0;l<i.length;l++){for(;u<s.length&&i[l].claim_order>=s[u].claim_order;)u++;const e=u<s.length?s[u]:null;t.insertBefore(i[l],e)}}function J(t,e){t.appendChild(e)}function K(t,e,n){const o=Q(t);if(!o.getElementById(e)){const t=rt("style");t.id=e,t.textContent=n,X(o,t)}}function Q(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function V(t){const e=rt("style");return X(Q(t),e),e.sheet}function X(t,e){J(t.head||t,e)}function Z(t,e){if(z){for(Y(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentElement!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function tt(t,e,n){t.insertBefore(e,n||null)}function et(t,e,n){z&&!n?Z(t,e):e.parentNode===t&&e.nextSibling==n||t.insertBefore(e,n||null)}function nt(t){t.parentNode.removeChild(t)}function ot(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function rt(t){return document.createElement(t)}function st(t,e){return document.createElement(t,{is:e})}function it(t,e){const n={};for(const o in t)A(t,o)&&-1===e.indexOf(o)&&(n[o]=t[o]);return n}function ct(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function lt(t){return document.createTextNode(t)}function ut(){return lt(" ")}function at(){return lt("")}function pt(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function dt(t){return function(e){return e.preventDefault(),t.call(this,e)}}function ft(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function _t(t){return function(e){e.target===this&&t.call(this,e)}}function ht(t){return function(e){e.isTrusted&&t.call(this,e)}}function xt(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function mt(t,e){const n=Object.getOwnPropertyDescriptors(t.__proto__);for(const o in e)null==e[o]?t.removeAttribute(o):"style"===o?t.style.cssText=e[o]:"__value"===o?t.value=t[o]=e[o]:n[o]&&n[o].set?t[o]=e[o]:xt(t,o,e[o])}function gt(t,e){for(const n in e)xt(t,n,e[n])}function bt(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:xt(t,e,n)}function yt(t,e,n){t.setAttributeNS("http://www.w3.org/1999/xlink",e,n)}function vt(t,e,n){const o=new Set;for(let r=0;r<t.length;r+=1)t[r].checked&&o.add(t[r].__value);return n||o.delete(e),Array.from(o)}function $t(t){return""===t?null:+t}function Ft(t){const e=[];for(let n=0;n<t.length;n+=1)e.push({start:t.start(n),end:t.end(n)});return e}function wt(t){return Array.from(t.childNodes)}function kt(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}function Et(t,e,n,o,r=!1){kt(t);const s=(()=>{for(let o=t.claim_info.last_index;o<t.length;o++){const s=t[o];if(e(s)){const e=n(s);return void 0===e?t.splice(o,1):t[o]=e,r||(t.claim_info.last_index=o),s}}for(let o=t.claim_info.last_index-1;o>=0;o--){const s=t[o];if(e(s)){const e=n(s);return void 0===e?t.splice(o,1):t[o]=e,r?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=o,s}}return o()})();return s.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,s}function St(t,e,n,o){return Et(t,t=>t.nodeName===e,t=>{const e=[];for(let o=0;o<t.attributes.length;o++){const r=t.attributes[o];n[r.name]||e.push(r.name)}e.forEach(e=>t.removeAttribute(e))},()=>o(e))}function Ct(t,e,n){return St(t,e,n,rt)}function Dt(t,e,n){return St(t,e,n,ct)}function Ot(t,e){return Et(t,t=>3===t.nodeType,t=>{const n=""+e;if(t.data.startsWith(n)){if(t.data.length!==n.length)return t.splitText(n.length)}else t.data=n},()=>lt(e),!0)}function At(t){return Ot(t," ")}function Mt(t,e,n){for(let o=n;o<t.length;o+=1){const n=t[o];if(8===n.nodeType&&n.textContent.trim()===e)return o}return t.length}function jt(t,e){const n=Mt(t,"HTML_TAG_START",0),o=Mt(t,"HTML_TAG_END",n);if(n===o)return new Jt(void 0,e);kt(t);const r=t.splice(n,o-n+1);nt(r[0]),nt(r[r.length-1]);const s=r.slice(1,r.length-1);for(const i of s)i.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1;return new Jt(s,e)}function Tt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function Nt(t,e){t.value=null==e?"":e}function Rt(t,e){try{t.type=e}catch(n){}}function qt(t,e,n,o){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,o?"important":"")}function Ht(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];if(o.__value===e)return void(o.selected=!0)}t.selectedIndex=-1}function It(t,e){for(let n=0;n<t.options.length;n+=1){const o=t.options[n];o.selected=~e.indexOf(o.__value)}}function Lt(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function Pt(t){return[].map.call(t.querySelectorAll(":checked"),t=>t.__value)}function Bt(){if(void 0===B){B=!1;try{"undefined"!=typeof window&&window.parent&&window.parent.document}catch(t){B=!0}}return B}function zt(t,e){"static"===getComputedStyle(t).position&&(t.style.position="relative");const n=rt("iframe");n.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),n.setAttribute("aria-hidden","true"),n.tabIndex=-1;const o=Bt();let r;return o?(n.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=pt(window,"message",t=>{t.source===n.contentWindow&&e()})):(n.src="about:blank",n.onload=(()=>{r=pt(n.contentWindow,"resize",e)})),J(t,n),()=>{o?r():r&&n.contentWindow&&r(),nt(n)}}function Wt(t,e,n){t.classList[n?"add":"remove"](e)}function Gt(t,e,{bubbles:n=!1,cancelable:o=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,o,e),r}function Ut(t,e=document.body){return Array.from(e.querySelectorAll(t))}class Yt{constructor(t=!1){this.is_svg=!1,this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,n=null){this.e||(this.is_svg?this.e=ct(e.nodeName):this.e=rt(e.nodeName),this.t=e,this.c(t)),this.i(n)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)tt(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(nt)}}exports.HtmlTag=Yt;class Jt extends Yt{constructor(t,e=!1){super(e),this.e=this.n=null,this.l=t}c(t){this.l?this.n=this.l:super.c(t)}i(t){for(let e=0;e<this.n.length;e+=1)et(this.t,this.n[e],t)}}function Kt(t){const e={};for(const n of t)e[n.name]=n.value;return e}function Qt(t){const e={};return t.childNodes.forEach(t=>{e[t.slot||"default"]=!0}),e}exports.HtmlTagHydration=Jt;const Vt=new Map;let Xt,Zt=0;function te(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function ee(t,e){const n={stylesheet:V(e),rules:{}};return Vt.set(t,n),n}function ne(t,e,n,o,r,s,i,c=0){const l=16.666/o;let u="{\n";for(let x=0;x<=1;x+=l){const t=e+(n-e)*s(x);u+=100*x+`%{${i(t,1-t)}}\n`}const a=u+`100% {${i(n,1-n)}}\n}`,p=`__svelte_${te(a)}_${c}`,d=Q(t),{stylesheet:f,rules:_}=Vt.get(d)||ee(d,t);_[p]||(_[p]=!0,f.insertRule(`@keyframes ${p} ${a}`,f.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${p} ${o}ms linear ${r}ms 1 both`,Zt+=1,p}function oe(t,e){const n=(t.style.animation||"").split(", "),o=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),r=n.length-o.length;r&&(t.style.animation=o.join(", "),(Zt-=r)||re())}function re(){N(()=>{Zt||(Vt.forEach(t=>{const{stylesheet:e}=t;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.rules={}}),Vt.clear())})}function se(t,o,r,s){if(!o)return e;const i=t.getBoundingClientRect();if(o.left===i.left&&o.right===i.right&&o.top===i.top&&o.bottom===i.bottom)return e;const{delay:c=0,duration:l=300,easing:u=n,start:a=T()+c,end:p=a+l,tick:d=e,css:f}=r(t,{from:o,to:i},s);let _,h=!0,x=!1;function m(){f&&oe(t,_),h=!1}return P(t=>{if(!x&&t>=a&&(x=!0),x&&t>=p&&(d(1,0),m()),!h)return!1;if(x){const e=0+1*u((t-a)/l);d(e,1-e)}return!0}),f&&(_=ne(t,0,1,l,c,u,f)),c||(x=!0),d(0,1),m}function ie(t){const e=getComputedStyle(t);if("absolute"!==e.position&&"fixed"!==e.position){const{width:n,height:o}=e,r=t.getBoundingClientRect();t.style.position="absolute",t.style.width=n,t.style.height=o,ce(t,r)}}function ce(t,e){const n=t.getBoundingClientRect();if(e.left!==n.left||e.top!==n.top){const o=getComputedStyle(t),r="none"===o.transform?"":o.transform;t.style.transform=`${r} translate(${e.left-n.left}px, ${e.top-n.top}px)`}}function le(t){exports.current_component=Xt=t}function ue(){if(!Xt)throw new Error("Function called outside component initialization");return Xt}function ae(t){ue().$$.before_update.push(t)}function pe(t){ue().$$.on_mount.push(t)}function de(t){ue().$$.after_update.push(t)}function fe(t){ue().$$.on_destroy.push(t)}function _e(){const t=ue();return(e,n,{cancelable:o=!1}={})=>{const r=t.$$.callbacks[e];if(r){const s=Gt(e,n,{cancelable:o});return r.slice().forEach(e=>{e.call(t,s)}),!s.defaultPrevented}return!0}}function he(t,e){return ue().$$.context.set(t,e),e}function xe(t){return ue().$$.context.get(t)}function me(){return ue().$$.context}function ge(t){return ue().$$.context.has(t)}function be(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(t=>t.call(this,e))}exports.current_component=Xt;const ye=[];exports.dirty_components=ye;const ve={enabled:!1};exports.intros=ve;const $e=[];exports.binding_callbacks=$e;const Fe=[],we=[],ke=Promise.resolve();let Ee=!1;function Se(){Ee||(Ee=!0,ke.then(Te))}function Ce(){return Se(),ke}function De(t){Fe.push(t)}function Oe(t){we.push(t)}const Ae=new Set;let Me,je=0;function Te(){const t=Xt;do{for(;je<ye.length;){const t=ye[je];je++,le(t),Ne(t.$$)}for(le(null),ye.length=0,je=0;$e.length;)$e.pop()();for(let t=0;t<Fe.length;t+=1){const e=Fe[t];Ae.has(e)||(Ae.add(e),e())}Fe.length=0}while(ye.length);for(;we.length;)we.pop()();Ee=!1,Ae.clear(),le(t)}function Ne(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(De)}}function Re(){return Me||(Me=Promise.resolve()).then(()=>{Me=null}),Me}function qe(t,e,n){t.dispatchEvent(Gt(`${e?"intro":"outro"}${n}`))}const He=new Set;let Ie;function Le(){Ie={r:0,c:[],p:Ie}}function Pe(){Ie.r||l(Ie.c),Ie=Ie.p}function Be(t,e){t&&t.i&&(He.delete(t),t.i(e))}function ze(t,e,n,o){if(t&&t.o){if(He.has(t))return;He.add(t),Ie.c.push(()=>{He.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}else o&&o()}const We={duration:0};function Ge(t,o,r){let s,i,c=o(t,r),l=!1,a=0;function p(){s&&oe(t,s)}function d(){const{delay:o=0,duration:r=300,easing:u=n,tick:d=e,css:f}=c||We;f&&(s=ne(t,0,1,r,o,u,f,a++)),d(0,1);const _=T()+o,h=_+r;i&&i.abort(),l=!0,De(()=>qe(t,!0,"start")),i=P(e=>{if(l){if(e>=h)return d(1,0),qe(t,!0,"end"),p(),l=!1;if(e>=_){const t=u((e-_)/r);d(t,1-t)}}return l})}let f=!1;return{start(){f||(f=!0,oe(t),u(c)?(c=c(),Re().then(d)):d())},invalidate(){f=!1},end(){l&&(p(),l=!1)}}}function Ue(t,o,r){let s,i=o(t,r),c=!0;const a=Ie;function p(){const{delay:o=0,duration:r=300,easing:u=n,tick:p=e,css:d}=i||We;d&&(s=ne(t,1,0,r,o,u,d));const f=T()+o,_=f+r;De(()=>qe(t,!1,"start")),P(e=>{if(c){if(e>=_)return p(0,1),qe(t,!1,"end"),--a.r||l(a.c),!1;if(e>=f){const t=u((e-f)/r);p(1-t,t)}}return c})}return a.r+=1,u(i)?Re().then(()=>{i=i(),p()}):p(),{end(e){e&&i.tick&&i.tick(1,0),c&&(s&&oe(t,s),c=!1)}}}function Ye(t,o,r,s){let i=o(t,r),c=s?0:1,a=null,p=null,d=null;function f(){d&&oe(t,d)}function _(t,e){const n=t.b-c;return e*=Math.abs(n),{a:c,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function h(o){const{delay:r=0,duration:s=300,easing:u=n,tick:h=e,css:x}=i||We,m={start:T()+r,b:o};o||(m.group=Ie,Ie.r+=1),a||p?p=m:(x&&(f(),d=ne(t,c,o,s,r,u,x)),o&&h(0,1),a=_(m,s),De(()=>qe(t,o,"start")),P(e=>{if(p&&e>p.start&&(a=_(p,s),p=null,qe(t,a.b,"start"),x&&(f(),d=ne(t,c,a.b,a.duration,0,u,i.css))),a)if(e>=a.end)h(c=a.b,1-c),qe(t,a.b,"end"),p||(a.b?f():--a.group.r||l(a.group.c)),a=null;else if(e>=a.start){const t=e-a.start;c=a.a+a.d*u(t/a.duration),h(c,1-c)}return!(!a&&!p)}))}return{run(t){u(i)?Re().then(()=>{i=i(),h(t)}):h(t)},end(){f(),a=p=null}}}function Je(t,e){const n=e.token={};function o(t,o,r,s){if(e.token!==n)return;e.resolved=s;let i=e.ctx;void 0!==r&&((i=i.slice())[r]=s);const c=t&&(e.current=t)(i);let l=!1;e.block&&(e.blocks?e.blocks.forEach((t,n)=>{n!==o&&t&&(Le(),ze(t,1,1,()=>{e.blocks[n]===t&&(e.blocks[n]=null)}),Pe())}):e.block.d(1),c.c(),Be(c,1),c.m(e.mount(),e.anchor),l=!0),e.block=c,e.blocks&&(e.blocks[o]=c),l&&Te()}if(r(t)){const n=ue();if(t.then(t=>{le(n),o(e.then,1,e.value,t),le(null)},t=>{if(le(n),o(e.catch,2,e.error,t),le(null),!e.hasCatch)throw t}),e.current!==e.pending)return o(e.pending,0),!0}else{if(e.current!==e.then)return o(e.then,1,e.value,t),!0;e.resolved=t}}function Ke(t,e,n){const o=e.slice(),{resolved:r}=t;t.current===t.then&&(o[t.value]=r),t.current===t.catch&&(o[t.error]=r),t.block.p(o,n)}const Qe="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:t;function Ve(t,e){t.d(1),e.delete(t.key)}function Xe(t,e){ze(t,1,1,()=>{e.delete(t.key)})}function Ze(t,e){t.f(),Ve(t,e)}function tn(t,e){t.f(),Xe(t,e)}function en(t,e,n,o,r,s,i,c,l,u,a,p){let d=t.length,f=s.length,_=d;const h={};for(;_--;)h[t[_].key]=_;const x=[],m=new Map,g=new Map;for(_=f;_--;){const t=p(r,s,_),c=n(t);let l=i.get(c);l?o&&l.p(t,e):(l=u(c,t)).c(),m.set(c,x[_]=l),c in h&&g.set(c,Math.abs(_-h[c]))}const b=new Set,y=new Set;function v(t){Be(t,1),t.m(c,a),i.set(t.key,t),a=t.first,f--}for(;d&&f;){const e=x[f-1],n=t[d-1],o=e.key,r=n.key;e===n?(a=e.first,d--,f--):m.has(r)?!i.has(o)||b.has(o)?v(e):y.has(r)?d--:g.get(o)>g.get(r)?(y.add(o),v(e)):(b.add(r),d--):(l(n,i),d--)}for(;d--;){const e=t[d];m.has(e.key)||l(e,i)}for(;f;)v(x[f-1]);return x}function nn(t,e,n,o){const r=new Set;for(let s=0;s<e.length;s++){const i=o(n(t,e,s));if(r.has(i))throw new Error("Cannot have duplicate keys in a keyed each");r.add(i)}}function on(t,e){const n={},o={},r={$$scope:1};let s=t.length;for(;s--;){const i=t[s],c=e[s];if(c){for(const t in i)t in c||(o[t]=1);for(const t in c)r[t]||(n[t]=c[t],r[t]=1);t[s]=c}else for(const t in i)r[t]=1}for(const i in o)i in n||(n[i]=void 0);return n}function rn(t){return"object"==typeof t&&null!==t?t:{}}exports.globals=Qe;const sn=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),cn=/^(?:area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/;function ln(t){return cn.test(t)||"!doctype"===t.toLowerCase()}const un=/[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u;function an(t,e){const n=Object.assign({},...t);if(e){const t=e.classes,o=e.styles;t&&(null==n.class?n.class=t:n.class+=" "+t),o&&(null==n.style?n.style=En(o):n.style=En(pn(n.style,o)))}let o="";return Object.keys(n).forEach(t=>{if(un.test(t))return;const e=n[t];!0===e?o+=" "+t:sn.has(t.toLowerCase())?e&&(o+=" "+t):null!=e&&(o+=` ${t}="${e}"`)}),o}function pn(t,e){const n={};for(const o of t.split(";")){const t=o.indexOf(":"),e=o.slice(0,t).trim(),r=o.slice(t+1).trim();e&&(n[e]=r)}for(const o in e){const t=e[o];t?n[o]=t:delete n[o]}return n}exports.invalid_attribute_name_character=un;const dn=/[&"]/g,fn=/[&<]/g;function _n(t,e=!1){const n=String(t),o=e?dn:fn;o.lastIndex=0;let r="",s=0;for(;o.test(n);){const t=o.lastIndex-1,e=n[t];r+=n.substring(s,t)+("&"===e?"&amp;":'"'===e?"&quot;":"&lt;"),s=t+1}return r+n.substring(s)}function hn(t){return"string"==typeof t||t&&"object"==typeof t?_n(t,!0):t}function xn(t){const e={};for(const n in t)e[n]=hn(t[n]);return e}function mn(t,e){let n="";for(let o=0;o<t.length;o+=1)n+=e(t[o],o);return n}const gn={$$render:()=>""};function bn(t,e){if(!t||!t.$$render)throw"svelte:component"===e&&(e+=" this={...}"),new Error(`<${e}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return t}function yn(t,e,n,o){return console.log(`{@debug} ${t?t+" ":""}(${e}:${n})`),console.log(o),""}let vn,$n;function Fn(t){function e(e,n,o,r,s){const i=Xt;le({$$:{on_destroy:vn,context:new Map(s||(i?i.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:c()}});const l=t(e,n,o,r);return le(i),l}return{render:(t={},{$$slots:n={},context:o=new Map}={})=>{vn=[];const r={title:"",head:"",css:new Set},s=e(r,t,{},n,o);return l(vn),{html:s,css:{code:Array.from(r.css).map(t=>t.code).join("\n"),map:null},head:r.title+r.head}},$$render:e}}function wn(t,e,n){if(null==e||n&&!e)return"";return` ${t}${n&&!0===e?"":`="${_n(e,!0)}"`}`}function kn(t){return t?` class="${t}"`:""}function En(t){return Object.keys(t).filter(e=>t[e]).map(e=>`${e}: ${t[e]};`).join(" ")}function Sn(t){const e=En(t);return e?` style="${e}"`:""}function Cn(t,e,n){const o=t.$$.props[e];void 0!==o&&(t.$$.bound[o]=n,n(t.$$.ctx[o]))}function Dn(t){t&&t.c()}function On(t,e){t&&t.l(e)}function An(t,e,n,o){const{fragment:r,on_mount:s,on_destroy:c,after_update:a}=t.$$;r&&r.m(e,n),o||De(()=>{const e=s.map(i).filter(u);c?c.push(...e):l(e),t.$$.on_mount=[]}),a.forEach(De)}function Mn(t,e){const n=t.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function jn(t,e){-1===t.$$.dirty[0]&&(ye.push(t),Se(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tn(t,n,o,r,s,i,u,a=[-1]){const p=Xt;le(t);const d=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:s,bound:c(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(p?p.$$.context:[])),callbacks:c(),dirty:a,skip_bound:!1,root:n.target||p.$$.root};u&&u(d.root);let f=!1;if(d.ctx=o?o(t,n.props||{},(e,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&s(d.ctx[e],d.ctx[e]=r)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](r),f&&jn(t,e)),n}):[],d.update(),f=!0,l(d.before_update),d.fragment=!!r&&r(d.ctx),n.target){if(n.hydrate){W();const t=wt(n.target);d.fragment&&d.fragment.l(t),t.forEach(nt)}else d.fragment&&d.fragment.c();n.intro&&Be(t.$$.fragment),An(t,n.target,n.anchor,n.customElement),G(),Te()}le(p)}exports.missing_component=gn,exports.SvelteElement=$n,"function"==typeof HTMLElement&&(exports.SvelteElement=$n=class extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const{on_mount:t}=this.$$;this.$$.on_disconnect=t.map(i).filter(u);for(const e in this.$$.slotted)this.appendChild(this.$$.slotted[e])}attributeChangedCallback(t,e,n){this[t]=n}disconnectedCallback(){l(this.$$.on_disconnect)}$destroy(){Mn(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!_(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}});class Nn{$destroy(){Mn(this,1),this.$destroy=e}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){this.$$set&&!_(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Rn(t,e){document.dispatchEvent(Gt(t,Object.assign({version:"3.49.0"},e),{bubbles:!0}))}function qn(t,e){Rn("SvelteDOMInsert",{target:t,node:e}),J(t,e)}function Hn(t,e){Rn("SvelteDOMInsert",{target:t,node:e}),Z(t,e)}function In(t,e,n){Rn("SvelteDOMInsert",{target:t,node:e,anchor:n}),tt(t,e,n)}function Ln(t,e,n){Rn("SvelteDOMInsert",{target:t,node:e,anchor:n}),et(t,e,n)}function Pn(t){Rn("SvelteDOMRemove",{node:t}),nt(t)}function Bn(t,e){for(;t.nextSibling&&t.nextSibling!==e;)Pn(t.nextSibling)}function zn(t){for(;t.previousSibling;)Pn(t.previousSibling)}function Wn(t){for(;t.nextSibling;)Pn(t.nextSibling)}function Gn(t,e,n,o,r,s){const i=!0===o?["capture"]:o?Array.from(Object.keys(o)):[];r&&i.push("preventDefault"),s&&i.push("stopPropagation"),Rn("SvelteDOMAddEventListener",{node:t,event:e,handler:n,modifiers:i});const c=pt(t,e,n,o);return()=>{Rn("SvelteDOMRemoveEventListener",{node:t,event:e,handler:n,modifiers:i}),c()}}function Un(t,e,n){xt(t,e,n),null==n?Rn("SvelteDOMRemoveAttribute",{node:t,attribute:e}):Rn("SvelteDOMSetAttribute",{node:t,attribute:e,value:n})}function Yn(t,e,n){t[e]=n,Rn("SvelteDOMSetProperty",{node:t,property:e,value:n})}function Jn(t,e,n){t.dataset[e]=n,Rn("SvelteDOMSetDataset",{node:t,property:e,value:n})}function Kn(t,e){e=""+e,t.wholeText!==e&&(Rn("SvelteDOMSetData",{node:t,data:e}),t.data=e)}function Qn(t){if("string"!=typeof t&&!(t&&"object"==typeof t&&"length"in t)){let e="{#each} only iterates over array-like objects.";throw"function"==typeof Symbol&&t&&Symbol.iterator in t&&(e+=" You can use a spread to convert this iterable into an array."),new Error(e)}}function Vn(t,e,n){for(const o of Object.keys(e))~n.indexOf(o)||console.warn(`<${t}> received an unexpected slot "${o}".`)}function Xn(t){if(t&&!("string"==typeof t))throw new Error('<svelte:element> expects "this" attribute to be a string.')}function Zn(t){if(t&&ln(t))throw new Error(`<svelte:element this="${t}"> is self-closing and cannot have content.`)}exports.SvelteComponent=Nn;class to extends Nn{constructor(t){if(!t||!t.target&&!t.$$inline)throw new Error("'target' is a required option");super()}$destroy(){super.$destroy(),this.$destroy=(()=>{console.warn("Component was already destroyed")})}$capture_state(){}$inject_state(){}}exports.SvelteComponentDev=to;class eo extends to{constructor(t){super(t)}}function no(t){const e=Date.now();return()=>{if(Date.now()-e>t)throw new Error("Infinite loop detected")}}exports.SvelteComponentTyped=eo;
},{}],"NzKw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.capitalize=exports.counterOfferText=exports.equityText=void 0;var e=function(e){return 0===e?"":" and ".concat(e/10," share").concat(10===e?"":"s")};exports.equityText=e;var t=function(e){var t=e.amt,r=e.equity,o=e.director;return"".concat(o.responses.counterOffer[Math.floor(Math.random()*o.responses.accept.length)]," $").concat(t,"M").concat((0,exports.equityText)(r),"?")};exports.counterOfferText=t;var r=function(e){return e?e.slice(0,1).toUpperCase()+e.slice(1).toLocaleLowerCase():""};exports.capitalize=r;
},{}],"wedU":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.isReleaseSeason=exports.totalWeekendsOfSeason=exports.currentWeekendOfSeason=exports.isLastWeekendOfSeason=exports.nextPhase=exports.GamePhase=void 0,function(e){e.Welcome="Welcome",e.MysteryAuction="Mystery Auction",e.MysteryAuctionResults="Mystery Auction Results",e.ScottishAuction="Scottish Auction",e.Shopping="Acquire Talent",e.SpringAssembly="Prepare for Spring",e.SpringPreview="Spring Preview",e.Spring="Spring",e.SummerAssembly="Prepare for Summer",e.SummerPreview="Summer Preview",e.Summer="Summer",e.HolidayAssembly="Prepare for Holiday",e.HolidayPreview="Holiday Preview",e.Holiday="Holiday",e.GameOver="Game Over"}(e=exports.GamePhase||(exports.GamePhase={}));var s=function(s){return Object.values(e)[Object.values(e).indexOf(s)+1]};exports.nextPhase=s;var r=function(s){return s.phase===e.Spring&&s.springWeekend===s.settings.springWeeks-1||s.phase===e.Summer&&s.summerWeekend===s.settings.summerWeeks-1||s.phase===e.Holiday&&s.holidayWeekend===s.settings.holidayWeeks-1};exports.isLastWeekendOfSeason=r;var n=function(s){return s.phase===e.Spring?s.springWeekend:s.phase===e.Summer?s.summerWeekend:s.phase===e.Holiday?s.holidayWeekend:-1};exports.currentWeekendOfSeason=n;var t=function(s){return s.phase===e.Spring?s.settings.springWeeks:s.phase===e.Summer?s.settings.summerWeeks:s.phase===e.Holiday?s.settings.holidayWeeks:-1};exports.totalWeekendsOfSeason=t;var i=function(s){return s===e.Spring||s===e.Summer||s===e.Holiday};exports.isReleaseSeason=i;
},{}],"jt3s":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.allGenres=exports.Genre=void 0,function(e){e.Cyberpunk="cyberpunk",e.HardSciFi="hard sci-fi",e.TimeTravel="time travel",e.Utopia="utopia",e.SpaceOpera="space opera",e.FirstContact="first contact",e.Robots="robots",e.Dystopia="dystopia"}(e=exports.Genre||(exports.Genre={})),exports.allGenres=Object.values(e);
},{}],"XrLp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"SvelteComponent",{enumerable:!0,get:function(){return e.SvelteComponentDev}}),Object.defineProperty(exports,"SvelteComponentTyped",{enumerable:!0,get:function(){return e.SvelteComponentTyped}}),Object.defineProperty(exports,"afterUpdate",{enumerable:!0,get:function(){return e.afterUpdate}}),Object.defineProperty(exports,"beforeUpdate",{enumerable:!0,get:function(){return e.beforeUpdate}}),Object.defineProperty(exports,"createEventDispatcher",{enumerable:!0,get:function(){return e.createEventDispatcher}}),Object.defineProperty(exports,"getAllContexts",{enumerable:!0,get:function(){return e.getAllContexts}}),Object.defineProperty(exports,"getContext",{enumerable:!0,get:function(){return e.getContext}}),Object.defineProperty(exports,"hasContext",{enumerable:!0,get:function(){return e.hasContext}}),Object.defineProperty(exports,"onDestroy",{enumerable:!0,get:function(){return e.onDestroy}}),Object.defineProperty(exports,"onMount",{enumerable:!0,get:function(){return e.onMount}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(exports,"tick",{enumerable:!0,get:function(){return e.tick}});var e=require("./internal/index.mjs");
},{"./internal/index.mjs":"YkLP"}],"wQd8":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),e=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(e,r,s):n(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Player=void 0;var r=require("@colyseus/schema"),o=function(o){function n(t,e,r){var n=o.call(this)||this;return n.name=t.name,n.id=t.playerid,n.sessionId=e,n.team=t.team,n.user=t,n.client=r,n}return t(n,o),e([(0,r.type)("string")],n.prototype,"name",void 0),e([(0,r.type)("string")],n.prototype,"id",void 0),e([(0,r.type)("string")],n.prototype,"sessionId",void 0),e([(0,r.type)("string")],n.prototype,"team",void 0),n}(r.Schema);exports.Player=o;
},{"@colyseus/schema":"SdlP"}],"wXpb":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(r,e){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var e in r)Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e])})(r,e)};return function(r,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=r}t(r,e),r.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),r=this&&this.__decorate||function(t,r,e,o){var n,i=arguments.length,s=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,e):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,r,e,o);else for(var c=t.length-1;c>=0;c--)(n=t[c])&&(s=(i<3?n(s):i>3?n(r,e,s):n(r,e))||s);return i>3&&s&&Object.defineProperty(r,e,s),s};Object.defineProperty(exports,"__esModule",{value:!0}),exports.lowestScriptRating=exports.totalProfitAndLoss=exports.scriptsOf=exports.Team=void 0;var e=require("@colyseus/schema"),o=require("./Player"),n=function(n){function i(t){var r=n.call(this)||this;return r.players=new e.ArraySchema,r.bids=0,r.color=t,r}return t(i,n),r([(0,e.type)("string")],i.prototype,"color",void 0),r([(0,e.type)([o.Player])],i.prototype,"players",void 0),r([(0,e.type)("number")],i.prototype,"bids",void 0),i}(e.Schema);exports.Team=n;var i=function(t,r){return Array.from(r.scripts.values()).filter(function(r){return r.team===t||r.partnerTeam===t})};exports.scriptsOf=i;var s=function(t,r){return r.productionLog.reduce(function(r,e){return r+(e.team===t?e.amt:0)},0)};exports.totalProfitAndLoss=s;var c=function(t,r){return(0,exports.scriptsOf)(t,r).map(function(t){return t.rating}).sort(function(t,r){return t-r})[0]||0};exports.lowestScriptRating=c;
},{"@colyseus/schema":"SdlP","./Player":"wQd8"}],"Td8d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iconName=exports.getPlayerColor=exports.PLAYER_COLORS=void 0;var e=require("./index");function r(r,s,a){void 0===s&&(s=!1),void 0===a&&(a=!1),a=!0,e.team.subscribe(function(e){e.color===r&&(a=!0)});var t=exports.PLAYER_COLORS[r.toLowerCase()];return t?s?t.accessible:a?t.bright:t.default:""}exports.PLAYER_COLORS={cyan:{default:"#37b8bf",bright:"#10d7e3",border:"#0A2B37",accessible:"#abd9e9",swatches:["#5bb5e7"]},magenta:{default:"#420029",bright:"#FF009E",border:"#956D82",accessible:"#313695",swatches:["#cb7ba7"]},blue:{default:"#132D80",bright:"#2670FF",border:"#586C88",accessible:"#4575b4",swatches:["#1074b0"]},green:{default:"#003d00",bright:"#09ab09",border:"#0E3511",accessible:"#169d74",swatches:["#169d74"]},gold:{default:"#2A350C",bright:"#FFD126",border:"#413925",accessible:"#fee090",swatches:["#f0e352"]},lime:{default:"#a7bd4f",bright:"#7ec72d",border:"#6B7A57",accessible:"#fdae61",swatches:["lime"]},orange:{default:"#7A1606",bright:"#FF4A0D",border:"#AA8C76",accessible:"#f46d43",swatches:["#d35e1a"]},red:{default:"#610000",bright:"#FF0000",border:"#6B3727",accessible:"#d73027",swatches:["red"]},brown:{default:"#47341f",bright:"#A17339",border:"#2E200E",accessible:"#a50026",swatches:["brown"]},yellow:{default:"#2A350C",bright:"#FFD126",border:"#413925",accessible:"#fee090",swatches:["#f0e352"]},pink:{default:"#e169b4",bright:"#ff69b4",border:"",accessible:"#e169b4",swatches:[""]},sky:{default:"#96b9f7",bright:"#00b9f7",border:"",accessible:"#96b9f7",swatches:[""]},peach:{default:"#e6c591",bright:"#ffc591",border:"",accessible:"#e6c591",swatches:[""]},purple:{default:"#7f467f",bright:"#7f007f",border:"",accessible:"#7f467f",swatches:[""]},director:{default:"white",bright:"#A37341",border:"white",accessible:"#a50026",swatches:["brown"]}},exports.getPlayerColor=r;var s={cyan:1,magenta:1,blue:1,green:1,gold:1,lime:1,orange:1,red:1,brown:1,yellow:1},a=function(e){return e=e.toLowerCase(),s[e]?e:"placeholder"};exports.iconName=a;
},{"./index":"QCba"}],"blUS":[function(require,module,exports) {
module.exports="blue.8aaca43d.png";
},{}],"xaZH":[function(require,module,exports) {
module.exports="brown.ec4fbe5e.png";
},{}],"k7Xm":[function(require,module,exports) {
module.exports="buzz.721901a3.png";
},{}],"wIiU":[function(require,module,exports) {
module.exports="cyan.d61ab325.png";
},{}],"UDSG":[function(require,module,exports) {
module.exports="gold.4be30923.png";
},{}],"Lb66":[function(require,module,exports) {
module.exports="green.fda9ea53.png";
},{}],"lq7O":[function(require,module,exports) {
module.exports="lime.9b5899bf.png";
},{}],"uBbd":[function(require,module,exports) {
module.exports="magenta.5be2d8e3.png";
},{}],"qLa6":[function(require,module,exports) {
module.exports="orange.774ee48b.png";
},{}],"XFIn":[function(require,module,exports) {
module.exports="placeholder.902a5e61.png";
},{}],"XiUx":[function(require,module,exports) {
module.exports="red.ec967629.png";
},{}],"EPrD":[function(require,module,exports) {
module.exports="yellow.4be30923.png";
},{}],"mt6y":[function(require,module,exports) {
module.exports={blue:require("./blue.png"),brown:require("./brown.png"),buzz:require("./buzz.png"),cyan:require("./cyan.png"),gold:require("./gold.png"),green:require("./green.png"),lime:require("./lime.png"),magenta:require("./magenta.png"),orange:require("./orange.png"),placeholder:require("./placeholder.png"),red:require("./red.png"),yellow:require("./yellow.png")};
},{"./blue.png":"blUS","./brown.png":"xaZH","./buzz.png":"k7Xm","./cyan.png":"wIiU","./gold.png":"UDSG","./green.png":"Lb66","./lime.png":"lq7O","./magenta.png":"uBbd","./orange.png":"qLa6","./placeholder.png":"XFIn","./red.png":"XiUx","./yellow.png":"EPrD"}],"XR6S":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../colors"),r=require("../../"),a=require("../../../../server/src/rooms/schema/Team"),s=l(require("../../assets/teams/*.png"));function l(e){return e&&e.__esModule?e:{default:e}}function n(r){let a,l,n,o,u,c,i,d;return{c(){a=(0,e.element)("div"),l=(0,e.element)("img"),o=(0,e.text)("\n  $"),u=(0,e.element)("span"),c=(0,e.text)(r[1]),i=(0,e.text)("M"),(0,e.src_url_equal)(l.src,n=s.default[(0,t.iconName)(r[0])])||(0,e.attr)(l,"src",n),(0,e.set_style)(l,"align-self","center"),(0,e.attr)(l,"alt",r[0]),(0,e.attr)(l,"width","15"),(0,e.attr)(u,"class","revenue svelte-1jz24ml"),(0,e.set_style)(u,"--value",r[1]),(0,e.attr)(a,"class","result .pop-in svelte-1jz24ml"),(0,e.attr)(a,"style",d=`background-color: ${(0,t.getPlayerColor)(r[0])}`)},m(t,r){(0,e.insert)(t,a,r),(0,e.append)(a,l),(0,e.append)(a,o),(0,e.append)(a,u),(0,e.append)(u,c),(0,e.append)(a,i)},p(r,[o]){1&o&&!(0,e.src_url_equal)(l.src,n=s.default[(0,t.iconName)(r[0])])&&(0,e.attr)(l,"src",n),1&o&&(0,e.attr)(l,"alt",r[0]),2&o&&(0,e.set_data)(c,r[1]),2&o&&(0,e.set_style)(u,"--value",r[1]),1&o&&d!==(d=`background-color: ${(0,t.getPlayerColor)(r[0])}`)&&(0,e.attr)(a,"style",d)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(a)}}}function o(t,s,l){let n;(0,e.component_subscribe)(t,r.gamestate,e=>l(2,n=e));let o,{team:u}=s;return t.$$set=(e=>{"team"in e&&l(0,u=e.team)}),t.$$.update=(()=>{5&t.$$.dirty&&l(1,o=Math.round((0,a.totalProfitAndLoss)(u,n)))}),[u,o,n]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,o,n,e.safe_not_equal,{team:0})}}var c=u;exports.default=c;
},{"svelte/internal":"YkLP","../../colors":"Td8d","../../":"QCba","../../../../server/src/rooms/schema/Team":"wXpb","../../assets/teams/*.png":"mt6y"}],"fd11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("svelte"),n=require("../.."),r=require("../../../../server/src/rooms/schema/Team"),o=s(require("../script-stats/Revenue.svelte"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,n){const r=e.slice();return r[4]=t[n],r}function i(t){let n,r,s,l,i,a;function c(){return t[3](t[4])}return r=new o.default({props:{team:t[4].color}}),{c(){n=(0,e.element)("div"),(0,e.create_component)(r.$$.fragment),s=(0,e.space)(),(0,e.attr)(n,"class","score svelte-1nk9zb7")},m(t,o){(0,e.insert)(t,n,o),(0,e.mount_component)(r,n,null),(0,e.append)(n,s),l=!0,i||(a=(0,e.listen)(n,"click",c),i=!0)},p(e,n){t=e;const o={};1&n&&(o.team=t[4].color),r.$set(o)},i(t){l||((0,e.transition_in)(r.$$.fragment,t),l=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),l=!1},d(t){t&&(0,e.detach)(n),(0,e.destroy_component)(r),i=!1,a()}}}function a(t){let n,r,o=Array.from(t[0].teams.values()).sort(t[2]),s=[];for(let e=0;e<o.length;e+=1)s[e]=i(l(t,o,e));const a=t=>(0,e.transition_out)(s[t],1,1,()=>{s[t]=null});return{c(){n=(0,e.element)("div");for(let e=0;e<s.length;e+=1)s[e].c();(0,e.attr)(n,"class","total-score svelte-1nk9zb7")},m(t,o){(0,e.insert)(t,n,o);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r=!0},p(t,[r]){if(3&r){let c;for(o=Array.from(t[0].teams.values()).sort(t[2]),c=0;c<o.length;c+=1){const a=l(t,o,c);s[c]?(s[c].p(a,r),(0,e.transition_in)(s[c],1)):(s[c]=i(a),s[c].c(),(0,e.transition_in)(s[c],1),s[c].m(n,null))}for((0,e.group_outros)(),c=o.length;c<s.length;c+=1)a(c);(0,e.check_outros)()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)(0,e.transition_in)(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)(0,e.transition_out)(s[n]);r=!1},d(t){t&&(0,e.detach)(n),(0,e.destroy_each)(s,t)}}}function c(o,s,l){let i;(0,e.component_subscribe)(o,n.gamestate,e=>l(0,i=e));const a=(0,t.createEventDispatcher)();return[i,a,(e,t)=>(0,r.totalProfitAndLoss)(t.color,i)-(0,r.totalProfitAndLoss)(e.color,i),e=>a("selectTeam",e.color)]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,c,a,e.safe_not_equal,{})}}var f=u;exports.default=f;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../../../../server/src/rooms/schema/Team":"wXpb","../script-stats/Revenue.svelte":"XR6S"}],"HygC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),a=require("../../../../server/src/rooms/schema/Team"),s=require("../../../../server/src/shared/GamePhase"),n=require("../../colors");function r(e,t,a){const s=e.slice();return s[4]=t[a],s}function l(t){let a,n,r,l,o,p,d,c,m,i,u=(t[4].phase!==s.GamePhase.Shopping&&t[4].phase!==s.GamePhase.Preseason?`${t[4].phase}: `:"")+"",h=t[4].log+"",v=Math.round(10*t[4].amt)/10+"";return{c(){a=(0,e.element)("div"),n=(0,e.element)("div"),r=(0,e.text)(u),l=(0,e.text)(h),o=(0,e.space)(),p=(0,e.element)("div"),d=(0,e.text)("$"),c=(0,e.text)(v),m=(0,e.text)("M"),(0,e.attr)(n,"class","log"),(0,e.attr)(p,"class",i=(0,e.null_to_empty)("amt "+(t[3](t[4])?"revenue":""))+" svelte-d6ay4a"),(0,e.attr)(a,"class","row svelte-d6ay4a")},m(t,s){(0,e.insert)(t,a,s),(0,e.append)(a,n),(0,e.append)(n,r),(0,e.append)(n,l),(0,e.append)(a,o),(0,e.append)(a,p),(0,e.append)(p,d),(0,e.append)(p,c),(0,e.append)(p,m)},p(t,a){2&a&&u!==(u=(t[4].phase!==s.GamePhase.Shopping&&t[4].phase!==s.GamePhase.Preseason?`${t[4].phase}: `:"")+"")&&(0,e.set_data)(r,u),2&a&&h!==(h=t[4].log+"")&&(0,e.set_data)(l,h),2&a&&v!==(v=Math.round(10*t[4].amt)/10+"")&&(0,e.set_data)(c,v),2&a&&i!==(i=(0,e.null_to_empty)("amt "+(t[3](t[4])?"revenue":""))+" svelte-d6ay4a")&&(0,e.attr)(p,"class",i)},d(t){t&&(0,e.detach)(a)}}}function o(t){let a,s=t[4].team===t[0]&&l(t);return{c(){s&&s.c(),a=(0,e.empty)()},m(t,n){s&&s.m(t,n),(0,e.insert)(t,a,n)},p(e,t){e[4].team===e[0]?s?s.p(e,t):((s=l(e)).c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},d(t){s&&s.d(t),t&&(0,e.detach)(a)}}}function p(t){let a,s,l,p,d,c,m,i,u,h,v,_,y,g,f,x,P=t[0].toUpperCase()+"",$=t[1].productionLog,G=[];for(let e=0;e<$.length;e+=1)G[e]=o(r(t,$,e));return{c(){a=(0,e.element)("div"),s=(0,e.text)("STUDIO "),l=(0,e.element)("span"),p=(0,e.text)(P),d=(0,e.space)(),(c=(0,e.element)("div")).textContent="PRODUCTION LOG",m=(0,e.space)();for(let e=0;e<G.length;e+=1)G[e].c();i=(0,e.space)(),u=(0,e.element)("div"),(h=(0,e.element)("div")).textContent="TOTAL PROFIT",v=(0,e.space)(),_=(0,e.element)("div"),y=(0,e.text)("$"),g=(0,e.text)(t[2]),f=(0,e.text)("M"),(0,e.set_style)(l,"color",(0,n.getPlayerColor)(t[0])),(0,e.attr)(h,"class","log total svelte-d6ay4a"),(0,e.attr)(_,"class",x=(0,e.null_to_empty)(`total amt ${t[2]>0?"revenue":"loss"}`)+" svelte-d6ay4a"),(0,e.attr)(u,"class","row svelte-d6ay4a")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,s),(0,e.append)(a,l),(0,e.append)(l,p),(0,e.insert)(t,d,n),(0,e.insert)(t,c,n),(0,e.insert)(t,m,n);for(let e=0;e<G.length;e+=1)G[e].m(t,n);(0,e.insert)(t,i,n),(0,e.insert)(t,u,n),(0,e.append)(u,h),(0,e.append)(u,v),(0,e.append)(u,_),(0,e.append)(_,y),(0,e.append)(_,g),(0,e.append)(_,f)},p(t,[a]){if(1&a&&P!==(P=t[0].toUpperCase()+"")&&(0,e.set_data)(p,P),1&a&&(0,e.set_style)(l,"color",(0,n.getPlayerColor)(t[0])),11&a){let e;for($=t[1].productionLog,e=0;e<$.length;e+=1){const s=r(t,$,e);G[e]?G[e].p(s,a):(G[e]=o(s),G[e].c(),G[e].m(i.parentNode,i))}for(;e<G.length;e+=1)G[e].d(1);G.length=$.length}4&a&&(0,e.set_data)(g,t[2]),4&a&&x!==(x=(0,e.null_to_empty)(`total amt ${t[2]>0?"revenue":"loss"}`)+" svelte-d6ay4a")&&(0,e.attr)(_,"class",x)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(a),t&&(0,e.detach)(d),t&&(0,e.detach)(c),t&&(0,e.detach)(m),(0,e.destroy_each)(G,t),t&&(0,e.detach)(i),t&&(0,e.detach)(u)}}}function d(n,r,l){let o;(0,e.component_subscribe)(n,t.gamestate,e=>l(1,o=e));let{team:p}=r;let d=0;return n.$$set=(e=>{"team"in e&&l(0,p=e.team)}),n.$$.update=(()=>{3&n.$$.dirty&&l(2,d=Math.round((0,a.totalProfitAndLoss)(p,o)))}),[p,o,d,function(e){return!![s.GamePhase.Spring,s.GamePhase.Summer,s.GamePhase.Holiday].includes(e.phase)&&e.amt>0}]}class c extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,d,p,e.safe_not_equal,{team:0})}}var m=c;exports.default=m;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Team":"wXpb","../../../../server/src/shared/GamePhase":"wedU","../../colors":"Td8d"}],"S3Qj":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),e=this&&this.__decorate||function(t,e,r,o){var n,i=arguments.length,p=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)p=Reflect.decorate(t,e,r,o);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(p=(i<3?n(p):i>3?n(e,r,p):n(e,r))||p);return i>3&&p&&Object.defineProperty(e,r,p),p};Object.defineProperty(exports,"__esModule",{value:!0}),exports.unreleasedScripts=exports.scriptsByGenre=exports.budget=exports.scriptProfitAndLoss=exports.scriptRevenue=exports.mostCommonGenre=exports.getBuzz=exports.getRating=exports.setInitialRatingAndBuzz=exports.Script=exports.STUDIO_RATING=exports.STUDIO=exports.KnockoutType=void 0;var r,o=require("@colyseus/schema"),n=require("../../shared/genre");!function(t){t.Genre="genre",t.Buzz="buzz",t.Rating="rating"}(r=exports.KnockoutType||(exports.KnockoutType={})),exports.STUDIO="studio",exports.STUDIO_RATING=-50;var i=function(r){function n(t){var e=t.title,o=t.img,n=t.summary,i=t.genre,p=r.call(this)||this;return p.team="",p.partnerTeam="",p.rating=0,p.buzz=0,p.wrapped=!1,p.festivalRelease=!1,p.outOfTheater=!1,p.mysteryAuctionBidAmt=0,p.scottishAuctionBidAmt=0,p.marketing=0,p.directorEquity=0,p.directorHireAmt=0,p.castHireAmt=0,p.crewHireAmt=0,p.title=e,p.img=o,p.summary=n,p.genre=i,p}return t(n,r),e([(0,o.type)("string")],n.prototype,"title",void 0),e([(0,o.type)("string")],n.prototype,"img",void 0),e([(0,o.type)("string")],n.prototype,"summary",void 0),e([(0,o.type)("string")],n.prototype,"genre",void 0),e([(0,o.type)("string")],n.prototype,"team",void 0),e([(0,o.type)("string")],n.prototype,"partnerTeam",void 0),e([(0,o.type)("string")],n.prototype,"director",void 0),e([(0,o.type)("string")],n.prototype,"cast",void 0),e([(0,o.type)("string")],n.prototype,"crew",void 0),e([(0,o.type)("number")],n.prototype,"rating",void 0),e([(0,o.type)("number")],n.prototype,"maxRating",void 0),e([(0,o.type)("number")],n.prototype,"minRating",void 0),e([(0,o.type)("number")],n.prototype,"ratingDirection",void 0),e([(0,o.type)("number")],n.prototype,"buzz",void 0),e([(0,o.type)("number")],n.prototype,"maxBuzz",void 0),e([(0,o.type)("number")],n.prototype,"minBuzz",void 0),e([(0,o.type)("number")],n.prototype,"buzzDirection",void 0),e([(0,o.type)("boolean")],n.prototype,"wrapped",void 0),e([(0,o.type)("string")],n.prototype,"releaseSeason",void 0),e([(0,o.type)("boolean")],n.prototype,"festivalRelease",void 0),e([(0,o.type)("boolean")],n.prototype,"outOfTheater",void 0),e([(0,o.type)("string")],n.prototype,"knockoutReason",void 0),e([(0,o.type)("number")],n.prototype,"mysteryAuctionBidAmt",void 0),e([(0,o.type)("number")],n.prototype,"scottishAuctionBidAmt",void 0),e([(0,o.type)("number")],n.prototype,"marketing",void 0),e([(0,o.type)("number")],n.prototype,"directorEquity",void 0),e([(0,o.type)("number")],n.prototype,"directorHireAmt",void 0),e([(0,o.type)("number")],n.prototype,"castHireAmt",void 0),e([(0,o.type)("number")],n.prototype,"crewHireAmt",void 0),n}(o.Schema);function p(t,e){t.rating=Math.round(Math.random()*(e.settings.maxScriptRating-e.settings.minScriptRating)+e.settings.minScriptRating),t.buzz=Math.round(Math.random()*(e.settings.maxBuzzRating-e.settings.minBuzzRating)+e.settings.minBuzzRating)}exports.Script=i,exports.setInitialRatingAndBuzz=p;var s=function(t,e,r,o){void 0===o&&(o=!1);var n=(null==r?void 0:r.dir)||t.director,i=(null==r?void 0:r.cst)||t.cast,p=(null==r?void 0:r.crw)||t.crew,s=e.directors.get(n),u=e.cast.get(i),c=e.crew.get(p),a=(null==u?void 0:u.goodGenres.includes(t.genre))?25:(null==u?void 0:u.badGenres.includes(t.genre))?-25:i===exports.STUDIO?-50:0,y=t.rating+((null==c?void 0:c.rating)||(p===exports.STUDIO?exports.STUDIO_RATING:0))+((null==s?void 0:s.genres.includes(t.genre))?25:0)+a;return o?y:y>100?100:y<=0?.1:y};exports.getRating=s;var u=function(t,e){return void 0===e&&(e=!1),e?t.buzz:t.buzz<=0?.1:t.buzz>100?100:t.buzz};exports.getBuzz=u;var c=function(t){var e=t.slice().sort(function(e,r){return t.filter(function(t){return t===e}).length-t.filter(function(t){return t===r}).length}).pop();return t.filter(function(t){return t===e}).length>1?e:void 0};exports.mostCommonGenre=c;var a=function(t,e){return Array.from(e.results).filter(function(e){return e.script===t}).reduce(function(t,e){return t+e.earnings},0)};exports.scriptRevenue=a;var y=function(t,e,r){var o=r.scripts.get(t),n=(0,exports.scriptRevenue)(t,r),i=n*o.directorEquity/100,p=n-(i+(0,exports.budget)(o)),s=o.partnerTeam?p/2:0,u=p-s-i;return e===o.partnerTeam?s:u};exports.scriptProfitAndLoss=y;var d=function(t){return t.mysteryAuctionBidAmt+t.scottishAuctionBidAmt+t.castHireAmt+t.crewHireAmt+t.directorHireAmt+t.marketing};exports.budget=d;var m=function(t,e){var r=Array.from(e.scripts.values()).filter(function(e){return e.releaseSeason===t}),o={};return Object.values(n.Genre).forEach(function(t){return o[t]=r.filter(function(e){return e.genre===t})}),o};exports.scriptsByGenre=m;var g=function(t){return Array.from(t.scripts.values()).filter(function(t){return t.team}).filter(function(t){return!t.outOfTheater})};exports.unreleasedScripts=g;
},{"@colyseus/schema":"SdlP","../../shared/genre":"jt3s"}],"sV1V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scripts=exports.POSTERS_URL=void 0;var e=require("../shared/genre");exports.POSTERS_URL="https://s3.us-east-2.amazonaws.com/resources.synthesis.is/assets/hollywood/posters/",exports.scripts=[{title:"Chimer Practor",genre:e.Genre.Cyberpunk,summary:"A genetic engineer recreates several mythical creatures like the dragon, chimera and more, to pit them in a battle royale for the whole world to see.",img:"ChimerPractor.jpg"},{title:"Gardenia",genre:e.Genre.Utopia,summary:"A young trainee studies to pilotsail a floating forestcraft that allows food to be taken anywhere in the world. ",img:"Gardenia.jpg"},{title:"Second Home",genre:e.Genre.HardSciFi,summary:"The true story of the first, manned colonial mission to Mars",img:"ASecondHome.jpg"},{title:"Chaos Trials",genre:e.Genre.Robots,summary:"Robots compete in a series of games involving extreme computations like calculating the exact spot lightning will strike, where the winner is rewarded an extended battery life.",img:"ChaosTrials.jpg"},{title:"Fable of the Dragon",genre:e.Genre.Cyberpunk,summary:"Warriors from all over the empire compete in the cyberking's tournament where the winner fights the dreaded Metal Hydra, but one day a young fighter discovers that the whole thing might be a lie.",img:"FableoftheDragon.jpg"},{title:"Wavelength",genre:e.Genre.TimeTravel,summary:"A woman driving her car late one night discovers a mysterious radio station beaming a radio show from the future",img:"Wavelength.jpg"},{title:"First Person Experience",genre:e.Genre.Dystopia,summary:"People in need of money sign up to be controlled as real life video game characters",img:"FirstPersonExperience.jpg"},{title:"Planck Law",genre:e.Genre.HardSciFi,summary:"Philosophers and scientists try to establish the real world impact of quantum truth that can somehow be two things at once, when quantum tech is accidentally invented",img:"PlanckLaw.jpg"},{title:"Infinity and Beyond",genre:e.Genre.Utopia,summary:"A hyper advanced civilization digitizes their entire people and uploads them onto an autopiloted spaceship that takes them on an infinite journey through the cosmos",img:"InfinityandBeyond.jpg"},{title:"Cloud IX",genre:e.Genre.SpaceOpera,summary:"A fog distiller on Venus discovers a substance that could be the key to humanity's happiness. But things take a turn when people of Cloud City get TOO happy. ",img:"CloudIX.jpg"},{title:"Astra",genre:e.Genre.HardSciFi,summary:"Fumbling of the solar Dyson Ray codes that threaten to start war between the interplanetary powers",img:"Astra.jpg"},{title:"Omni Link",genre:e.Genre.FirstContact,summary:"Humanity and an alien race collaborate to create a wormhole that will link their two worlds across galaxies",img:"OmniLink.jpg"},{title:"Terminus in Decline",genre:e.Genre.Dystopia,summary:"Tensions break out on a dying planet's teleportation stations as it's panicked citizens try to escape off world",img:"TerminusinDecline.jpg"},{title:"Read Only Me",genre:e.Genre.Robots,summary:"By recovering a lost partition of memory during routine repair, a robot gains access to it's long hidden past that entails generations of secrets and surprisingly human origins.",img:"ReadOnlyMe.jpg"},{title:"Hello World",genre:e.Genre.Robots,summary:"When none of them speaks each other's language, A lone translator bot must help a group of people survive when their international cruise ship drowns and strands them on a deserted island. ",img:"HelloWorld.jpg"},{title:"The Curie Constant",genre:e.Genre.TimeTravel,summary:"One woman slows down the universe, when she discovers that Time itself has a half-life",img:"TheCurieConstant.jpg"},{title:"Friction",genre:e.Genre.Cyberpunk,summary:"A man forms an unlikely friendship with the AI interface of his new robot arm when at first he fails to sync up with it",img:"Friction.jpg"},{title:"Horizon of Fate",genre:e.Genre.FirstContact,summary:"Explorers in a star-sized spaceship encounter sentient beings beyond the boundary of a small black hole, changing the fates of the two species forever. ",img:"HorizonofFate.jpg"},{title:"Dilation",genre:e.Genre.TimeTravel,summary:"A purchasable time dilator allows people to either greatly slow down or greatly accelerate time, in small pockets of space",img:"Dilation.jpg"},{title:"C",genre:e.Genre.HardSciFi,summary:"An exploration into the elegance of the speed of light",img:"C.png"},{title:"Space Lizard's",genre:e.Genre.SpaceOpera,summary:"A planet governed by an unlikely reptile",img:"SpaceLizards.png"},{title:"Piezosaurs",genre:e.Genre.FirstContact,summary:"Deep sea explorers in a pressure resistant submarine encounter the stranger-than-alien life at the bottom of the ocean floor",img:"Piezosaurs.jpg"},{title:"Uh Oh!",genre:e.Genre.FirstContact,summary:"Astronauts encounter an intelligent race of space dogs, only to find out that they're not good boys at all",img:"UhOh.jpg"},{title:"Betelgeuse",genre:e.Genre.Utopia,summary:"An intergalactic star collector bids to win Betelgeuse as a final addition to his collection",img:"Betelgeuse.jpg"},{title:"Elastic City",genre:e.Genre.Dystopia,summary:"Future humanity lives in bouncing sphere cities that use large springs to store the shock energy. One day a young girl discovers the dark truth behind who really set the ball rolling...",img:"ElasticCity.jpg"},{title:"Space Danky",genre:e.Genre.SpaceOpera,summary:"An abandoned space station is found containing yottabytes of memes of a lost alien race",img:"SpaceDanky.jpg"},{title:"Philiobyte",genre:e.Genre.Cyberpunk,summary:" People buy Brain Drives that allow them to record and play back their experiences but society flips when people start choosing to live in their happiest memories rather than the present moment",img:"Philiobyte.jpg"},{title:"Crimer",genre:e.Genre.TimeTravel,summary:"A man wakes up from a coma in a futuristic prison having lost his memories. Having nobody to call, the prison allows him to send messages to his past self, back in time ",img:"Crimer.jpg"},{title:"Wuji",genre:e.Genre.Utopia,summary:"The life of a man living alone on a small island in the middle of the Arctic Ocean yet still connected to friends, family and work through his inventions",img:"Wuji.jpg"},{title:"Space Grasshoppers Cometh",genre:e.Genre.FirstContact,summary:"'nuff said.",img:"SpaceGrasshoppersCometh.jpg"},{title:"Meniscus",genre:e.Genre.Utopia,summary:"Humanity studies the intricate ecosystem of the oceans and moves into underwater colonies, beginning the Aqua Age",img:"Meniscus.jpg"},{title:"Buggers",genre:e.Genre.FirstContact,summary:"A lonely insect farmer learns to communicate with her insects and an unlikely new world opens up to her",img:"Buggers.jpg"},{title:"Ky Mart",genre:e.Genre.SpaceOpera,summary:"A convenience store clerk on a lone asteroid of the Kuiper Belt gets involved in a strange after-hours adventure",img:"KyMart.jpg"},{title:"Time Traveling Toilets from Terkon-Two",genre:e.Genre.FirstContact,summary:"An animated comedy where humanity fights against its weirdest invaders yet",img:"TTTFT2.png"},{title:"Geovanni",genre:e.Genre.SpaceOpera,summary:"A comedy about an eccentric planet designer who struggles to find his next big idea",img:"Geovanni.jpg"},{title:"Uncanny Valley",genre:e.Genre.Robots,summary:"A group of misfit robots cast out of society discover authentic emotions when they find a human baby one day and embark on a journey to return her home.",img:"UncannyValley.jpg"},{title:"Lightspeed (or) Godspeed",genre:e.Genre.Utopia,summary:"Competitors must combine speed, navigation and endurance whilst journeying through all the planets of the solar system in the system's ultimate space race",img:"Godspeed.jpg"},{title:"Thank You For You",genre:e.Genre.TimeTravel,summary:"A time traveler traverses eras meeting famous, influential people who died before seeing success to tell them about their impact in the future. ",img:"ThankYouForYou.jpg"},{title:"Sun Song",genre:e.Genre.SpaceOpera,summary:"An innovative musician tries to synthesize the Sun's frequencies to make the very first star song",img:"SunSong.jpg"},{title:"Unbound",genre:e.Genre.Cyberpunk,summary:"To preserve their DNA, the last individual animals of extinct species are made cyborgs but they evolve a will of their when they begin to communicate with each other.",img:"Unbound.jpg"},{title:"Xero's Paradox",genre:e.Genre.TimeTravel,summary:"A man sends baby clones of himself to the future with the formula for time travel, but when they return to the present the adult clones have plans of their own",img:"XerosParadox.jpg"},{title:"Excramia",genre:e.Genre.Dystopia,summary:"Living in the City becomes so crowded and costly that people are forced to move into sealed hazmat colonies atop the world's first garbage island.",img:"Excramia.jpg"},{title:"Comic Relief",genre:e.Genre.Robots,summary:"The funniest robots from all over the world are brought together to help a sad billionaire bring joy back into her life.",img:"ComicRelief.jpg"},{title:"FOMO (Freeze Occipital Motor Operations)",genre:e.Genre.FirstContact,summary:"A coming of age story of a group of kids from the 2000's adjusting to future society after waking up from 300 years of cryogenic sleep.",img:"FOMO.jpg"},{title:"Metathlon 2072",genre:e.Genre.Cyberpunk,summary:"Cybernetically enhanced athletes compete in the world's most grueling triathlon through the Mariana Trench, up Mt. Everest and sand-cycling in the Sahara Desert",img:"Metathlon2072.jpg"},{title:"Cerespiracy",genre:e.Genre.FirstContact,summary:"Miners discover an alien microbe in an asteroid that then, begins to communicate with them and reveals that humanity's history has largely been manipulated by an evil strain of the microbe species. ",img:"Cerespiracy.jpg"},{title:"Spooky Action",genre:e.Genre.HardSciFi,summary:"Unexplained phenomena at a galactic scale threatens to disrupt human progress",img:"SpookyAction.jpg"},{title:"Mill Of Time",genre:e.Genre.TimeTravel,summary:"Scientists rush back to the past to try and undo the devastating effects of the Perpetuon, the temporal turbine powered by Time itself",img:"MillofTime.jpg"},{title:"Sidaqua",genre:e.Genre.Dystopia,summary:"A young boy from the Top sneaks away from his rich family to witness the truth of the water cycle and the troubles of those in the lower levels of the Great Water Tower where all of humanity lives.",img:"Sidaqua.jpg"},{title:"Tree of Life",genre:e.Genre.Cyberpunk,summary:"A talented organ craftswoman is tasked to use her stem cell skills to create a body for the world's first autonomous AI",img:"TreeofLife.jpg"},{title:"Einstein's Ghost",genre:e.Genre.TimeTravel,summary:"Scientists from the future travel to the past to offer Einstein a life extension pill that will sustain him till he one day invents time travel",img:"EinsteinsGhost.jpg"},{title:"Homecoming",genre:e.Genre.FirstContact,summary:"Astronauts rescue an intriguing stranger and upon contact, all feel the strong desire to travel to a nearby world ruled by a mind-controlling mushroom.",img:"Homecoming.jpg"},{title:"Quanta",genre:e.Genre.Dystopia,summary:'As the Earth gets more crowded, people are turned into "Ghosts" that can occupy the same space at once. But life is never again the same',img:"Quanta.png"},{title:"Galaxia",genre:e.Genre.Utopia,summary:"A young boy forms a telepathic friendship with a sentient planet. Together they embark on mind-bending cosmic adventures",img:"Galaxia.png"},{title:"A Clean Conscience",genre:e.Genre.Robots,summary:"An outdated debris cleaner bot embarks on a breathtaking journey through Earth's outer orbit to fulfil its programmed purpose, learning profound lessons about the meaning of life along the way.",img:"ACleanConscience.jpg"},{title:"Multiverse",genre:e.Genre.HardSciFi,summary:"Two versions of the same man, team up to fight an evil version of themselves from a third universe",img:"Multiverse.jpg"},{title:"Genesys",genre:e.Genre.HardSciFi,summary:"A cytographer shrinks himself to microscopic scale to explore and map the structure of cells. By chance, he discovers the secrets of the origins of life",img:"Genesys.jpg"},{title:"Mutter Chaos",genre:e.Genre.HardSciFi,summary:"A man discovers that he can speak objects into existence. Things take a turn when he can't turn off his newfound power.",img:"MutterChaos.jpg"},{title:"Solarpunk",genre:e.Genre.Utopia,summary:"A story of two families who bond over a year long journey on a massive solar airship  ",img:"Solarpunk.jpg"},{title:"Anonymous Donor",genre:e.Genre.TimeTravel,summary:"A hacker accidentally discovers how to send money back through time and invests in his present by transferring cash to his past.",img:"AnonymousDonor.jpg"},{title:"Hermes Gamma",genre:e.Genre.TimeTravel,summary:" A man discovers speed shoes that double his speed every time he uses them. On each use, he is taken further and further into the distant future.",img:"HermesGamma.jpg"},{title:"Mean Average",genre:e.Genre.SpaceOpera,summary:"Drama at the prestigious private space academy, LeSaint Proximus",img:"MeanAverage.jpg"},{title:"Erg",genre:e.Genre.HardSciFi,summary:"A civilization built one centimeter at a time over billions of years",img:"Erg.png"},{title:"2B or !2B",genre:e.Genre.Robots,summary:"Two performer bots programmed by a playwright to act as rivals in a play, take their rivalry into the real world even after the story ends. ",img:"2Bor2B.jpg"},{title:"The Code Of Lost Beings",genre:e.Genre.Robots,summary:" A lone astronaut stranded in an unknown region of space finds an abandoned space temple, maintained and run by robots. Through their interactions, he finds himself and makes peace with his messy past.",img:"TheCodeofLostBeings.jpg"},{title:"Entropy",genre:e.Genre.HardSciFi,summary:"The last worlds with life, nearing the end of the universe, try to establish contact with each other",img:"Entropy.jpg"},{title:"Time, for School.",genre:e.Genre.TimeTravel,summary:"Interconnected stories from Temponaut Academy where young adults train to become time travelers",img:"TimeforSchool.jpg"},{title:"We're Going Where We Don't Need Roads",genre:e.Genre.SpaceOpera,summary:"A taxi pilot forms a romance with a quirky woman who he boards from a peculiar star system",img:"WereGoingWhereWeDontNeedRoads.png"},{title:"Polymer",genre:e.Genre.TimeTravel,summary:"A man travels back in time to prevent the invention of plastic. He returns to a radically different world",img:"Polymer.jpg"},{title:"The Zeroth Straw",genre:e.Genre.Robots,summary:"Robots struggle to follow the laws of their inferior creators",img:"ZerothLaw.jpg"},{title:"Golden Codices",genre:e.Genre.FirstContact,summary:"Scientists and linguists work on decoding a mysterious set of objects that seem to be replies to the Golden Record sent by NASA into space",img:"GoldenCodices.jpg"},{title:"0070",genre:e.Genre.SpaceOpera,summary:"A secret spy program in a base in the Sun's core produces a young hero who must save the galaxy from an intergalactic crime syndicate before it's too late",img:"0070.jpg"},{title:"Bottleneck",genre:e.Genre.Robots,summary:"The galactic central computer has a faulty wire. The robots who've been controlled by it have their first holiday in a 100 years",img:"Bottleneck.png"},{title:"The Frigid Sun",genre:e.Genre.Dystopia,summary:"A team of brave explorers drill to the Earth's core to open up it's heat to the surface as the Sun reaches it's expiry date",img:"TheFrigidSun.png"},{title:"Ms. Mobiam",genre:e.Genre.TimeTravel,summary:"The mind-bending autobiography of the world's first time traveler.",img:"MsMobiam.jpg"},{title:"The Sound of Vacuum",genre:e.Genre.SpaceOpera,summary:"A musical of a young couple from rival planets finding love in the farthest reaches of space",img:"TheSoundofVacuum.jpg"},{title:"Giga Mecha Battle Royale",genre:e.Genre.Robots,summary:"A galaxy bending tale of giant mecha robots and their engineers representing their home planets in an intergalactic battle tournament of epic scale",img:"GigaMechaBattleRoyale.jpg"}];
},{"../shared/genre":"jt3s"}],"kDjJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal");function e(e){let r,n,c,a,s;return{c(){r=(0,t.svg_element)("svg"),n=(0,t.svg_element)("g"),c=(0,t.svg_element)("g"),a=(0,t.svg_element)("path"),(0,t.attr)(a,"class","st0"),(0,t.attr)(a,"d","M77.14,336.75c-19.47,0-38.95-0.12-58.42,0.06c-7.12,0.07-12.94-1.9-16.55-8.33\n\t\t\tc-3.71-6.62-2.3-12.88,1.56-19.01c22.67-35.94,45.29-71.91,67.91-107.88c39.31-62.49,78.62-124.99,117.94-187.48\n\t\t\tc1.23-1.95,2.45-3.9,3.74-5.8c5.15-7.55,13.16-10.2,20.76-6.9c7.61,3.31,11.43,11.03,9.29,19.81\n\t\t\tc-4.81,19.77-9.84,39.49-14.8,59.22c-10.23,40.67-20.48,81.33-30.72,122c-1.51,6.01-1.5,6.02,4.88,6.02\n\t\t\tc39.12,0,78.25,0.08,117.37-0.07c7.47-0.03,13.73,1.61,17.48,8.57c3.73,6.91,1.83,13.21-2.11,19.46\n\t\t\tc-52.09,82.7-104.11,165.44-156.16,248.16c-10.94,17.38-21.8,34.81-32.9,52.09c-5.57,8.67-14.92,10.92-23,6.02\n\t\t\tc-6.46-3.92-9.09-10.94-6.97-19.48c7.69-30.91,15.46-61.79,23.22-92.68c7.38-29.34,14.68-58.71,22.28-87.99\n\t\t\tc1.3-5.02,0.03-5.95-4.79-5.89C117.15,336.88,97.15,336.75,77.14,336.75z"),(0,t.attr)(n,"id","q5V35I.tif"),(0,t.attr)(r,"version","1.1"),(0,t.attr)(r,"id","Layer_1"),(0,t.attr)(r,"xmlns","http://www.w3.org/2000/svg"),(0,t.attr)(r,"xmlns:xlink","http://www.w3.org/1999/xlink"),(0,t.attr)(r,"x","0px"),(0,t.attr)(r,"y","0px"),(0,t.attr)(r,"width",s=`${e[1]}px`),(0,t.attr)(r,"viewBox","0 0 319.59 545.24"),(0,t.set_style)(r,"enable-background","new 0 0 319.59 545.24"),(0,t.attr)(r,"xml:space","preserve"),(0,t.attr)(r,"fill",e[0])},m(e,s){(0,t.insert)(e,r,s),(0,t.append)(r,n),(0,t.append)(n,c),(0,t.append)(c,a)},p(e,[n]){2&n&&s!==(s=`${e[1]}px`)&&(0,t.attr)(r,"width",s),1&n&&(0,t.attr)(r,"fill",e[0])},i:t.noop,o:t.noop,d(e){e&&(0,t.detach)(r)}}}function r(t,e,r){let{color:n}=e,{width:c}=e;return t.$$set=(t=>{"color"in t&&r(0,n=t.color),"width"in t&&r(1,c=t.width)}),[n,c]}class n extends t.SvelteComponent{constructor(n){super(),(0,t.init)(this,n,r,e,t.safe_not_equal,{color:0,width:1})}}var c=n;exports.default=c;
},{"svelte/internal":"YkLP"}],"k0lJ":[function(require,module,exports) {
module.exports="cyberpunk-gray.84f4d250.png";
},{}],"mKjw":[function(require,module,exports) {
module.exports="cyberpunk.59fb8796.png";
},{}],"Rp9O":[function(require,module,exports) {
module.exports="dystopia-gray.0bc38da1.png";
},{}],"laLp":[function(require,module,exports) {
module.exports="dystopia.3dd04585.png";
},{}],"rukh":[function(require,module,exports) {
module.exports="first contact-gray.f469e605.png";
},{}],"ZHnD":[function(require,module,exports) {
module.exports="first contact.9d8bf2f9.png";
},{}],"i6nc":[function(require,module,exports) {
module.exports="hard sci-fi-gray.03c5283a.png";
},{}],"ELDV":[function(require,module,exports) {
module.exports="hard sci-fi.6328e416.png";
},{}],"f1sY":[function(require,module,exports) {
module.exports="robots-gray.204f87a4.png";
},{}],"boW2":[function(require,module,exports) {
module.exports="robots.cd4fa8a3.png";
},{}],"c0e2":[function(require,module,exports) {
module.exports="space opera-gray.ab6d1198.png";
},{}],"GJTD":[function(require,module,exports) {
module.exports="space opera.4f5bfd00.png";
},{}],"GWKz":[function(require,module,exports) {
module.exports="time travel-gray.1c845ecf.png";
},{}],"DSpZ":[function(require,module,exports) {
module.exports="time travel.747de04e.png";
},{}],"oP9g":[function(require,module,exports) {
module.exports="utopia-gray.b9058a2a.png";
},{}],"e27g":[function(require,module,exports) {
module.exports="utopia.1d6dbea5.png";
},{}],"dY2x":[function(require,module,exports) {
module.exports={"cyberpunk-gray":require("./cyberpunk-gray.png"),cyberpunk:require("./cyberpunk.png"),"dystopia-gray":require("./dystopia-gray.png"),dystopia:require("./dystopia.png"),"first contact-gray":require("./first contact-gray.png"),"first contact":require("./first contact.png"),"hard sci-fi-gray":require("./hard sci-fi-gray.png"),"hard sci-fi":require("./hard sci-fi.png"),"robots-gray":require("./robots-gray.png"),robots:require("./robots.png"),"space opera-gray":require("./space opera-gray.png"),"space opera":require("./space opera.png"),"time travel-gray":require("./time travel-gray.png"),"time travel":require("./time travel.png"),"utopia-gray":require("./utopia-gray.png"),utopia:require("./utopia.png")};
},{"./cyberpunk-gray.png":"k0lJ","./cyberpunk.png":"mKjw","./dystopia-gray.png":"Rp9O","./dystopia.png":"laLp","./first contact-gray.png":"rukh","./first contact.png":"ZHnD","./hard sci-fi-gray.png":"i6nc","./hard sci-fi.png":"ELDV","./robots-gray.png":"f1sY","./robots.png":"boW2","./space opera-gray.png":"c0e2","./space opera.png":"GJTD","./time travel-gray.png":"GWKz","./time travel.png":"DSpZ","./utopia-gray.png":"oP9g","./utopia.png":"e27g"}],"DCT3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=r(require("../../assets/genre/*.png"));function r(e){return e&&e.__esModule?e:{default:e}}function n(t){let r,n,s=t[0].toUpperCase()+"";return{c(){r=(0,e.element)("span"),n=(0,e.text)(s)},m(t,s){(0,e.insert)(t,r,s),(0,e.append)(r,n)},p(t,r){1&r&&s!==(s=t[0].toUpperCase()+"")&&(0,e.set_data)(n,s)},d(t){t&&(0,e.detach)(r)}}}function s(r){let s,l,o,a,c,i,p,u,d,v=r[1]&&n(r);return{c(){s=(0,e.element)("div"),l=(0,e.element)("div"),a=(0,e.space)(),c=(0,e.element)("img"),u=(0,e.space)(),v&&v.c(),d=(0,e.empty)(),(0,e.attr)(l,"class",o="center "+(r[3]?"glow":"")+" svelte-17yvi75"),(0,e.set_style)(l,"--color",r[4]),(0,e.attr)(c,"class",i=(0,e.null_to_empty)(r[2]?"invert":"")+" svelte-17yvi75"),(0,e.src_url_equal)(c.src,p=t.default[r[0]])||(0,e.attr)(c,"src",p),(0,e.attr)(c,"alt",r[0]),(0,e.attr)(s,"class","wrap svelte-17yvi75")},m(t,r){(0,e.insert)(t,s,r),(0,e.append)(s,l),(0,e.append)(s,a),(0,e.append)(s,c),(0,e.insert)(t,u,r),v&&v.m(t,r),(0,e.insert)(t,d,r)},p(r,[s]){8&s&&o!==(o="center "+(r[3]?"glow":"")+" svelte-17yvi75")&&(0,e.attr)(l,"class",o),16&s&&(0,e.set_style)(l,"--color",r[4]),4&s&&i!==(i=(0,e.null_to_empty)(r[2]?"invert":"")+" svelte-17yvi75")&&(0,e.attr)(c,"class",i),1&s&&!(0,e.src_url_equal)(c.src,p=t.default[r[0]])&&(0,e.attr)(c,"src",p),1&s&&(0,e.attr)(c,"alt",r[0]),r[1]?v?v.p(r,s):((v=n(r)).c(),v.m(d.parentNode,d)):v&&(v.d(1),v=null)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(s),t&&(0,e.detach)(u),v&&v.d(t),t&&(0,e.detach)(d)}}}function l(e,t,r){let{genre:n}=t,{showText:s=!0}=t,{invert:l=!1}=t,{glow:o=!1}=t,{color:a="none"}=t;return e.$$set=(e=>{"genre"in e&&r(0,n=e.genre),"showText"in e&&r(1,s=e.showText),"invert"in e&&r(2,l=e.invert),"glow"in e&&r(3,o=e.glow),"color"in e&&r(4,a=e.color)}),[n,s,l,o,a]}class o extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,l,s,e.safe_not_equal,{genre:0,showText:1,invert:2,glow:3,color:4})}}var a=o;exports.default=a;
},{"svelte/internal":"YkLP","../../assets/genre/*.png":"dY2x"}],"Y7LC":[function(require,module,exports) {
module.exports="0-3.325a110b.png";
},{}],"c4nm":[function(require,module,exports) {
module.exports="3-7.bab06ada.png";
},{}],"NR8V":[function(require,module,exports) {
module.exports="7-10.6054dca1.png";
},{}],"WD7T":[function(require,module,exports) {
module.exports="hex.3f3731da.png";
},{}],"mXLv":[function(require,module,exports) {
module.exports="synthesis.902a5e61.png";
},{}],"osOg":[function(require,module,exports) {
module.exports={"0-3":require("./0-3.png"),"3-7":require("./3-7.png"),"7-10":require("./7-10.png"),hex:require("./hex.png"),synthesis:require("./synthesis.png")};
},{"./0-3.png":"Y7LC","./3-7.png":"c4nm","./7-10.png":"NR8V","./hex.png":"WD7T","./synthesis.png":"mXLv"}],"SNIV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=n(require("../../assets/icons/*.png"));function n(t){return t&&t.__esModule?t:{default:t}}function r(e){let n,r,a=Math.round(e[0])/10+"";return{c(){n=(0,t.element)("span"),r=(0,t.text)(a),(0,t.attr)(n,"class","svelte-1tog9rt")},m(e,a){(0,t.insert)(e,n,a),(0,t.append)(n,r)},p(e,n){1&n&&a!==(a=Math.round(e[0])/10+"")&&(0,t.set_data)(r,a)},d(e){e&&(0,t.detach)(n)}}}function a(n){let a,s,i,o,l=n[1]&&r(n);return{c(){a=(0,t.element)("img"),i=(0,t.space)(),l&&l.c(),o=(0,t.empty)(),(0,t.src_url_equal)(a.src,s=e.default.hex)||(0,t.attr)(a,"src",s),(0,t.attr)(a,"alt","script rating"),(0,t.attr)(a,"class","svelte-1tog9rt")},m(e,n){(0,t.insert)(e,a,n),(0,t.insert)(e,i,n),l&&l.m(e,n),(0,t.insert)(e,o,n)},p(t,[e]){t[1]?l?l.p(t,e):((l=r(t)).c(),l.m(o.parentNode,o)):l&&(l.d(1),l=null)},i:t.noop,o:t.noop,d(e){e&&(0,t.detach)(a),e&&(0,t.detach)(i),l&&l.d(e),e&&(0,t.detach)(o)}}}function s(t,e,n){let{rating:r}=e,{showRating:a=!0}=e;return t.$$set=(t=>{"rating"in t&&n(0,r=t.rating),"showRating"in t&&n(1,a=t.showRating)}),[r,a]}class i extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,s,a,t.safe_not_equal,{rating:0,showRating:1})}}var o=i;exports.default=o;
},{"svelte/internal":"YkLP","../../assets/icons/*.png":"osOg"}],"JAzh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=require("../../../../server/src/rooms/schema/Script"),r=require("../../../../server/src/state/scripts"),a=require("../../colors"),s=c(require("../icons/BuzzIcon.svelte")),o=c(require("../script-stats/Genre.svelte")),i=c(require("../script-stats/Rating.svelte")),l=c(require("../../assets/teams/*.png"));function c(t){return t&&t.__esModule?t:{default:t}}function p(e){let r,a,s,o,i,l=Math.round((0,n.scriptRevenue)(e[0].title,e[6])-(0,n.budget)(e[0]))+"";return{c(){r=(0,t.element)("div"),a=(0,t.text)("$"),s=(0,t.text)(l),o=(0,t.text)("M"),(0,t.attr)(r,"class","profit svelte-ezxij8"),(0,t.attr)(r,"style",i=`background-color: ${(0,n.scriptRevenue)(e[0].title,e[6])>(0,n.budget)(e[0])?"black":"red"}`)},m(e,n){(0,t.insert)(e,r,n),(0,t.append)(r,a),(0,t.append)(r,s),(0,t.append)(r,o)},p(e,a){65&a&&l!==(l=Math.round((0,n.scriptRevenue)(e[0].title,e[6])-(0,n.budget)(e[0]))+"")&&(0,t.set_data)(s,l),65&a&&i!==(i=`background-color: ${(0,n.scriptRevenue)(e[0].title,e[6])>(0,n.budget)(e[0])?"black":"red"}`)&&(0,t.attr)(r,"style",i)},d(e){e&&(0,t.detach)(r)}}}function u(e){let n,r,s,o,i;return{c(){n=(0,t.element)("div"),r=(0,t.element)("img"),(0,t.src_url_equal)(r.src,s=l.default[(0,a.iconName)(e[0].partnerTeam)])||(0,t.attr)(r,"src",s),(0,t.attr)(r,"alt",o=e[0].partnerTeam),(0,t.attr)(r,"width","22"),(0,t.attr)(n,"class","team svelte-ezxij8"),(0,t.attr)(n,"style",i=`background-color: ${(0,a.getPlayerColor)(e[0].partnerTeam)};`)},m(e,a){(0,t.insert)(e,n,a),(0,t.append)(n,r)},p(e,c){1&c&&!(0,t.src_url_equal)(r.src,s=l.default[(0,a.iconName)(e[0].partnerTeam)])&&(0,t.attr)(r,"src",s),1&c&&o!==(o=e[0].partnerTeam)&&(0,t.attr)(r,"alt",o),1&c&&i!==(i=`background-color: ${(0,a.getPlayerColor)(e[0].partnerTeam)};`)&&(0,t.attr)(n,"style",i)},d(e){e&&(0,t.detach)(n)}}}function d(e){let n,r,a;return r=new o.default({props:{genre:e[0].genre,showText:!1}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),(0,t.attr)(n,"class","genre svelte-ezxij8")},m(e,s){(0,t.insert)(e,n,s),(0,t.mount_component)(r,n,null),a=!0},p(t,e){const n={};1&e&&(n.genre=t[0].genre),r.$set(n)},i(e){a||((0,t.transition_in)(r.$$.fragment,e),a=!0)},o(e){(0,t.transition_out)(r.$$.fragment,e),a=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(r)}}}function m(e){let n,r,a=e[0].title+"";return{c(){n=(0,t.element)("div"),r=(0,t.text)(a),(0,t.attr)(n,"class","title title-font svelte-ezxij8")},m(e,a){(0,t.insert)(e,n,a),(0,t.append)(n,r)},p(e,n){1&n&&a!==(a=e[0].title+"")&&(0,t.set_data)(r,a)},d(e){e&&(0,t.detach)(n)}}}function _(e){let r,a,l,c,p,u,d,m,_,g,h,f,v,$,w,x=Math.round((0,n.scriptRevenue)(e[0].title,e[6]))+"",R=Math.round((0,n.getBuzz)(e[0]))/10+"";return d=new s.default({props:{color:"white",width:6}}),h=new i.default({props:{rating:Math.round((0,n.getRating)(e[0],e[6]))}}),$=new o.default({props:{genre:e[0].genre}}),{c(){r=(0,t.element)("div"),a=(0,t.element)("div"),l=(0,t.text)("REVENUE: $"),c=(0,t.text)(x),p=(0,t.text)("M"),u=(0,t.space)(),(0,t.create_component)(d.$$.fragment),m=(0,t.space)(),_=(0,t.text)(R),g=(0,t.space)(),(0,t.create_component)(h.$$.fragment),f=(0,t.space)(),v=(0,t.element)("div"),(0,t.create_component)($.$$.fragment),(0,t.attr)(r,"class","stuff svelte-ezxij8")},m(e,n){(0,t.insert)(e,r,n),(0,t.append)(r,a),(0,t.append)(a,l),(0,t.append)(a,c),(0,t.append)(a,p),(0,t.append)(r,u),(0,t.mount_component)(d,r,null),(0,t.append)(r,m),(0,t.append)(r,_),(0,t.append)(r,g),(0,t.mount_component)(h,r,null),(0,t.append)(r,f),(0,t.append)(r,v),(0,t.mount_component)($,v,null),w=!0},p(e,r){(!w||65&r)&&x!==(x=Math.round((0,n.scriptRevenue)(e[0].title,e[6]))+"")&&(0,t.set_data)(c,x),(!w||1&r)&&R!==(R=Math.round((0,n.getBuzz)(e[0]))/10+"")&&(0,t.set_data)(_,R);const a={};65&r&&(a.rating=Math.round((0,n.getRating)(e[0],e[6]))),h.$set(a);const s={};1&r&&(s.genre=e[0].genre),$.$set(s)},i(e){w||((0,t.transition_in)(d.$$.fragment,e),(0,t.transition_in)(h.$$.fragment,e),(0,t.transition_in)($.$$.fragment,e),w=!0)},o(e){(0,t.transition_out)(d.$$.fragment,e),(0,t.transition_out)(h.$$.fragment,e),(0,t.transition_out)($.$$.fragment,e),w=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_component)(d),(0,t.destroy_component)(h),(0,t.destroy_component)($)}}}function g(e){let n,s,o,i,c,g,h,f,v,$,w,x,R,y,q,b,T,z,M=e[2]&&p(e),P=e[0].partnerTeam&&u(e),k=!e[3]&&e[5]&&d(e),j=e[4]&&m(e),S=e[3]&&_(e);return{c(){n=(0,t.element)("div"),M&&M.c(),s=(0,t.space)(),o=(0,t.element)("img"),g=(0,t.space)(),h=(0,t.element)("div"),f=(0,t.element)("div"),v=(0,t.element)("img"),R=(0,t.space)(),P&&P.c(),y=(0,t.space)(),k&&k.c(),q=(0,t.space)(),j&&j.c(),b=(0,t.space)(),S&&S.c(),(0,t.src_url_equal)(o.src,i=r.POSTERS_URL+e[0].img)||(0,t.attr)(o,"src",i),(0,t.attr)(o,"alt",c=e[0].title+" poster."),(0,t.attr)(o,"width",e[1]),(0,t.src_url_equal)(v.src,$=l.default[(0,a.iconName)(e[0].team)])||(0,t.attr)(v,"src",$),(0,t.attr)(v,"alt",w=e[0].team),(0,t.attr)(v,"width","22"),(0,t.attr)(f,"class","team svelte-ezxij8"),(0,t.attr)(f,"style",x=`background-color: ${(0,a.getPlayerColor)(e[0].team)};`),(0,t.attr)(h,"class","team-and-title svelte-ezxij8"),(0,t.attr)(n,"class","script svelte-ezxij8"),(0,t.attr)(n,"style",T=`width: ${e[1]}px`)},m(e,r){(0,t.insert)(e,n,r),M&&M.m(n,null),(0,t.append)(n,s),(0,t.append)(n,o),(0,t.append)(n,g),(0,t.append)(n,h),(0,t.append)(h,f),(0,t.append)(f,v),(0,t.append)(h,R),P&&P.m(h,null),(0,t.append)(h,y),k&&k.m(h,null),(0,t.append)(h,q),j&&j.m(h,null),(0,t.append)(n,b),S&&S.m(n,null),z=!0},p(e,[g]){e[2]?M?M.p(e,g):((M=p(e)).c(),M.m(n,s)):M&&(M.d(1),M=null),(!z||1&g&&!(0,t.src_url_equal)(o.src,i=r.POSTERS_URL+e[0].img))&&(0,t.attr)(o,"src",i),(!z||1&g&&c!==(c=e[0].title+" poster."))&&(0,t.attr)(o,"alt",c),(!z||2&g)&&(0,t.attr)(o,"width",e[1]),(!z||1&g&&!(0,t.src_url_equal)(v.src,$=l.default[(0,a.iconName)(e[0].team)]))&&(0,t.attr)(v,"src",$),(!z||1&g&&w!==(w=e[0].team))&&(0,t.attr)(v,"alt",w),(!z||1&g&&x!==(x=`background-color: ${(0,a.getPlayerColor)(e[0].team)};`))&&(0,t.attr)(f,"style",x),e[0].partnerTeam?P?P.p(e,g):((P=u(e)).c(),P.m(h,y)):P&&(P.d(1),P=null),!e[3]&&e[5]?k?(k.p(e,g),40&g&&(0,t.transition_in)(k,1)):((k=d(e)).c(),(0,t.transition_in)(k,1),k.m(h,q)):k&&((0,t.group_outros)(),(0,t.transition_out)(k,1,1,()=>{k=null}),(0,t.check_outros)()),e[4]?j?j.p(e,g):((j=m(e)).c(),j.m(h,null)):j&&(j.d(1),j=null),e[3]?S?(S.p(e,g),8&g&&(0,t.transition_in)(S,1)):((S=_(e)).c(),(0,t.transition_in)(S,1),S.m(n,null)):S&&((0,t.group_outros)(),(0,t.transition_out)(S,1,1,()=>{S=null}),(0,t.check_outros)()),(!z||2&g&&T!==(T=`width: ${e[1]}px`))&&(0,t.attr)(n,"style",T)},i(e){z||((0,t.transition_in)(k),(0,t.transition_in)(S),z=!0)},o(e){(0,t.transition_out)(k),(0,t.transition_out)(S),z=!1},d(e){e&&(0,t.detach)(n),M&&M.d(),P&&P.d(),k&&k.d(),j&&j.d(),S&&S.d()}}}function h(n,r,a){let s;(0,t.component_subscribe)(n,e.gamestate,t=>a(6,s=t));let{script:o}=r,{width:i=200}=r,{showProfit:l=!1}=r,{showRevenue:c=!1}=r,{showTitle:p=!1}=r,{showGenre:u=!1}=r;return n.$$set=(t=>{"script"in t&&a(0,o=t.script),"width"in t&&a(1,i=t.width),"showProfit"in t&&a(2,l=t.showProfit),"showRevenue"in t&&a(3,c=t.showRevenue),"showTitle"in t&&a(4,p=t.showTitle),"showGenre"in t&&a(5,u=t.showGenre)}),[o,i,l,c,p,u,s]}class f extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,h,g,t.safe_not_equal,{script:0,width:1,showProfit:2,showRevenue:3,showTitle:4,showGenre:5})}}var v=f;exports.default=v;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Script":"S3Qj","../../../../server/src/state/scripts":"sV1V","../../colors":"Td8d","../icons/BuzzIcon.svelte":"kDjJ","../script-stats/Genre.svelte":"DCT3","../script-stats/Rating.svelte":"SNIV","../../assets/teams/*.png":"mt6y"}],"pN3X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=require("../../../../server/src/rooms/schema/Script"),s=r(require("../misc/Poster.svelte"));function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){const s=t.slice();return s[12]=e[n].text,s[13]=e[n].script,s[14]=e[n].result,s}function i(e){let n,s,r=e[12],o=u(e);return{c(){o.c(),n=(0,t.empty)()},m(e,r){o.m(e,r),(0,t.insert)(e,n,r),s=!0},p(e,s){1&s&&(0,t.safe_not_equal)(r,r=e[12])?((0,t.group_outros)(),(0,t.transition_out)(o,1,1,t.noop),(0,t.check_outros)(),(o=u(e)).c(),(0,t.transition_in)(o,1),o.m(n.parentNode,n)):o.p(e,s)},i(e){s||((0,t.transition_in)(o),s=!0)},o(e){(0,t.transition_out)(o),s=!1},d(e){e&&(0,t.detach)(n),o.d(e)}}}function u(e){let n,r,o,i,u,l,a,c,p,d,m,_,v,f=e[12]+"",g=e[14]+"",$=e[13].summary+"";return u=new s.default({props:{script:e[13],width:200,showTitle:!1}}),{c(){n=(0,t.element)("div"),r=(0,t.element)("div"),o=(0,t.text)(f),i=(0,t.space)(),(0,t.create_component)(u.$$.fragment),l=(0,t.space)(),a=(0,t.element)("div"),c=(0,t.text)(g),p=(0,t.space)(),d=(0,t.element)("div"),m=(0,t.text)($),_=(0,t.space)(),(0,t.attr)(r,"class","award svelte-1lpvle9"),(0,t.attr)(a,"class","result svelte-1lpvle9"),(0,t.attr)(d,"class","summary svelte-1lpvle9"),(0,t.attr)(n,"class","wrapper svelte-1lpvle9")},m(e,s){(0,t.insert)(e,n,s),(0,t.append)(n,r),(0,t.append)(r,o),(0,t.append)(n,i),(0,t.mount_component)(u,n,null),(0,t.append)(n,l),(0,t.append)(n,a),(0,t.append)(a,c),(0,t.append)(n,p),(0,t.append)(n,d),(0,t.append)(d,m),(0,t.append)(n,_),v=!0},p(e,n){(!v||1&n)&&f!==(f=e[12]+"")&&(0,t.set_data)(o,f);const s={};1&n&&(s.script=e[13]),u.$set(s),(!v||1&n)&&g!==(g=e[14]+"")&&(0,t.set_data)(c,g),(!v||1&n)&&$!==($=e[13].summary+"")&&(0,t.set_data)(m,$)},i(e){v||((0,t.transition_in)(u.$$.fragment,e),v=!0)},o(e){(0,t.transition_out)(u.$$.fragment,e),v=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(u)}}}function l(e){let n,s,r=e[13]&&i(e);return{c(){r&&r.c(),n=(0,t.empty)()},m(e,o){r&&r.m(e,o),(0,t.insert)(e,n,o),s=!0},p(e,s){e[13]?r?(r.p(e,s),1&s&&(0,t.transition_in)(r,1)):((r=i(e)).c(),(0,t.transition_in)(r,1),r.m(n.parentNode,n)):r&&((0,t.group_outros)(),(0,t.transition_out)(r,1,1,()=>{r=null}),(0,t.check_outros)())},i(e){s||((0,t.transition_in)(r),s=!0)},o(e){(0,t.transition_out)(r),s=!1},d(e){r&&r.d(e),e&&(0,t.detach)(n)}}}function a(e){let n,s,r=[e[0]],i=[];for(let t=0;t<1;t+=1)i[t]=l(o(e,r,t));const u=e=>(0,t.transition_out)(i[e],1,1,()=>{i[e]=null});return{c(){for(let t=0;t<1;t+=1)i[t].c();n=(0,t.empty)()},m(e,r){for(let t=0;t<1;t+=1)i[t].m(e,r);(0,t.insert)(e,n,r),s=!0},p(e,[s]){if(1&s){let a;for(r=[e[0]],a=0;a<1;a+=1){const u=o(e,r,a);i[a]?(i[a].p(u,s),(0,t.transition_in)(i[a],1)):(i[a]=l(u),i[a].c(),(0,t.transition_in)(i[a],1),i[a].m(n.parentNode,n))}for((0,t.group_outros)(),a=1;a<1;a+=1)u(a);(0,t.check_outros)()}},i(e){if(!s){for(let e=0;e<1;e+=1)(0,t.transition_in)(i[e]);s=!0}},o(e){i=i.filter(Boolean);for(let n=0;n<1;n+=1)(0,t.transition_out)(i[n]);s=!1},d(e){(0,t.destroy_each)(i,e),e&&(0,t.detach)(n)}}}function c(s,r,o){let i,u;(0,t.component_subscribe)(s,e.gamestate,t=>o(2,i=t)),(0,t.component_subscribe)(s,e.scripts,t=>o(3,u=t));const l=["lowestBudget","mostRevenue","biggestLoss","mostBuzz","bestRated"];let a,c=l[0];setInterval(()=>{const t=l.indexOf(c);void 0===t||void 0===l[t+1]?o(1,c=l[0]):o(1,c=l[t+1])},8e3);const p=Array.from(u.values()).filter(t=>t.outOfTheater),[d]=p.slice().sort((t,e)=>(0,n.budget)(t)-(0,n.budget)(e)),[m]=p.slice().sort((t,e)=>(0,n.scriptRevenue)(e.title,i)-(0,n.scriptRevenue)(t.title,i)),[_]=p.slice().sort((t,e)=>(0,n.scriptRevenue)(t.title,i)-(0,n.budget)(t)-((0,n.scriptRevenue)(e.title,i)-(0,n.budget)(e))),[v]=p.slice().sort((t,e)=>e.buzz-t.buzz),[f]=p.slice().sort((t,e)=>(0,n.getRating)(e,i,null,!0)-(0,n.getRating)(t,i,null,!0)),g={mostRevenue:{text:"MOST REVENUE",script:m,result:m?`$${Math.round((0,n.scriptRevenue)(m.title,i))}M`:null},bestRated:{text:"BEST RATED",script:m,result:m?`${Math.round((0,n.getRating)(f,i,null,!0))/10}`:null},mostBuzz:{text:"MOST BUZZ",script:v,result:v?`${Math.round(v.buzz)/10}`:null},biggestLoss:{text:"BIGGEST LOSS",script:_,result:_?`$${Math.round((0,n.scriptRevenue)(_.title,i)-(0,n.budget)(_))}M`:null},lowestBudget:{text:"LOWEST BUDGET",script:d,result:d?`$${(0,n.budget)(d)}M`:null}};return s.$$.update=(()=>{2&s.$$.dirty&&o(0,a=g[c])}),[a,c]}class p extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,c,a,t.safe_not_equal,{})}}var d=p;exports.default=d;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Script":"S3Qj","../misc/Poster.svelte":"JAzh"}],"hbiE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=s(require("../misc/TotalScore.svelte")),r=s(require("../results/ProductionLog.svelte")),o=s(require("../results/Slideshow.svelte"));function s(e){return e&&e.__esModule?e:{default:e}}function a(t){let s,a,l,i,c,u,m,d,p,_,f,$,v;return(c=new n.default({})).$on("selectTeam",t[2]),p=new r.default({props:{team:t[0]||t[1].color}}),$=new o.default({}),{c(){(s=(0,e.element)("h1")).textContent="SIMULATION COMPLETE",a=(0,e.space)(),(l=(0,e.element)("div")).textContent="PROFIT/LOSS",i=(0,e.space)(),(0,e.create_component)(c.$$.fragment),u=(0,e.space)(),m=(0,e.element)("div"),d=(0,e.element)("div"),(0,e.create_component)(p.$$.fragment),_=(0,e.space)(),f=(0,e.element)("div"),(0,e.create_component)($.$$.fragment),(0,e.attr)(s,"class","svelte-1rkl4xo"),(0,e.attr)(l,"class","text-center"),(0,e.attr)(d,"class","log svelte-1rkl4xo"),(0,e.attr)(f,"class","slideshow svelte-1rkl4xo"),(0,e.attr)(m,"class","wrapper svelte-1rkl4xo")},m(t,n){(0,e.insert)(t,s,n),(0,e.insert)(t,a,n),(0,e.insert)(t,l,n),(0,e.insert)(t,i,n),(0,e.mount_component)(c,t,n),(0,e.insert)(t,u,n),(0,e.insert)(t,m,n),(0,e.append)(m,d),(0,e.mount_component)(p,d,null),(0,e.append)(m,_),(0,e.append)(m,f),(0,e.mount_component)($,f,null),v=!0},p(e,[t]){const n={};3&t&&(n.team=e[0]||e[1].color),p.$set(n)},i(t){v||((0,e.transition_in)(c.$$.fragment,t),(0,e.transition_in)(p.$$.fragment,t),(0,e.transition_in)($.$$.fragment,t),v=!0)},o(t){(0,e.transition_out)(c.$$.fragment,t),(0,e.transition_out)(p.$$.fragment,t),(0,e.transition_out)($.$$.fragment,t),v=!1},d(t){t&&(0,e.detach)(s),t&&(0,e.detach)(a),t&&(0,e.detach)(l),t&&(0,e.detach)(i),(0,e.destroy_component)(c,t),t&&(0,e.detach)(u),t&&(0,e.detach)(m),(0,e.destroy_component)(p),(0,e.destroy_component)($)}}}function l(n,r,o){let s,a;(0,e.component_subscribe)(n,t.team,e=>o(1,s=e));return[a,s,e=>o(0,a=e.detail)]}class i extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,l,a,e.safe_not_equal,{})}}var c=i;exports.default=c;
},{"svelte/internal":"YkLP","../..":"QCba","../misc/TotalScore.svelte":"fd11","../results/ProductionLog.svelte":"HygC","../results/Slideshow.svelte":"pN3X"}],"dGnm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../");function n(t){let n,r,s,a,i,u=(t[1]>=0?t[1]:"0")+"",c=t[2].pause?"(Paused)":"";return{c(){n=(0,e.text)(u),r=(0,e.text)("s "),s=(0,e.element)("br"),a=(0,e.space)(),i=(0,e.text)(c)},m(t,u){(0,e.insert)(t,n,u),(0,e.insert)(t,r,u),(0,e.insert)(t,s,u),(0,e.insert)(t,a,u),(0,e.insert)(t,i,u)},p(t,r){2&r&&u!==(u=(t[1]>=0?t[1]:"0")+"")&&(0,e.set_data)(n,u),4&r&&c!==(c=t[2].pause?"(Paused)":"")&&(0,e.set_data)(i,c)},d(t){t&&(0,e.detach)(n),t&&(0,e.detach)(r),t&&(0,e.detach)(s),t&&(0,e.detach)(a),t&&(0,e.detach)(i)}}}function r(t){let r,s=null!=t[0]&&n(t);return{c(){s&&s.c(),r=(0,e.empty)()},m(t,n){s&&s.m(t,n),(0,e.insert)(t,r,n)},p(e,[t]){null!=e[0]?s?s.p(e,t):((s=n(e)).c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},i:e.noop,o:e.noop,d(t){s&&s.d(t),t&&(0,e.detach)(r)}}}function s(n,r,s){let a,i,u;return(0,e.component_subscribe)(n,t.timeRemaining,e=>s(0,a=e)),(0,e.component_subscribe)(n,t.gamestate,e=>s(2,i=e)),n.$$.update=(()=>{1&n.$$.dirty&&s(1,u=Math.ceil(a/10))}),[a,u,i]}class a extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,s,r,e.safe_not_equal,{})}}var i=a;exports.default=i;
},{"svelte/internal":"YkLP","../../":"QCba"}],"PTA5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("svelte"),s=require("../../index");function r(t){let s,r,a,n,i;return{c(){s=(0,e.element)("div"),r=(0,e.element)("div"),a=(0,e.space)(),n=(0,e.svg_element)("svg"),i=(0,e.svg_element)("circle"),(0,e.attr)(r,"class","dot svelte-1gf06yk"),(0,e.attr)(s,"class","circle svelte-1gf06yk"),(0,e.set_style)(s,"--degrees",t[1]),(0,e.attr)(i,"class","progress-ring__circle svelte-1gf06yk"),(0,e.attr)(i,"stroke","white"),(0,e.attr)(i,"stroke-width","1"),(0,e.attr)(i,"fill","transparent"),(0,e.attr)(i,"r","58"),(0,e.attr)(i,"cx","60"),(0,e.attr)(i,"cy","60"),(0,e.attr)(n,"class","progress-ring"),(0,e.attr)(n,"width","120"),(0,e.attr)(n,"height","120")},m(l,o){(0,e.insert)(l,s,o),(0,e.append)(s,r),(0,e.insert)(l,a,o),(0,e.insert)(l,n,o),(0,e.append)(n,i),t[4](i)},p(t,[r]){2&r&&(0,e.set_style)(s,"--degrees",t[1])},i:e.noop,o:e.noop,d(r){r&&(0,e.detach)(s),r&&(0,e.detach)(a),r&&(0,e.detach)(n),t[4](null)}}}function a(r,a,n){let i,l,o,c,d,u,p;(0,e.component_subscribe)(r,s.timeRemaining,e=>n(3,i=e)),(0,e.component_subscribe)(r,s.gamestate,e=>n(7,l=e));const g=e=>{const t=Math.min(100-e/p*100,100),s=`${d-t/100*d}`;n(1,u=`${t/100*360}deg`),n(0,o.style.strokeDashoffset=s,o)};return(0,t.onMount)(()=>{c=o.r.baseVal.value,d=2*c*Math.PI,n(2,p=l.startTime),n(0,o.style.strokeDasharray=`${d} ${d}`,o),n(0,o.style.strokeDashoffset=`${d}`,o),g(i)}),r.$$.update=(()=>{12&r.$$.dirty&&p&&g(i)}),[o,u,p,i,function(t){e.binding_callbacks[t?"unshift":"push"](()=>{n(0,o=t)})}]}class n extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,a,r,e.safe_not_equal,{})}}var i=n;exports.default=i;
},{"svelte/internal":"YkLP","svelte":"XrLp","../../index":"QCba"}],"p9ZA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../"),n=a(require("./Timer.svelte")),s=a(require("./Progress.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function p(t){let a,p,l,r,i,d,o,c,m,g=t[2].toUpperCase()+"";return a=new s.default({}),c=new n.default({}),{c(){(0,e.create_component)(a.$$.fragment),p=(0,e.space)(),l=(0,e.element)("div"),r=(0,e.element)("div"),i=(0,e.text)(g),d=(0,e.space)(),o=(0,e.element)("div"),(0,e.create_component)(c.$$.fragment),(0,e.attr)(r,"class","phase svelte-p7gn8l"),(0,e.attr)(o,"class","timer svelte-p7gn8l"),(0,e.attr)(l,"class","text-wrapper svelte-p7gn8l")},m(t,n){(0,e.mount_component)(a,t,n),(0,e.insert)(t,p,n),(0,e.insert)(t,l,n),(0,e.append)(l,r),(0,e.append)(r,i),(0,e.append)(l,d),(0,e.append)(l,o),(0,e.mount_component)(c,o,null),m=!0},p(t,n){(!m||4&n)&&g!==(g=t[2].toUpperCase()+"")&&(0,e.set_data)(i,g)},i(t){m||((0,e.transition_in)(a.$$.fragment,t),(0,e.transition_in)(c.$$.fragment,t),m=!0)},o(t){(0,e.transition_out)(a.$$.fragment,t),(0,e.transition_out)(c.$$.fragment,t),m=!1},d(t){(0,e.destroy_component)(a,t),t&&(0,e.detach)(p),t&&(0,e.detach)(l),(0,e.destroy_component)(c)}}}function l(t){let n,s,a,l,r,i,d,o,c,m,g,u,_,v,f,x,$,h,O,M,k,y,B,C,W,b,T,q,E,S,w,I,P,U=t[1].settings.springBoxOffice+"",F=t[1].settings.springWeeks+"",H=t[1].settings.summerBoxOffice+"",L=t[1].settings.summerWeeks+"",R=t[1].settings.holidayBoxOffice+"",j=t[1].settings.holidayWeeks+"",A=!t[0]&&p(t);return{c(){n=(0,e.element)("div"),s=(0,e.element)("div"),a=(0,e.element)("table"),(l=(0,e.element)("tr")).innerHTML='<td class="svelte-p7gn8l"></td><td class="svelte-p7gn8l">BOX OFFICE</td><td class="svelte-p7gn8l">WEEKS</td>',r=(0,e.space)(),i=(0,e.element)("tr"),(d=(0,e.element)("td")).textContent="SPRING",o=(0,e.element)("td"),c=(0,e.text)("$"),m=(0,e.text)(U),g=(0,e.text)("M"),u=(0,e.element)("td"),_=(0,e.text)(F),v=(0,e.space)(),f=(0,e.element)("tr"),(x=(0,e.element)("td")).textContent="SUMMER",$=(0,e.element)("td"),h=(0,e.text)("$"),O=(0,e.text)(H),M=(0,e.text)("M"),k=(0,e.element)("td"),y=(0,e.text)(L),B=(0,e.space)(),C=(0,e.element)("tr"),(W=(0,e.element)("td")).textContent="HOLIDAY",b=(0,e.element)("td"),T=(0,e.text)("$"),q=(0,e.text)(R),E=(0,e.text)("M"),S=(0,e.element)("td"),w=(0,e.text)(j),I=(0,e.space)(),A&&A.c(),(0,e.attr)(d,"class","svelte-p7gn8l"),(0,e.attr)(o,"class","svelte-p7gn8l"),(0,e.attr)(u,"class","svelte-p7gn8l"),(0,e.attr)(x,"class","svelte-p7gn8l"),(0,e.attr)($,"class","svelte-p7gn8l"),(0,e.attr)(k,"class","svelte-p7gn8l"),(0,e.attr)(W,"class","svelte-p7gn8l"),(0,e.attr)(b,"class","svelte-p7gn8l"),(0,e.attr)(S,"class","svelte-p7gn8l"),(0,e.attr)(a,"class","svelte-p7gn8l"),(0,e.attr)(s,"class","settings svelte-p7gn8l"),(0,e.attr)(n,"class","content svelte-p7gn8l")},m(t,p){(0,e.insert)(t,n,p),(0,e.append)(n,s),(0,e.append)(s,a),(0,e.append)(a,l),(0,e.append)(a,r),(0,e.append)(a,i),(0,e.append)(i,d),(0,e.append)(i,o),(0,e.append)(o,c),(0,e.append)(o,m),(0,e.append)(o,g),(0,e.append)(i,u),(0,e.append)(u,_),(0,e.append)(a,v),(0,e.append)(a,f),(0,e.append)(f,x),(0,e.append)(f,$),(0,e.append)($,h),(0,e.append)($,O),(0,e.append)($,M),(0,e.append)(f,k),(0,e.append)(k,y),(0,e.append)(a,B),(0,e.append)(a,C),(0,e.append)(C,W),(0,e.append)(C,b),(0,e.append)(b,T),(0,e.append)(b,q),(0,e.append)(b,E),(0,e.append)(C,S),(0,e.append)(S,w),(0,e.append)(n,I),A&&A.m(n,null),P=!0},p(t,[s]){(!P||2&s)&&U!==(U=t[1].settings.springBoxOffice+"")&&(0,e.set_data)(m,U),(!P||2&s)&&F!==(F=t[1].settings.springWeeks+"")&&(0,e.set_data)(_,F),(!P||2&s)&&H!==(H=t[1].settings.summerBoxOffice+"")&&(0,e.set_data)(O,H),(!P||2&s)&&L!==(L=t[1].settings.summerWeeks+"")&&(0,e.set_data)(y,L),(!P||2&s)&&R!==(R=t[1].settings.holidayBoxOffice+"")&&(0,e.set_data)(q,R),(!P||2&s)&&j!==(j=t[1].settings.holidayWeeks+"")&&(0,e.set_data)(w,j),t[0]?A&&((0,e.group_outros)(),(0,e.transition_out)(A,1,1,()=>{A=null}),(0,e.check_outros)()):A?(A.p(t,s),1&s&&(0,e.transition_in)(A,1)):((A=p(t)).c(),(0,e.transition_in)(A,1),A.m(n,null))},i(t){P||((0,e.transition_in)(A),P=!0)},o(t){(0,e.transition_out)(A),P=!1},d(t){t&&(0,e.detach)(n),A&&A.d()}}}function r(n,s,a){let p,l;(0,e.component_subscribe)(n,t.gamestate,e=>a(1,p=e)),(0,e.component_subscribe)(n,t.phase,e=>a(2,l=e));let{hideTimer:r=!1}=s;return n.$$set=(e=>{"hideTimer"in e&&a(0,r=e.hideTimer)}),[r,p,l]}class i extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,r,l,e.safe_not_equal,{hideTimer:0})}}var d=i;exports.default=d;
},{"svelte/internal":"YkLP","../../":"QCba","./Timer.svelte":"dGnm","./Progress.svelte":"PTA5"}],"jxZ1":[function(require,module,exports) {
"use strict";function e(e){for(var r,t,o=e.length;0!=o;)t=Math.floor(Math.random()*o),o--,r=[e[t],e[o]],e[o]=r[0],e[t]=r[1];return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.shuffle=void 0,exports.shuffle=e;
},{}],"R2aQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("svelte"),n=require("../.."),i=require("../../../../server/src/helpers/array"),r=require("../../../../server/src/rooms/schema/Script"),o=require("../../../../server/src/shared/GamePhase"),s=a(require("../../assets/genre/*.png")),l=require("../../colors");function a(e){return e&&e.__esModule?e:{default:e}}function c(t){let n,i;return{c(){n=(0,e.element)("div"),i=(0,e.element)("canvas"),(0,e.attr)(i,"id","canvas"),(0,e.attr)(n,"class","canvas-wrapper svelte-k6jnwv")},m(r,o){(0,e.insert)(r,n,o),(0,e.append)(n,i),t[4](i),t[5](n)},p:e.noop,i:e.noop,o:e.noop,d(i){i&&(0,e.detach)(n),t[4](null),t[5](null)}}}function u(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))<e.r+t.r}function d(a,c,d){let h,f,p,y;(0,e.component_subscribe)(a,n.gamestate,e=>d(7,h=e)),(0,e.component_subscribe)(a,n.phase,e=>d(8,f=e)),(0,e.component_subscribe)(a,n.releaseScripts,e=>d(9,p=e)),(0,e.component_subscribe)(a,n.currentWeekend,e=>d(3,y=e));let g,x,v,M="buzz";const m=p.map(e=>({script:e,x:0,y:0,knockedOut:e.outOfTheater})),b=[],k=(f===o.GamePhase.Spring?h.settings.springBoxOffice:f===o.GamePhase.Summer?h.settings.summerBoxOffice:h.settings.holidayBoxOffice)/4;function w(e){return"rating"===M?(0,r.getRating)(e,h):(0,r.getBuzz)(e)}function O(){b.forEach(e=>e.visited=!1),m.forEach(e=>!!e.script.outOfTheater&&(e.knockedOut=!0));const e=m.reduce((e,t)=>(t.knockedOut?0:w(t.script))+e,0);let t=0;const n=(0,i.shuffle)(b.slice());m.forEach(i=>{if(i.knockedOut)return;const r=w(i.script)/e;let o=t;const s=t+Math.ceil(n.length*r),a=s-t,c=Math.ceil(i.script.directorEquity/100*a),u=c+Math.ceil((i.script.partnerTeam?.5:0)*a);for(;o<s;){const e=n[o];e&&(e.title=i.script.title,s-o<c?(e.type="director",e.color="white"):s-o<u?(e.type="partner",e.color=(0,l.getPlayerColor)(i.script.partnerTeam||i.script.team)):(e.type="owner",e.color=(0,l.getPlayerColor)(i.script.team))),o++}t=s})}const P=()=>null==v?void 0:v.getContext("2d"),S=()=>Math.max(400,Math.round(window.innerHeight)-211),T=()=>Math.round(window.innerWidth),q=()=>S()*window.devicePixelRatio,z=()=>T()*window.devicePixelRatio,E=()=>({x:z()/2,y:q()/2-38});for(let e=0;e<k;e++)b.push({x:E().x,y:E().y,visited:!1,color:"white",speed:(Math.random()+.5)/10});function _(){d(1,v.width=z(),v),d(1,v.height=q(),v),d(1,v.style.width=`${T()}px`,v),d(1,v.style.height=`${S()}px`,v),d(0,x.style.overflowY=+v.style.height.slice(0,-2)<=400?"scroll":"hidden",x)}function j(){_(),b.forEach(e=>{e.visited=!1,e.x=E().x,e.y=E().y})}window.addEventListener("resize",j),(0,t.onDestroy)(()=>window.removeEventListener("resize",j));const I=()=>1*q()/4,$=()=>12;function C(){let e=Math.PI;const t=2*Math.PI/m.length;m.forEach(n=>{!function(e,t){if(!P())return;const n=Math.round(I()*Math.sin(t)+E().x),i=Math.round(I()*Math.cos(t)+E().y);e.x=n,e.y=i,P().save(),P().translate(n,i),"buzz"===M?(!function(e){if(!P())return;P().fillStyle=e.knockedOut?"gray":(0,l.getPlayerColor)(e.script.team),P().lineWidth=2,P().strokeStyle="white",P().beginPath(),P().moveTo(-43,14),P().lineTo(0,-60),P().lineTo(0,-18),P().lineTo(43,-18),P().lineTo(-4,60),P().lineTo(-4,14),P().closePath(),P().stroke(),P().fill()}(e),W((0,r.getBuzz)(e.script),e.knockedOut)):(!function(e){if(!P())return;P().fillStyle=e.knockedOut?"gray":(0,l.getPlayerColor)(e.script.team),P().lineWidth=2,P().strokeStyle="white";const t=40;P().beginPath(),P().moveTo(-t,0),P().lineTo(-20,-35),P().lineTo(20,-35),P().lineTo(t,0),P().lineTo(20,35),P().lineTo(-20,35),P().closePath(),P().stroke(),P().fill()}(e),W((0,r.getRating)(e.script,h),e.knockedOut));(function(e){if(!P())return;const{x:t,y:n}=e,i=E();let o=0,l=0;Math.round(t)===Math.round(i.x)?l=120*(n<i.y?-.8:.6):Math.round(n)!==Math.round(i.y)&&(l=35*(n<i.y?-1:1));Math.round(n)===Math.round(i.y)?(o=170*(t<i.x?-.7:.7),l-=50):Math.round(t)!==Math.round(i.x)&&(o=150*(t<i.x?-1:1));P().textAlign="center",P().font="bold 30px Monotype",P().fillStyle=e.knockedOut?"gray":"white",P().fillText(e.script.title.toUpperCase(),o,l);const a=Math.ceil((0,r.scriptRevenue)(e.script.title,h)),c=`${(a>=0?"+":"")+a}M`;P().fillText(c,o+30,l+45);const u=new Image(40,40);u.src=s.default[e.knockedOut?e.script.genre+"-gray":e.script.genre],P().drawImage(u,o-60,l+15,40,40)})(e),P().restore()}(n,e),e+=t})}function W(e,t){if(!P())return;P().textAlign="center",P().font="bold 25px Monotype",P().fillStyle=t?"#2e3033":"white";let n=(Math.round(e)/10).toString();-1===n.indexOf(".")&&(n+=".0"),P().fillText(n.toString(),0,9)}function B(){P()&&(P().fillStyle="black",P().rect(0,0,z(),q()),P().fill()),function(){if(!P())return;P().save();const e=E();P().translate(e.x,e.y),P().strokeStyle="white",P().lineWidth=2,P().beginPath(),P().arc(0,0,I(),0,2*Math.PI),P().stroke(),P().restore()}(),b.forEach(e=>(function(e){P()&&("owner"===e.type?(P().fillStyle=e.color,P().lineWidth=4,P().strokeStyle=void 0,P().beginPath(),P().arc(e.x,e.y,$(),0,2*Math.PI),P().fill()):(P().fillStyle=e.color,P().lineWidth=4,P().strokeStyle=void 0,P().beginPath(),P().arc(e.x,e.y,$(),0,2*Math.PI),P().fill(),P().beginPath(),P().arc(e.x,e.y,$()-1,0,2*Math.PI),P().fillStyle="black",P().fill()))})(e)),C(),requestAnimationFrame(()=>B())}return(0,t.onMount)(()=>{_(),B()}),setInterval(()=>{b.forEach(e=>{const t=E();u(Object.assign(Object.assign({},t),{r:I()-30}),Object.assign(Object.assign({},e),{r:$()}))||(e.x<t.x?e.x+=5:e.x-=5,e.y<t.y?e.y+=5:e.y-=5),b.forEach(t=>{e!==t&&u(Object.assign(Object.assign({},e),{r:$()+15}),Object.assign(Object.assign({},t),{r:$()+15}))&&(t.x+=5*Math.round(Math.random())?1:-1,t.y+=5*Math.round(Math.random())?1:-1)}),b.forEach(e=>{const t=m.find(t=>t.script.title===e.title);e.visited||((null==t?void 0:t.x)<e.x&&(e.x-=e.speed),(null==t?void 0:t.x)>e.x&&(e.x+=e.speed),(null==t?void 0:t.y)<e.y&&(e.y-=e.speed),(null==t?void 0:t.y)>e.y&&(e.y+=e.speed)),Math.abs(e.x-(null==t?void 0:t.x))<5&&Math.abs(e.y-(null==t?void 0:t.y))<5&&(e.visited=!0)})})},50),a.$$.update=(()=>{8&a.$$.dirty[0]&&(M=0===y?"buzz":"rating"),12&a.$$.dirty[0]&&(void 0===g?setTimeout(()=>O(),3e3):g!==y&&O(),d(2,g=y))}),[x,v,g,y,function(t){e.binding_callbacks[t?"unshift":"push"](()=>{d(1,v=t)})},function(t){e.binding_callbacks[t?"unshift":"push"](()=>{d(0,x=t)})}]}class h extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,d,c,e.safe_not_equal,{},null,[-1,-1])}}var f=h;exports.default=f;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../../../../server/src/helpers/array":"jxZ1","../../../../server/src/rooms/schema/Script":"S3Qj","../../../../server/src/shared/GamePhase":"wedU","../../assets/genre/*.png":"dY2x","../../colors":"Td8d"}],"rN2l":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal");function n(n){let e,r,l;return{c(){e=(0,t.svg_element)("svg"),r=(0,t.svg_element)("path"),(0,t.attr)(r,"id","Selection"),(0,t.attr)(r,"stroke-width","1"),(0,t.attr)(r,"d","M 411.00,0.65\n           C 411.00,0.65 379.00,18.58 379.00,18.58\n             379.00,18.58 314.00,56.15 314.00,56.15\n             314.00,56.15 97.00,181.42 97.00,181.42\n             97.00,181.42 24.00,223.58 24.00,223.58\n             19.88,225.97 3.95,234.29 2.02,237.38\n             0.78,239.37 1.00,242.69 1.00,245.00\n             1.00,245.00 1.00,713.00 1.00,713.00\n             1.02,722.50 1.22,720.94 16.00,729.42\n             16.00,729.42 59.00,754.28 59.00,754.28\n             59.00,754.28 243.00,860.42 243.00,860.42\n             243.00,860.42 374.00,936.15 374.00,936.15\n             374.00,936.15 406.00,954.58 406.00,954.58\n             409.64,956.66 415.83,961.14 420.00,960.20\n             422.06,959.74 427.87,956.23 430.00,955.00\n             430.00,955.00 450.00,943.42 450.00,943.42\n             450.00,943.42 515.00,905.85 515.00,905.85\n             515.00,905.85 740.00,776.00 740.00,776.00\n             740.00,776.00 812.00,734.42 812.00,734.42\n             815.72,732.29 831.27,723.98 833.01,721.39\n             834.25,719.54 834.00,716.19 834.00,714.00\n             834.00,714.00 834.00,244.00 834.00,244.00\n             833.98,234.21 833.86,236.05 819.00,227.20\n             819.00,227.20 777.00,202.99 777.00,202.99\n             777.00,202.99 592.00,96.15 592.00,96.15\n             592.00,96.15 465.00,22.85 465.00,22.85\n             465.00,22.85 442.00,9.58 442.00,9.58\n             430.28,2.77 425.41,-2.31 411.00,0.65 Z"),(0,t.attr)(e,"xmlns","http://www.w3.org/2000/svg"),(0,t.attr)(e,"x","0px"),(0,t.attr)(e,"y","0px"),(0,t.attr)(e,"width",l=`${n[1]}px`),(0,t.attr)(e,"fill",n[0]),(0,t.attr)(e,"viewBox","0 0 834 964")},m(n,l){(0,t.insert)(n,e,l),(0,t.append)(e,r)},p(n,r){2&r&&l!==(l=`${n[1]}px`)&&(0,t.attr)(e,"width",l),1&r&&(0,t.attr)(e,"fill",n[0])},d(n){n&&(0,t.detach)(e)}}}function e(n){let e,r,l,a;return{c(){e=(0,t.svg_element)("svg"),r=(0,t.svg_element)("g"),l=(0,t.svg_element)("path"),(0,t.attr)(l,"class","st0"),(0,t.attr)(l,"d","M236.09,63.51l181.09,104.56v209.11L236.09,481.73L55,377.17V168.06L236.09,63.51 M236.09,0L0,136.31v272.62\n            l236.09,136.31l236.09-136.31V136.31L236.09,0L236.09,0z"),(0,t.attr)(e,"version","1.1"),(0,t.attr)(e,"id","Layer_1"),(0,t.attr)(e,"xmlns","http://www.w3.org/2000/svg"),(0,t.attr)(e,"xmlns:xlink","http://www.w3.org/1999/xlink"),(0,t.attr)(e,"x","0px"),(0,t.attr)(e,"y","0px"),(0,t.attr)(e,"width",a=`${n[1]}px`),(0,t.attr)(e,"fill",n[0]),(0,t.attr)(e,"viewBox","0 0 472.19 545.24"),(0,t.attr)(e,"xml:space","preserve")},m(n,a){(0,t.insert)(n,e,a),(0,t.append)(e,r),(0,t.append)(r,l)},p(n,r){2&r&&a!==(a=`${n[1]}px`)&&(0,t.attr)(e,"width",a),1&r&&(0,t.attr)(e,"fill",n[0])},d(n){n&&(0,t.detach)(e)}}}function r(r){let l;function a(t,r){return t[2]?n:e}let i=a(r),o=i(r);return{c(){o.c(),l=(0,t.empty)()},m(n,e){o.m(n,e),(0,t.insert)(n,l,e)},p(t,[n]){i===(i=a(t))&&o?o.p(t,n):(o.d(1),(o=i(t))&&(o.c(),o.m(l.parentNode,l)))},i:t.noop,o:t.noop,d(n){o.d(n),n&&(0,t.detach)(l)}}}function l(t,n,e){let{color:r}=n,{width:l}=n,{fill:a=!1}=n;return t.$$set=(t=>{"color"in t&&e(0,r=t.color),"width"in t&&e(1,l=t.width),"fill"in t&&e(2,a=t.fill)}),[r,l,a]}class a extends t.SvelteComponent{constructor(n){super(),(0,t.init)(this,n,l,r,t.safe_not_equal,{color:0,width:1,fill:2})}}var i=a;exports.default=i;
},{"svelte/internal":"YkLP"}],"CRTR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../..");function n(t){let n,r,a,s,p,d;return{c(){n=(0,e.element)("div"),r=(0,e.element)("h1"),a=(0,e.text)(t[1]),s=(0,e.space)(),p=(0,e.element)("p"),d=(0,e.text)(t[2]),(0,e.attr)(r,"class","svelte-k1uarr"),(0,e.attr)(n,"class","paper svelte-k1uarr")},m(t,l){(0,e.insert)(t,n,l),(0,e.append)(n,r),(0,e.append)(r,a),(0,e.append)(n,s),(0,e.append)(n,p),(0,e.append)(p,d)},p(t,n){2&n&&(0,e.set_data)(a,t[1]),4&n&&(0,e.set_data)(d,t[2])},d(t){t&&(0,e.detach)(n)}}}function r(t){let r,a=t[0]>0&&n(t);return{c(){a&&a.c(),r=(0,e.empty)()},m(t,n){a&&a.m(t,n),(0,e.insert)(t,r,n)},p(e,[t]){e[0]>0?a?a.p(e,t):((a=n(e)).c(),a.m(r.parentNode,r)):a&&(a.d(1),a=null)},i:e.noop,o:e.noop,d(t){a&&a.d(t),t&&(0,e.detach)(r)}}}function a(n,r,a){let s,p;(0,e.component_subscribe)(n,t.currentWeekend,e=>a(0,s=e)),(0,e.component_subscribe)(n,t.gamestate,e=>a(4,p=e));let d,l="headline",o="content";return n.$$.update=(()=>{if(25&n.$$.dirty&&d!==s){const e=p.headlines[p.headlines.length-1];a(1,l=e.headline),a(2,o=e.content),a(3,d=s)}}),[s,l,o,d,p]}class s extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,a,r,e.safe_not_equal,{})}}var p=s;exports.default=p;
},{"svelte/internal":"YkLP","../..":"QCba"}],"FEIa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.backIn=r,exports.backInOut=n,exports.backOut=u,exports.bounceIn=c,exports.bounceInOut=o,exports.bounceOut=e,exports.circIn=s,exports.circInOut=i,exports.circOut=a,exports.cubicIn=x,exports.cubicInOut=p,exports.cubicOut=f,exports.elasticIn=h,exports.elasticInOut=M,exports.elasticOut=I,exports.expoIn=q,exports.expoInOut=O,exports.expoOut=b,Object.defineProperty(exports,"linear",{enumerable:!0,get:function(){return t.identity}}),exports.quadIn=P,exports.quadInOut=w,exports.quadOut=d,exports.quartIn=j,exports.quartInOut=l,exports.quartOut=k,exports.quintIn=m,exports.quintInOut=y,exports.quintOut=v,exports.sineIn=g,exports.sineInOut=_,exports.sineOut=z;var t=require("../internal/index.mjs");function n(t){const n=2.5949095;return(t*=2)<1?t*t*((n+1)*t-n)*.5:.5*((t-=2)*t*((n+1)*t+n)+2)}function r(t){const n=1.70158;return t*t*((n+1)*t-n)}function u(t){const n=1.70158;return--t*t*((n+1)*t+n)+1}function e(t){const n=t*t;return t<4/11?7.5625*n:t<8/11?9.075*n-9.9*t+3.4:t<.9?4356/361*n-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72}function o(t){return t<.5?.5*(1-e(1-2*t)):.5*e(2*t-1)+.5}function c(t){return 1-e(1-t)}function i(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}function s(t){return 1-Math.sqrt(1-t*t)}function a(t){return Math.sqrt(1- --t*t)}function p(t){return t<.5?4*t*t*t:.5*Math.pow(2*t-2,3)+1}function x(t){return t*t*t}function f(t){const n=t-1;return n*n*n+1}function M(t){return t<.5?.5*Math.sin(13*Math.PI/2*2*t)*Math.pow(2,10*(2*t-1)):.5*Math.sin(-13*Math.PI/2*(2*t-1+1))*Math.pow(2,-10*(2*t-1))+1}function h(t){return Math.sin(13*t*Math.PI/2)*Math.pow(2,10*(t-1))}function I(t){return Math.sin(-13*(t+1)*Math.PI/2)*Math.pow(2,-10*t)+1}function O(t){return 0===t||1===t?t:t<.5?.5*Math.pow(2,20*t-10):-.5*Math.pow(2,10-20*t)+1}function q(t){return 0===t?t:Math.pow(2,10*(t-1))}function b(t){return 1===t?t:1-Math.pow(2,-10*t)}function w(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)}function P(t){return t*t}function d(t){return-t*(t-2)}function l(t){return t<.5?8*Math.pow(t,4):-8*Math.pow(t-1,4)+1}function j(t){return Math.pow(t,4)}function k(t){return Math.pow(t-1,3)*(1-t)+1}function y(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}function m(t){return t*t*t*t*t}function v(t){return--t*t*t*t*t+1}function _(t){return-.5*(Math.cos(Math.PI*t)-1)}function g(t){const n=Math.cos(t*Math.PI*.5);return Math.abs(n)<1e-14?1:1-n}function z(t){return Math.sin(t*Math.PI/2)}
},{"../internal/index.mjs":"YkLP"}],"Fcs8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flip=r;var t=require("../easing/index.mjs"),e=require("../internal/index.mjs");function r(r,{from:i,to:n},s={}){const a=getComputedStyle(r),o="none"===a.transform?"":a.transform,[h,u]=a.transformOrigin.split(" ").map(parseFloat),d=i.left+i.width*h/n.width-(n.left+h),l=i.top+i.height*u/n.height-(n.top+u),{delay:p=0,duration:f=(t=>120*Math.sqrt(t)),easing:c=t.cubicOut}=s;return{delay:p,duration:(0,e.is_function)(f)?f(Math.sqrt(d*d+l*l)):f,easing:c,css:(t,e)=>{const r=e*d,s=e*l,a=t+e*i.width/n.width,h=t+e*i.height/n.height;return`transform: ${o} translate(${r}px, ${s}px) scale(${a}, ${h});`}}}
},{"../easing/index.mjs":"FEIa","../internal/index.mjs":"YkLP"}],"FfFJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.blur=o,exports.crossfade=c,exports.draw=p,exports.fade=r,exports.fly=a,exports.scale=s,exports.slide=i;var t=require("../easing/index.mjs"),e=require("../internal/index.mjs");function n(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n}function o(e,{delay:n=0,duration:o=400,easing:r=t.cubicInOut,amount:a=5,opacity:i=0}={}){const s=getComputedStyle(e),p=+s.opacity,c="none"===s.filter?"":s.filter,d=p*(1-i);return{delay:n,duration:o,easing:r,css:(t,e)=>`opacity: ${p-d*e}; filter: ${c} blur(${e*a}px);`}}function r(e,{delay:n=0,duration:o=400,easing:r=t.linear}={}){const a=+getComputedStyle(e).opacity;return{delay:n,duration:o,easing:r,css:t=>`opacity: ${t*a}`}}function a(e,{delay:n=0,duration:o=400,easing:r=t.cubicOut,x:a=0,y:i=0,opacity:s=0}={}){const p=getComputedStyle(e),c=+p.opacity,d="none"===p.transform?"":p.transform,u=c*(1-s);return{delay:n,duration:o,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${d} translate(${(1-t)*a}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-u*e}`}}function i(e,{delay:n=0,duration:o=400,easing:r=t.cubicOut}={}){const a=getComputedStyle(e),i=+a.opacity,s=parseFloat(a.height),p=parseFloat(a.paddingTop),c=parseFloat(a.paddingBottom),d=parseFloat(a.marginTop),u=parseFloat(a.marginBottom),l=parseFloat(a.borderTopWidth),y=parseFloat(a.borderBottomWidth);return{delay:n,duration:o,easing:r,css:t=>"overflow: hidden;"+`opacity: ${Math.min(20*t,1)*i};`+`height: ${t*s}px;`+`padding-top: ${t*p}px;`+`padding-bottom: ${t*c}px;`+`margin-top: ${t*d}px;`+`margin-bottom: ${t*u}px;`+`border-top-width: ${t*l}px;`+`border-bottom-width: ${t*y}px;`}}function s(e,{delay:n=0,duration:o=400,easing:r=t.cubicOut,start:a=0,opacity:i=0}={}){const s=getComputedStyle(e),p=+s.opacity,c="none"===s.transform?"":s.transform,d=1-a,u=p*(1-i);return{delay:n,duration:o,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${c} scale(${1-d*e});\n\t\t\topacity: ${p-u*e}\n\t\t`}}function p(e,{delay:n=0,speed:o,duration:r,easing:a=t.cubicInOut}={}){let i=e.getTotalLength();const s=getComputedStyle(e);return"butt"!==s.strokeLinecap&&(i+=parseInt(s.strokeWidth)),void 0===r?r=void 0===o?800:i/o:"function"==typeof r&&(r=r(i)),{delay:n,duration:r,easing:a,css:(t,e)=>`stroke-dasharray: ${t*i} ${e*i}`}}function c(o){var{fallback:r}=o,a=n(o,["fallback"]);const i=new Map,s=new Map;function p(n,o,i){return(s,p)=>(n.set(p.key,{rect:s.getBoundingClientRect()}),()=>{if(o.has(p.key)){const{rect:n}=o.get(p.key);return o.delete(p.key),function(n,o,r){const{delay:i=0,duration:s=(t=>30*Math.sqrt(t)),easing:p=t.cubicOut}=(0,e.assign)((0,e.assign)({},a),r),c=o.getBoundingClientRect(),d=n.left-c.left,u=n.top-c.top,l=n.width/c.width,y=n.height/c.height,g=Math.sqrt(d*d+u*u),f=getComputedStyle(o),m="none"===f.transform?"":f.transform,$=+f.opacity;return{delay:i,duration:(0,e.is_function)(s)?s(g):s,easing:p,css:(t,e)=>`\n\t\t\t\topacity: ${t*$};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${m} translate(${e*d}px,${e*u}px) scale(${t+(1-t)*l}, ${t+(1-t)*y});\n\t\t\t`}}(n,s,p)}return n.delete(p.key),r&&r(s,p,i)})}return[p(s,i,!1),p(i,s,!0)]}
},{"../easing/index.mjs":"FEIa","../internal/index.mjs":"YkLP"}],"IDfE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=o(require("../../assets/teams/*.png")),n=require("../../"),a=require("svelte/animate"),r=require("svelte/transition"),s=require("svelte/easing"),l=require("../../colors");function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){const a=e.slice();return a[3]=t[n],a}function c(t,n){let s,l,o,i,c,d,p,u,f,_,h,m,k=n[3].headline.toUpperCase()+"",v=n[3].content+"",g=e.noop;return{key:t,first:null,c(){s=(0,e.element)("div"),l=(0,e.element)("div"),o=(0,e.element)("b"),i=(0,e.text)(k),c=(0,e.space)(),d=(0,e.element)("span"),p=(0,e.text)(v),u=(0,e.space)(),(0,e.attr)(d,"class","paper-content svelte-1h4kkln"),(0,e.attr)(l,"class","paper svelte-1h4kkln"),(0,e.attr)(s,"class","content show svelte-1h4kkln"),this.first=s},m(t,n){(0,e.insert)(t,s,n),(0,e.append)(s,l),(0,e.append)(l,o),(0,e.append)(o,i),(0,e.append)(l,c),(0,e.append)(l,d),(0,e.append)(d,p),(0,e.append)(s,u),m=!0},p(t,a){n=t,(!m||2&a)&&k!==(k=n[3].headline.toUpperCase()+"")&&(0,e.set_data)(i,k),(!m||2&a)&&v!==(v=n[3].content+"")&&(0,e.set_data)(p,v)},r(){h=s.getBoundingClientRect()},f(){(0,e.fix_position)(s),g(),(0,e.add_transform)(s,h)},a(){g(),g=(0,e.create_animation)(s,h,a.flip,{duration:400})},i(t){m||((0,e.add_render_callback)(()=>{_&&_.end(1),(f=(0,e.create_in_transition)(s,r.fade,{duration:400})).start()}),m=!0)},o(t){f&&f.invalidate(),_=(0,e.create_out_transition)(s,r.fly,{x:500,duration:400}),m=!1},d(t){t&&(0,e.detach)(s),t&&_&&_.end()}}}function d(n){let a,r,s,o,d,p,u,f,_,h,m,k,v=n[0].color.toUpperCase()+"",g=[],q=new Map,x=n[1];const b=e=>e[3].id;for(let e=0;e<x.length;e+=1){let t=i(n,x,e),a=b(t);q.set(a,g[e]=c(a,t))}return{c(){a=(0,e.element)("div"),r=(0,e.element)("div"),s=(0,e.element)("div"),o=(0,e.element)("img"),p=(0,e.space)(),u=(0,e.element)("div"),f=(0,e.text)("STUDIO"),_=(0,e.element)("br"),h=(0,e.text)(v),m=(0,e.space)();for(let e=0;e<g.length;e+=1)g[e].c();(0,e.src_url_equal)(o.src,d=t.default[(0,l.iconName)(n[0].color)])||(0,e.attr)(o,"src",d),(0,e.attr)(o,"alt",""),(0,e.attr)(o,"width","20"),(0,e.attr)(o,"height","20"),(0,e.attr)(o,"class","svelte-1h4kkln"),(0,e.attr)(u,"class","studio svelte-1h4kkln"),(0,e.attr)(s,"class","header svelte-1h4kkln"),(0,e.attr)(r,"class","ticker svelte-1h4kkln"),(0,e.attr)(a,"class","ticker-wrap svelte-1h4kkln")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,r),(0,e.append)(r,s),(0,e.append)(s,o),(0,e.append)(s,p),(0,e.append)(s,u),(0,e.append)(u,f),(0,e.append)(u,_),(0,e.append)(u,h),(0,e.append)(r,m);for(let e=0;e<g.length;e+=1)g[e].m(r,null);k=!0},p(n,[a]){if((!k||1&a&&!(0,e.src_url_equal)(o.src,d=t.default[(0,l.iconName)(n[0].color)]))&&(0,e.attr)(o,"src",d),(!k||1&a)&&v!==(v=n[0].color.toUpperCase()+"")&&(0,e.set_data)(h,v),2&a){x=n[1],(0,e.group_outros)();for(let e=0;e<g.length;e+=1)g[e].r();g=(0,e.update_keyed_each)(g,a,b,1,n,x,q,r,e.fix_and_outro_and_destroy_block,c,null,i);for(let e=0;e<g.length;e+=1)g[e].a();(0,e.check_outros)()}},i(t){if(!k){for(let t=0;t<x.length;t+=1)(0,e.transition_in)(g[t]);k=!0}},o(t){for(let n=0;n<g.length;n+=1)(0,e.transition_out)(g[n]);k=!1},d(t){t&&(0,e.detach)(a);for(let e=0;e<g.length;e+=1)g[e].d()}}}function p(t,a,l){let o,i;(0,e.component_subscribe)(t,n.team,e=>l(0,o=e)),(0,e.component_subscribe)(t,n.latestHeadlines,e=>l(1,i=e));const[c]=(0,r.crossfade)({duration:e=>Math.sqrt(200*e),fallback(e){const t=getComputedStyle(e),n="none"===t.transform?"":t.transform;return{duration:600,easing:s.quintOut,css:e=>`\n\t\t\t\t\ttransform: ${n} scale(${e});\n\t\t\t\t\topacity: ${e};\n\t\t\t\t`}}});return[o,i]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,p,d,e.safe_not_equal,{})}}var f=u;exports.default=f;
},{"svelte/internal":"YkLP","../../assets/teams/*.png":"mt6y","../../":"QCba","svelte/animate":"Fcs8","svelte/transition":"FfFJ","svelte/easing":"FEIa","../../colors":"Td8d"}],"ULkD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=require("../../../../server/src/shared/GamePhase"),r=a(require("../icons/BuzzIcon.svelte")),o=a(require("../icons/HexIcon.svelte")),s=a(require("../misc/Headline.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function i(t){let n,r;return n=new o.default({props:{width:15,color:"black",fill:!0}}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,o){(0,e.mount_component)(n,t,o),r=!0},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function u(t){let n,o;return n=new r.default({props:{width:15,color:"black"}}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,r){(0,e.mount_component)(n,t,r),o=!0},i(t){o||((0,e.transition_in)(n.$$.fragment,t),o=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),o=!1},d(t){(0,e.destroy_component)(n,t)}}}function c(t){let r,o,a,c,p,d,m,_,f,$,v,g,k,x=l(t[0]+1)+"",q=l((0,n.totalWeekendsOfSeason)(t[1]))+"";const w=[u,i],b=[];function h(e,t){return 0===e[0]?0:1}return f=h(t),$=b[f]=w[f](t),g=new s.default({}),{c(){r=(0,e.element)("div"),o=(0,e.element)("div"),a=(0,e.text)("WEEK "),c=(0,e.text)(x),p=(0,e.text)(" OF "),d=(0,e.text)(q),m=(0,e.space)(),_=(0,e.element)("div"),$.c(),v=(0,e.space)(),(0,e.create_component)(g.$$.fragment),(0,e.attr)(o,"class","week svelte-m89ksu"),(0,e.attr)(_,"class","type svelte-m89ksu"),(0,e.attr)(r,"class","wrapper svelte-m89ksu")},m(t,n){(0,e.insert)(t,r,n),(0,e.append)(r,o),(0,e.append)(o,a),(0,e.append)(o,c),(0,e.append)(o,p),(0,e.append)(o,d),(0,e.append)(r,m),(0,e.append)(r,_),b[f].m(_,null),(0,e.append)(r,v),(0,e.mount_component)(g,r,null),k=!0},p(t,[r]){(!k||1&r)&&x!==(x=l(t[0]+1)+"")&&(0,e.set_data)(c,x),(!k||2&r)&&q!==(q=l((0,n.totalWeekendsOfSeason)(t[1]))+"")&&(0,e.set_data)(d,q);let o=f;(f=h(t))!==o&&((0,e.group_outros)(),(0,e.transition_out)(b[o],1,1,()=>{b[o]=null}),(0,e.check_outros)(),($=b[f])||($=b[f]=w[f](t)).c(),(0,e.transition_in)($,1),$.m(_,null))},i(t){k||((0,e.transition_in)($),(0,e.transition_in)(g.$$.fragment,t),k=!0)},o(t){(0,e.transition_out)($),(0,e.transition_out)(g.$$.fragment,t),k=!1},d(t){t&&(0,e.detach)(r),b[f].d(),(0,e.destroy_component)(g)}}}function l(e){return 1===e?"ONE":2===e?"TWO":3===e?"THREE":4===e?"FOUR":e.toString()}function p(n,r,o){let s,a;return(0,e.component_subscribe)(n,t.currentWeekend,e=>o(0,s=e)),(0,e.component_subscribe)(n,t.gamestate,e=>o(1,a=e)),[s,a]}require("../misc/NewsTicker.svelte");class d extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,p,c,e.safe_not_equal,{})}}var m=d;exports.default=m;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/shared/GamePhase":"wedU","../icons/BuzzIcon.svelte":"kDjJ","../icons/HexIcon.svelte":"rN2l","../misc/Headline.svelte":"CRTR","../misc/NewsTicker.svelte":"IDfE"}],"buXl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=a(require("../misc/TotalScore.svelte")),n=a(require("../phase-status/PhaseStatus.svelte")),o=a(require("../release/Audience.svelte")),r=a(require("../release/ReleaseWeeks.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function s(a){let s,i,u,c,m,l,_,p,$;return s=new n.default({}),u=new t.default({}),l=new r.default({}),p=new o.default({}),{c(){(0,e.create_component)(s.$$.fragment),i=(0,e.space)(),(0,e.create_component)(u.$$.fragment),c=(0,e.space)(),m=(0,e.element)("div"),(0,e.create_component)(l.$$.fragment),_=(0,e.space)(),(0,e.create_component)(p.$$.fragment),(0,e.attr)(m,"class","weeks svelte-19tb94h")},m(t,n){(0,e.mount_component)(s,t,n),(0,e.insert)(t,i,n),(0,e.mount_component)(u,t,n),(0,e.insert)(t,c,n),(0,e.insert)(t,m,n),(0,e.mount_component)(l,m,null),(0,e.insert)(t,_,n),(0,e.mount_component)(p,t,n),$=!0},p:e.noop,i(t){$||((0,e.transition_in)(s.$$.fragment,t),(0,e.transition_in)(u.$$.fragment,t),(0,e.transition_in)(l.$$.fragment,t),(0,e.transition_in)(p.$$.fragment,t),$=!0)},o(t){(0,e.transition_out)(s.$$.fragment,t),(0,e.transition_out)(u.$$.fragment,t),(0,e.transition_out)(l.$$.fragment,t),(0,e.transition_out)(p.$$.fragment,t),$=!1},d(t){(0,e.destroy_component)(s,t),t&&(0,e.detach)(i),(0,e.destroy_component)(u,t),t&&(0,e.detach)(c),t&&(0,e.detach)(m),(0,e.destroy_component)(l),t&&(0,e.detach)(_),(0,e.destroy_component)(p,t)}}}class i extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,null,s,e.safe_not_equal,{})}}var u=i;exports.default=u;
},{"svelte/internal":"YkLP","../misc/TotalScore.svelte":"fd11","../phase-status/PhaseStatus.svelte":"p9ZA","../release/Audience.svelte":"R2aQ","../release/ReleaseWeeks.svelte":"ULkD"}],"waso":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),s=require("../../../../server/src/shared/GamePhase");function r(t){let s;const r=t[3].default,a=(0,e.create_slot)(r,t,t[2],null);return{c(){a&&a.c()},m(e,t){a&&a.m(e,t),s=!0},p(t,[o]){a&&a.p&&(!s||4&o)&&(0,e.update_slot_base)(a,r,t,t[2],s?(0,e.get_slot_changes)(r,t[2],o,null):(0,e.get_all_dirty_from_scope)(t[2]),null)},i(t){s||((0,e.transition_in)(a,t),s=!0)},o(t){(0,e.transition_out)(a,t),s=!1},d(e){a&&a.d(e)}}}function a(r,a,o){let n,i;(0,e.component_subscribe)(r,t.phase,e=>o(0,n=e)),(0,e.component_subscribe)(r,t.gamestate,e=>o(1,i=e));let{$$slots:l={},$$scope:u}=a,c="";return r.$$set=(e=>{"$$scope"in e&&o(2,u=e.$$scope)}),r.$$.update=(()=>{3&r.$$.dirty&&(c=i.timer<7.5&&!i.pause&&n!==s.GamePhase.Welcome&&(()=>n!==s.GamePhase.Spring&&n!==s.GamePhase.Summer&&n!==s.GamePhase.Holiday||(0,s.isLastWeekendOfSeason)(i))()?"out":"")}),[n,i,u,l]}class o extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,a,r,e.safe_not_equal,{})}}var n=o;exports.default=n;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/shared/GamePhase":"wedU"}],"OjCD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),r=s(require("../../assets/icons/*.png"));function s(e){return e&&e.__esModule?e:{default:e}}function n(t){let r,s,n,i,a=t[1].get(t[0]).rating/10+"";return{c(){r=(0,e.element)("div"),s=(0,e.element)("div"),n=(0,e.text)(a),(0,e.attr)(s,"class","svelte-zy2jbs"),(0,e.attr)(r,"class","script svelte-zy2jbs"),(0,e.attr)(r,"style",i=`${t[2](t[1].get(t[0]).rating)}`)},m(t,i){(0,e.insert)(t,r,i),(0,e.append)(r,s),(0,e.append)(s,n)},p(t,[s]){3&s&&a!==(a=t[1].get(t[0]).rating/10+"")&&(0,e.set_data)(n,a),3&s&&i!==(i=`${t[2](t[1].get(t[0]).rating)}`)&&(0,e.attr)(r,"style",i)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(r)}}}function i(s,n,i){let a;(0,e.component_subscribe)(s,t.scripts,e=>i(1,a=e));let{title:l}=n;return s.$$set=(e=>{"title"in e&&i(0,l=e.title)}),[l,a,e=>`background-image: url("${r.default[e<=30?"0-3":e<=70?"3-7":"7-10"]}")`]}class a extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,i,n,e.safe_not_equal,{title:0})}}var l=a;exports.default=l;
},{"svelte/internal":"YkLP","../..":"QCba","../../assets/icons/*.png":"osOg"}],"G2da":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("svelte"),n=require("../.."),r=l(require("../auction/MysteryRating.svelte"));function l(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){const r=t.slice();return r[9]=e[n],r}function s(e){let n,l,i,s;return l=new r.default({props:{title:e[9]}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(l.$$.fragment),i=(0,t.space)(),(0,t.attr)(n,"class","script")},m(e,r){(0,t.insert)(e,n,r),(0,t.mount_component)(l,n,null),(0,t.append)(n,i),s=!0},p(t,e){const n={};2&e&&(n.title=t[9]),l.$set(n)},i(e){s||((0,t.transition_in)(l.$$.fragment,e),s=!0)},o(e){(0,t.transition_out)(l.$$.fragment,e),s=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(l)}}}function o(e){let n,r,l,i,s=e[0].amt+"";return{c(){n=(0,t.element)("div"),r=(0,t.text)("YOU BID $"),l=(0,t.text)(s),i=(0,t.text)("M"),(0,t.attr)(n,"class","confirmed svelte-1j8xc5h")},m(e,s){(0,t.insert)(e,n,s),(0,t.append)(n,r),(0,t.append)(n,l),(0,t.append)(n,i)},p(e,n){1&n&&s!==(s=e[0].amt+"")&&(0,t.set_data)(l,s)},d(e){e&&(0,t.detach)(n)}}}function a(e){let n,r,l;return{c(){n=(0,t.element)("input"),(0,t.attr)(n,"placeholder","TYPE BID"),(0,t.attr)(n,"type","number"),(0,t.attr)(n,"min","0"),(0,t.attr)(n,"class","svelte-1j8xc5h")},m(i,s){(0,t.insert)(i,n,s),e[6](n),(0,t.set_input_value)(n,e[2]),r||(l=[(0,t.listen)(n,"input",e[7]),(0,t.listen)(n,"keydown",e[8]),(0,t.listen)(n,"keyup",e[4])],r=!0)},p(e,r){4&r&&(0,t.to_number)(n.value)!==e[2]&&(0,t.set_input_value)(n,e[2])},d(i){i&&(0,t.detach)(n),e[6](null),r=!1,(0,t.run_all)(l)}}}function u(e){let n,r,l,u,c,p,d=e[1].mysteryAuction.titles,m=[];for(let t=0;t<d.length;t+=1)m[t]=s(i(e,d,t));const f=e=>(0,t.transition_out)(m[e],1,1,()=>{m[e]=null});function _(t,e){return t[0]?o:a}let h=_(e),v=h(e);return{c(){n=(0,t.element)("div"),r=(0,t.element)("div");for(let t=0;t<m.length;t+=1)m[t].c();l=(0,t.space)(),u=(0,t.element)("div"),c=(0,t.element)("div"),v.c(),(0,t.attr)(r,"class","scripts svelte-1j8xc5h"),(0,t.attr)(u,"class","wrapper svelte-1j8xc5h"),(0,t.attr)(n,"class","auction svelte-1j8xc5h")},m(e,i){(0,t.insert)(e,n,i),(0,t.append)(n,r);for(let t=0;t<m.length;t+=1)m[t].m(r,null);(0,t.append)(n,l),(0,t.append)(n,u),(0,t.append)(u,c),v.m(c,null),p=!0},p(e,[n]){if(2&n){let l;for(d=e[1].mysteryAuction.titles,l=0;l<d.length;l+=1){const o=i(e,d,l);m[l]?(m[l].p(o,n),(0,t.transition_in)(m[l],1)):(m[l]=s(o),m[l].c(),(0,t.transition_in)(m[l],1),m[l].m(r,null))}for((0,t.group_outros)(),l=d.length;l<m.length;l+=1)f(l);(0,t.check_outros)()}h===(h=_(e))&&v?v.p(e,n):(v.d(1),(v=h(e))&&(v.c(),v.m(c,null)))},i(e){if(!p){for(let e=0;e<d.length;e+=1)(0,t.transition_in)(m[e]);p=!0}},o(e){m=m.filter(Boolean);for(let n=0;n<m.length;n+=1)(0,t.transition_out)(m[n]);p=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_each)(m,e),v.d()}}}function c(r,l,i){let s,o,a,u,c;(0,t.component_subscribe)(r,n.team,t=>i(5,s=t)),(0,t.component_subscribe)(r,n.gamestate,t=>i(1,o=t));(0,e.onMount)(()=>{null==c||c.focus()});return r.$$.update=(()=>{34&r.$$.dirty&&i(0,u=o.mysteryAuction.bids.find(t=>t.team===s.color))}),[u,o,a,c,t=>{"Enter"===t.key&&a>0&&(0,n.emit)("mysteryBid",{amt:a})},s,function(e){t.binding_callbacks[e?"unshift":"push"](()=>{i(3,c=e)})},function(){a=(0,t.to_number)(this.value),i(2,a)},t=>{("."===t.key||"-"===t.key||a&&a.toString().length>=3&&"Backspace"!=t.key)&&t.preventDefault(),"Enter"===t.key&&t.stopPropagation()}]}class p extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,c,u,t.safe_not_equal,{})}}var d=p;exports.default=d;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../auction/MysteryRating.svelte":"OjCD"}],"ZV8N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal");function t(t){let s,a,l,n,p,r,o,c;return{c(){s=(0,e.element)("div"),a=(0,e.element)("div"),l=(0,e.space)(),n=(0,e.element)("div"),p=(0,e.space)(),r=(0,e.element)("div"),o=(0,e.space)(),c=(0,e.element)("div"),(0,e.attr)(a,"class","source-spread svelte-1xx0gbf"),(0,e.attr)(n,"class","source svelte-1xx0gbf"),(0,e.attr)(r,"class","source-beam svelte-1xx0gbf"),(0,e.attr)(c,"class","source-beam vertical svelte-1xx0gbf"),(0,e.attr)(s,"class","camera-flash svelte-1xx0gbf"),(0,e.set_style)(s,"--x-pos",t[0]),(0,e.set_style)(s,"--y-pos",t[1])},m(t,d){(0,e.insert)(t,s,d),(0,e.append)(s,a),(0,e.append)(s,l),(0,e.append)(s,n),(0,e.append)(s,p),(0,e.append)(s,r),(0,e.append)(s,o),(0,e.append)(s,c)},p(t,[a]){1&a&&(0,e.set_style)(s,"--x-pos",t[0]),2&a&&(0,e.set_style)(s,"--y-pos",t[1])},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(s)}}}function s(e,t,s){let{x:a}=t,{y:l}=t;return e.$$set=(e=>{"x"in e&&s(0,a=e.x),"y"in e&&s(1,l=e.y)}),[a,l]}class a extends e.SvelteComponent{constructor(a){super(),(0,e.init)(this,a,s,t,e.safe_not_equal,{x:0,y:1})}}var l=a;exports.default=l;
},{"svelte/internal":"YkLP"}],"TSuT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("svelte"),n=o(require("./Flash.svelte"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t,e,n){const o=t.slice();return o[5]=e[n][0],o[6]=e[n][1],o}function s(e,o){let r,s,l;return s=new n.default({props:{x:o[6].x,y:o[6].y}}),{key:e,first:null,c(){r=(0,t.empty)(),(0,t.create_component)(s.$$.fragment),this.first=r},m(e,n){(0,t.insert)(e,r,n),(0,t.mount_component)(s,e,n),l=!0},p(t,e){o=t;const n={};1&e&&(n.x=o[6].x),1&e&&(n.y=o[6].y),s.$set(n)},i(e){l||((0,t.transition_in)(s.$$.fragment,e),l=!0)},o(e){(0,t.transition_out)(s.$$.fragment,e),l=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_component)(s,e)}}}function l(e){let n,o,l,i=[],a=new Map,u=Object.entries(e[0]);const c=t=>t[6].id;for(let t=0;t<u.length;t+=1){let n=r(e,u,t),o=c(n);a.set(o,i[t]=s(o,n))}const d=e[2].default,_=(0,t.create_slot)(d,e,e[1],null);return{c(){n=(0,t.element)("div");for(let t=0;t<i.length;t+=1)i[t].c();o=(0,t.space)(),_&&_.c(),(0,t.attr)(n,"class","flash-container svelte-lfpzt5")},m(e,r){(0,t.insert)(e,n,r);for(let t=0;t<i.length;t+=1)i[t].m(n,null);(0,t.insert)(e,o,r),_&&_.m(e,r),l=!0},p(e,[o]){1&o&&(u=Object.entries(e[0]),(0,t.group_outros)(),i=(0,t.update_keyed_each)(i,o,c,1,e,u,a,n,t.outro_and_destroy_block,s,null,r),(0,t.check_outros)()),_&&_.p&&(!l||2&o)&&(0,t.update_slot_base)(_,d,e,e[1],l?(0,t.get_slot_changes)(d,e[1],o,null):(0,t.get_all_dirty_from_scope)(e[1]),null)},i(e){if(!l){for(let e=0;e<u.length;e+=1)(0,t.transition_in)(i[e]);(0,t.transition_in)(_,e),l=!0}},o(e){for(let n=0;n<i.length;n+=1)(0,t.transition_out)(i[n]);(0,t.transition_out)(_,e),l=!1},d(e){e&&(0,t.detach)(n);for(let t=0;t<i.length;t+=1)i[t].d();e&&(0,t.detach)(o),_&&_.d(e)}}}function i(t,n,o){let r,{$$slots:s={},$$scope:l}=n,i={};function a(){let t=0;for(;t<5;){t++;const e=Math.ceil(1e3*Math.random());setTimeout(()=>{const t={id:Date.now(),x:`${Math.round(Math.random()*window.innerWidth)}px`,y:`${Math.round(Math.random()*window.innerHeight-500)}px`};o(0,i[t.id]=t,i),setTimeout(()=>delete i[t.id],400)},e)}}return(0,e.onMount)(()=>{a(),r=setInterval(()=>a(),3e3)}),(0,e.onDestroy)(()=>{clearInterval(r)}),t.$$set=(t=>{"$$scope"in t&&o(1,l=t.$$scope)}),[i,l,s]}class a extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,i,l,t.safe_not_equal,{})}}var u=a;exports.default=u;
},{"svelte/internal":"YkLP","svelte":"XrLp","./Flash.svelte":"ZV8N"}],"dVfP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=require("../../colors"),p=a(require("../flashes/Flashes.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function s(t){let p,a,s,r,o,d,l,c,i,m,u,x,f,$,O,_,g,E,y,C,B,b,v,h,F,I,M,A,P,R,S=t[2].color.toUpperCase()+"",T=t[0].settings.springBoxOffice+"",q=t[0].settings.summerBoxOffice+"",H=t[0].settings.holidayBoxOffice+"";return{c(){p=(0,e.element)("div"),(a=(0,e.element)("h1")).textContent="HOLLYWOOD",s=(0,e.space)(),(r=(0,e.element)("p")).textContent="PLEASE WAIT FOR THE GAME TO BEGIN.",o=(0,e.space)(),d=(0,e.element)("p"),l=(0,e.text)("YOU ARE "),c=(0,e.element)("b"),i=(0,e.text)(S),u=(0,e.text)("."),x=(0,e.space)(),f=(0,e.element)("p"),$=(0,e.text)("THERE ARE "),O=(0,e.element)("b"),_=(0,e.text)(t[1]),g=(0,e.text)(" SCRIPTS."),E=(0,e.space)(),y=(0,e.element)("p"),C=(0,e.text)("SPRING BOX OFFICE: $"),B=(0,e.text)(T),b=(0,e.text)("M"),v=(0,e.element)("br"),h=(0,e.text)("\n      SUMMER BOX OFFICE: $"),F=(0,e.text)(q),I=(0,e.text)("M"),M=(0,e.element)("br"),A=(0,e.text)("\n      HOLIDAY BOX OFFICE: $"),P=(0,e.text)(H),R=(0,e.text)("M"),(0,e.attr)(a,"class","svelte-1y0lcmp"),(0,e.attr)(c,"style",m=`color: ${(0,n.getPlayerColor)(t[2].color)}`),(0,e.attr)(p,"class","text-center")},m(t,n){(0,e.insert)(t,p,n),(0,e.append)(p,a),(0,e.append)(p,s),(0,e.append)(p,r),(0,e.append)(p,o),(0,e.append)(p,d),(0,e.append)(d,l),(0,e.append)(d,c),(0,e.append)(c,i),(0,e.append)(d,u),(0,e.append)(p,x),(0,e.append)(p,f),(0,e.append)(f,$),(0,e.append)(f,O),(0,e.append)(O,_),(0,e.append)(f,g),(0,e.append)(p,E),(0,e.append)(p,y),(0,e.append)(y,C),(0,e.append)(y,B),(0,e.append)(y,b),(0,e.append)(y,v),(0,e.append)(y,h),(0,e.append)(y,F),(0,e.append)(y,I),(0,e.append)(y,M),(0,e.append)(y,A),(0,e.append)(y,P),(0,e.append)(y,R)},p(t,p){4&p&&S!==(S=t[2].color.toUpperCase()+"")&&(0,e.set_data)(i,S),4&p&&m!==(m=`color: ${(0,n.getPlayerColor)(t[2].color)}`)&&(0,e.attr)(c,"style",m),2&p&&(0,e.set_data)(_,t[1]),1&p&&T!==(T=t[0].settings.springBoxOffice+"")&&(0,e.set_data)(B,T),1&p&&q!==(q=t[0].settings.summerBoxOffice+"")&&(0,e.set_data)(F,q),1&p&&H!==(H=t[0].settings.holidayBoxOffice+"")&&(0,e.set_data)(P,H)},d(t){t&&(0,e.detach)(p)}}}function r(t){let n,a;return n=new p.default({props:{$$slots:{default:[s]},$$scope:{ctx:t}}}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,p){(0,e.mount_component)(n,t,p),a=!0},p(e,[t]){const p={};15&t&&(p.$$scope={dirty:t,ctx:e}),n.$set(p)},i(t){a||((0,e.transition_in)(n.$$.fragment,t),a=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),a=!1},d(t){(0,e.destroy_component)(n,t)}}}function o(n,p,a){let s,r;(0,e.component_subscribe)(n,t.gamestate,e=>a(0,s=e)),(0,e.component_subscribe)(n,t.team,e=>a(2,r=e));let o=0;return n.$$.update=(()=>{if(1&n.$$.dirty){const e=Array.from(s.teams).length;a(1,o=e+e*s.settings.scriptsPerTeam)}}),[s,o,r]}class d extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,o,r,e.safe_not_equal,{})}}var l=d;exports.default=l;
},{"svelte/internal":"YkLP","../..":"QCba","../../colors":"Td8d","../flashes/Flashes.svelte":"TSuT"}],"MZ8i":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,c=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(c=(i<3?o(c):i>3?o(e,r,c):o(e,r))||c);return i>3&&c&&Object.defineProperty(e,r,c),c},r=this&&this.__spreadArray||function(t,e,r){if(r||2===arguments.length)for(var n,o=0,i=e.length;o<i;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getBids=exports.getSecondPlaceBid=exports.getWinningBid=exports.Bid=void 0;var n=require("@colyseus/schema"),o=function(r){function o(t){var e=t.title,n=t.team,o=t.amt,i=r.call(this)||this;return i.timestamp=(new Date).getTime(),i.title=e,i.amt=o,i.team=n,i}return t(o,r),e([(0,n.type)("string")],o.prototype,"team",void 0),e([(0,n.type)("string")],o.prototype,"title",void 0),e([(0,n.type)("uint32")],o.prototype,"amt",void 0),e([(0,n.type)("int64")],o.prototype,"timestamp",void 0),o}(n.Schema);exports.Bid=o;var i=function(t){var e=t.auction,n=t.title,o=t.index,i=[];return Array.from(e.bids).filter(function(t){return t.title===n}).sort(function(t,e){return e.amt-t.amt}).reduce(function(t,e){return i.find(function(t){return t===e.team})?t:(i.push(e.team),r(r([],t,!0),[e],!1))},[])[o]},c=function(t){var e=t.auction,r=t.title;return i({auction:e,title:r,index:0})};exports.getWinningBid=c;var a=function(t){var e=t.auction,r=t.title;return i({auction:e,title:r,index:1})};exports.getSecondPlaceBid=a;var u=function(t){var e=t.auction,r=t.title;return Array.from(e.bids).filter(function(t){return t.title===r}).slice(-3)};exports.getBids=u;
},{"@colyseus/schema":"SdlP"}],"E0Ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../colors"),r=a(require("../../assets/teams/*.png"));function a(e){return e&&e.__esModule?e:{default:e}}function o(a){let o,n,l,s,i,u,d;return{c(){o=(0,e.element)("div"),n=(0,e.element)("img"),s=(0,e.text)("\n  $"),i=(0,e.text)(a[0]),u=(0,e.text)("M"),(0,e.src_url_equal)(n.src,l=r.default[(0,t.iconName)(a[1])])||(0,e.attr)(n,"src",l),(0,e.attr)(n,"alt",a[1]),(0,e.attr)(n,"width","15"),(0,e.attr)(o,"class","bid .pop-in svelte-1nlw3im"),(0,e.attr)(o,"style",d=`background-color: ${a[2]?"none":(0,t.getPlayerColor)(a[1])}`)},m(t,r){(0,e.insert)(t,o,r),(0,e.append)(o,n),(0,e.append)(o,s),(0,e.append)(o,i),(0,e.append)(o,u)},p(a,[s]){2&s&&!(0,e.src_url_equal)(n.src,l=r.default[(0,t.iconName)(a[1])])&&(0,e.attr)(n,"src",l),2&s&&(0,e.attr)(n,"alt",a[1]),1&s&&(0,e.set_data)(i,a[0]),6&s&&d!==(d=`background-color: ${a[2]?"none":(0,t.getPlayerColor)(a[1])}`)&&(0,e.attr)(o,"style",d)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(o)}}}function n(e,t,r){let{amt:a}=t,{team:o}=t,{hideColor:n}=t;return e.$$set=(e=>{"amt"in e&&r(0,a=e.amt),"team"in e&&r(1,o=e.team),"hideColor"in e&&r(2,n=e.hideColor)}),[a,o,n]}class l extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,n,o,e.safe_not_equal,{amt:0,team:1,hideColor:2})}}var s=l;exports.default=s;
},{"svelte/internal":"YkLP","../../colors":"Td8d","../../assets/teams/*.png":"mt6y"}],"Ak19":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../..");require("../../../../server/src/rooms/schema/Bid");var n=o(require("../auction/MysteryRating.svelte")),r=o(require("../script-stats/TeamAndBid.svelte"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){const r=t.slice();return r[3]=e[n],r}function i(e){let o,s,i,a,l,c;return s=new n.default({props:{title:e[3]}}),a=new r.default({props:{amt:e[2](e[1].get(e[3]).team),team:e[1].get(e[3]).team}}),{c(){o=(0,t.element)("div"),(0,t.create_component)(s.$$.fragment),i=(0,t.space)(),(0,t.create_component)(a.$$.fragment),l=(0,t.space)(),(0,t.attr)(o,"class","result svelte-1chgsyc")},m(e,n){(0,t.insert)(e,o,n),(0,t.mount_component)(s,o,null),(0,t.append)(o,i),(0,t.mount_component)(a,o,null),(0,t.append)(o,l),c=!0},p(t,e){const n={};1&e&&(n.title=t[3]),s.$set(n);const r={};3&e&&(r.amt=t[2](t[1].get(t[3]).team)),3&e&&(r.team=t[1].get(t[3]).team),a.$set(r)},i(e){c||((0,t.transition_in)(s.$$.fragment,e),(0,t.transition_in)(a.$$.fragment,e),c=!0)},o(e){(0,t.transition_out)(s.$$.fragment,e),(0,t.transition_out)(a.$$.fragment,e),c=!1},d(e){e&&(0,t.detach)(o),(0,t.destroy_component)(s),(0,t.destroy_component)(a)}}}function a(e){let n,r,o=e[0].mysteryAuction.titles,a=[];for(let t=0;t<o.length;t+=1)a[t]=i(s(e,o,t));const l=e=>(0,t.transition_out)(a[e],1,1,()=>{a[e]=null});return{c(){n=(0,t.element)("div");for(let t=0;t<a.length;t+=1)a[t].c();(0,t.attr)(n,"class","results svelte-1chgsyc")},m(e,o){(0,t.insert)(e,n,o);for(let t=0;t<a.length;t+=1)a[t].m(n,null);r=!0},p(e,[r]){if(7&r){let c;for(o=e[0].mysteryAuction.titles,c=0;c<o.length;c+=1){const l=s(e,o,c);a[c]?(a[c].p(l,r),(0,t.transition_in)(a[c],1)):(a[c]=i(l),a[c].c(),(0,t.transition_in)(a[c],1),a[c].m(n,null))}for((0,t.group_outros)(),c=o.length;c<a.length;c+=1)l(c);(0,t.check_outros)()}},i(e){if(!r){for(let e=0;e<o.length;e+=1)(0,t.transition_in)(a[e]);r=!0}},o(e){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)(0,t.transition_out)(a[n]);r=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_each)(a,e)}}}function l(n,r,o){let s,i;(0,t.component_subscribe)(n,e.gamestate,t=>o(0,s=t)),(0,t.component_subscribe)(n,e.scripts,t=>o(1,i=t));return[s,i,t=>{var e;return(null===(e=s.mysteryAuction.bids.find(e=>e.team===t))||void 0===e?void 0:e.amt)||0}]}class c extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,l,a,t.safe_not_equal,{})}}var u=c;exports.default=u;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Bid":"MZ8i","../auction/MysteryRating.svelte":"OjCD","../script-stats/TeamAndBid.svelte":"E0Ix"}],"BVGI":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.TalentType=void 0,function(e){e.Director="director",e.Crew="crew",e.Cast="cast"}(e=exports.TalentType||(exports.TalentType={}));
},{}],"jThR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=r(require("../script-stats/Genre.svelte")),n=require("../.."),o=require("../../../../server/src/shared/GamePhase");function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){const o=e.slice();return o[4]=t[n],o}function i(e,t,n){const o=e.slice();return o[4]=t[n],o}function a(n){let r,s,i;return s=new t.default({props:{genre:n[4],showText:!1,glow:n[1]===o.GamePhase.Shopping&&n[2][n[4]],color:n[3].color}}),{c(){r=(0,e.text)("↑"),(0,e.create_component)(s.$$.fragment)},m(t,n){(0,e.insert)(t,r,n),(0,e.mount_component)(s,t,n),i=!0},p(e,t){const n={};1&t&&(n.genre=e[4]),7&t&&(n.glow=e[1]===o.GamePhase.Shopping&&e[2][e[4]]),8&t&&(n.color=e[3].color),s.$set(n)},i(t){i||((0,e.transition_in)(s.$$.fragment,t),i=!0)},o(t){(0,e.transition_out)(s.$$.fragment,t),i=!1},d(t){t&&(0,e.detach)(r),(0,e.destroy_component)(s,t)}}}function c(n){let o,r,s;return r=new t.default({props:{genre:n[4],showText:!1}}),{c(){o=(0,e.text)("↓"),(0,e.create_component)(r.$$.fragment)},m(t,n){(0,e.insert)(t,o,n),(0,e.mount_component)(r,t,n),s=!0},p(e,t){const n={};1&t&&(n.genre=e[4]),r.$set(n)},i(t){s||((0,e.transition_in)(r.$$.fragment,t),s=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),s=!1},d(t){t&&(0,e.detach)(o),(0,e.destroy_component)(r,t)}}}function l(t){let n,o,r,l,u,p=t[0].name.toUpperCase()+"",f=t[0].goodGenres,h=[];for(let e=0;e<f.length;e+=1)h[e]=a(i(t,f,e));const _=t=>(0,e.transition_out)(h[t],1,1,()=>{h[t]=null});let g=t[0].badGenres,m=[];for(let e=0;e<g.length;e+=1)m[e]=c(s(t,g,e));const d=t=>(0,e.transition_out)(m[t],1,1,()=>{m[t]=null});return{c(){n=(0,e.text)(p),o=(0,e.space)();for(let e=0;e<h.length;e+=1)h[e].c();r=(0,e.space)();for(let e=0;e<m.length;e+=1)m[e].c();l=(0,e.empty)()},m(t,s){(0,e.insert)(t,n,s),(0,e.insert)(t,o,s);for(let e=0;e<h.length;e+=1)h[e].m(t,s);(0,e.insert)(t,r,s);for(let e=0;e<m.length;e+=1)m[e].m(t,s);(0,e.insert)(t,l,s),u=!0},p(t,[o]){if((!u||1&o)&&p!==(p=t[0].name.toUpperCase()+"")&&(0,e.set_data)(n,p),15&o){let n;for(f=t[0].goodGenres,n=0;n<f.length;n+=1){const s=i(t,f,n);h[n]?(h[n].p(s,o),(0,e.transition_in)(h[n],1)):(h[n]=a(s),h[n].c(),(0,e.transition_in)(h[n],1),h[n].m(r.parentNode,r))}for((0,e.group_outros)(),n=f.length;n<h.length;n+=1)_(n);(0,e.check_outros)()}if(1&o){let n;for(g=t[0].badGenres,n=0;n<g.length;n+=1){const r=s(t,g,n);m[n]?(m[n].p(r,o),(0,e.transition_in)(m[n],1)):(m[n]=c(r),m[n].c(),(0,e.transition_in)(m[n],1),m[n].m(l.parentNode,l))}for((0,e.group_outros)(),n=g.length;n<m.length;n+=1)d(n);(0,e.check_outros)()}},i(t){if(!u){for(let t=0;t<f.length;t+=1)(0,e.transition_in)(h[t]);for(let t=0;t<g.length;t+=1)(0,e.transition_in)(m[t]);u=!0}},o(t){h=h.filter(Boolean);for(let n=0;n<h.length;n+=1)(0,e.transition_out)(h[n]);m=m.filter(Boolean);for(let n=0;n<m.length;n+=1)(0,e.transition_out)(m[n]);u=!1},d(t){t&&(0,e.detach)(n),t&&(0,e.detach)(o),(0,e.destroy_each)(h,t),t&&(0,e.detach)(r),(0,e.destroy_each)(m,t),t&&(0,e.detach)(l)}}}function u(t,o,r){let s,i,a;(0,e.component_subscribe)(t,n.phase,e=>r(1,s=e)),(0,e.component_subscribe)(t,n.genres,e=>r(2,i=e)),(0,e.component_subscribe)(t,n.team,e=>r(3,a=e));let{cast:c}=o;return t.$$set=(e=>{"cast"in e&&r(0,c=e.cast)}),[c,s,i,a]}class p extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,u,l,e.safe_not_equal,{cast:0})}}var f=p;exports.default=f;
},{"svelte/internal":"YkLP","../script-stats/Genre.svelte":"DCT3","../..":"QCba","../../../../server/src/shared/GamePhase":"wedU"}],"MCHW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("svelte"),n=require("../.."),r=require("../../../../server/src/rooms/schema/Script"),o=require("../../../../server/src/shared/TalentType"),s=require("../../colors"),i=a(require("../script-stats/Genre.svelte")),l=a(require("../talent/CastItem.svelte"));function a(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n){const r=t.slice();return r[0]=e[n],r}function p(t,e,n){const r=t.slice();return r[16]=e[n],r}function u(e){let n,o,s,i,l,a,p,u,m,_,f=e[4].toUpperCase()+"",h=[],g=new Map,$=e[1]===r.STUDIO&&d(e),y=e[0];const k=t=>t[0].name;for(let t=0;t<y.length;t+=1){let n=c(e,y,t),r=k(n);g.set(r,h[t]=v(r,n))}return{c(){n=(0,t.element)("div"),o=(0,t.element)("div"),$&&$.c(),s=(0,t.space)(),i=(0,t.element)("div"),l=(0,t.text)("STUDIO "),a=(0,t.text)(f),p=(0,t.space)();for(let t=0;t<h.length;t+=1)h[t].c();(0,t.attr)(i,"class","option-content"),(0,t.attr)(o,"class","option svelte-1nhjkrk"),(0,t.attr)(n,"class","options svelte-1nhjkrk")},m(r,c){(0,t.insert)(r,n,c),(0,t.append)(n,o),$&&$.m(o,null),(0,t.append)(o,s),(0,t.append)(o,i),(0,t.append)(i,l),(0,t.append)(i,a),(0,t.append)(n,p);for(let t=0;t<h.length;t+=1)h[t].m(n,null);u=!0,m||(_=(0,t.listen)(o,"click",e[11]),m=!0)},p(e,i){e[1]===r.STUDIO?$||(($=d(e)).c(),$.m(o,s)):$&&($.d(1),$=null),(!u||16&i)&&f!==(f=e[4].toUpperCase()+"")&&(0,t.set_data)(a,f),187&i&&(y=e[0],(0,t.group_outros)(),h=(0,t.update_keyed_each)(h,i,k,1,e,y,g,n,t.outro_and_destroy_block,v,null,c),(0,t.check_outros)())},i(e){if(!u){for(let e=0;e<y.length;e+=1)(0,t.transition_in)(h[e]);u=!0}},o(e){for(let n=0;n<h.length;n+=1)(0,t.transition_out)(h[n]);u=!1},d(e){e&&(0,t.detach)(n),$&&$.d();for(let t=0;t<h.length;t+=1)h[t].d();m=!1,_()}}}function d(e){let n;return{c(){n=(0,t.text)("✓ ")},m(e,r){(0,t.insert)(e,n,r)},d(e){e&&(0,t.detach)(n)}}}function m(e){let n,r,s,i,l,a,c,p,u,d=e[1]===e[0].name&&_(e);const m=[h,f],g=[];function v(t,e){return t[0].type===o.TalentType.Director?0:t[0].type===o.TalentType.Cast?1:-1}function $(){return e[12](e[0])}return~(i=v(e))&&(l=g[i]=m[i](e)),{c(){n=(0,t.element)("div"),d&&d.c(),r=(0,t.space)(),s=(0,t.element)("div"),l&&l.c(),a=(0,t.space)(),(0,t.attr)(s,"class","option-content"),(0,t.attr)(n,"class","option svelte-1nhjkrk")},m(e,o){(0,t.insert)(e,n,o),d&&d.m(n,null),(0,t.append)(n,r),(0,t.append)(n,s),~i&&g[i].m(s,null),(0,t.append)(n,a),c=!0,p||(u=(0,t.listen)(n,"click",$),p=!0)},p(o,a){(e=o)[1]===e[0].name?d||((d=_(e)).c(),d.m(n,r)):d&&(d.d(1),d=null);let c=i;(i=v(e))===c?~i&&g[i].p(e,a):(l&&((0,t.group_outros)(),(0,t.transition_out)(g[c],1,1,()=>{g[c]=null}),(0,t.check_outros)()),~i?((l=g[i])?l.p(e,a):(l=g[i]=m[i](e)).c(),(0,t.transition_in)(l,1),l.m(s,null)):l=null)},i(e){c||((0,t.transition_in)(l),c=!0)},o(e){(0,t.transition_out)(l),c=!1},d(e){e&&(0,t.detach)(n),d&&d.d(),~i&&g[i].d(),p=!1,u()}}}function _(e){let n;return{c(){n=(0,t.text)("✓ ")},m(e,r){(0,t.insert)(e,n,r)},d(e){e&&(0,t.detach)(n)}}}function f(e){let n,r;return n=new l.default({props:{cast:e[0]}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},p(t,e){const r={};1&e&&(r.cast=t[0]),n.$set(r)},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function h(e){let n,r,o,s,i=e[0].name.toUpperCase()+"",l=e[0].genres,a=[];for(let t=0;t<l.length;t+=1)a[t]=g(p(e,l,t));const c=e=>(0,t.transition_out)(a[e],1,1,()=>{a[e]=null});return{c(){n=(0,t.text)(i),r=(0,t.space)();for(let t=0;t<a.length;t+=1)a[t].c();o=(0,t.empty)()},m(e,i){(0,t.insert)(e,n,i),(0,t.insert)(e,r,i);for(let t=0;t<a.length;t+=1)a[t].m(e,i);(0,t.insert)(e,o,i),s=!0},p(e,r){if((!s||1&r)&&i!==(i=e[0].name.toUpperCase()+"")&&(0,t.set_data)(n,i),1&r){let n;for(l=e[0].genres,n=0;n<l.length;n+=1){const s=p(e,l,n);a[n]?(a[n].p(s,r),(0,t.transition_in)(a[n],1)):(a[n]=g(s),a[n].c(),(0,t.transition_in)(a[n],1),a[n].m(o.parentNode,o))}for((0,t.group_outros)(),n=l.length;n<a.length;n+=1)c(n);(0,t.check_outros)()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)(0,t.transition_in)(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let n=0;n<a.length;n+=1)(0,t.transition_out)(a[n]);s=!1},d(e){e&&(0,t.detach)(n),e&&(0,t.detach)(r),(0,t.destroy_each)(a,e),e&&(0,t.detach)(o)}}}function g(e){let n,r;return n=new i.default({props:{genre:e[16],showText:!1}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},p(t,e){const r={};1&e&&(r.genre=t[16]),n.$set(r)},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function v(e,n){let r,o,s,i=n[0].team===n[5].color&&!n[3][n[4]]&&m(n);return{key:e,first:null,c(){r=(0,t.empty)(),i&&i.c(),o=(0,t.empty)(),this.first=r},m(e,n){(0,t.insert)(e,r,n),i&&i.m(e,n),(0,t.insert)(e,o,n),s=!0},p(e,r){(n=e)[0].team!==n[5].color||n[3][n[4]]?i&&((0,t.group_outros)(),(0,t.transition_out)(i,1,1,()=>{i=null}),(0,t.check_outros)()):i?(i.p(n,r),57&r&&(0,t.transition_in)(i,1)):((i=m(n)).c(),(0,t.transition_in)(i,1),i.m(o.parentNode,o))},i(e){s||((0,t.transition_in)(i),s=!0)},o(e){(0,t.transition_out)(i),s=!1},d(e){e&&(0,t.detach)(r),i&&i.d(e),e&&(0,t.detach)(o)}}}function $(e){let n,o,i,l,a,c,p,d,m,_,f=(e[1]?e[1]===r.STUDIO?`STUDIO ${e[4].toUpperCase()}`:e[1].toUpperCase():e[4].toUpperCase())+"",h=e[6]&&u(e);return{c(){n=(0,t.element)("div"),o=(0,t.element)("div"),i=(0,t.text)(f),a=(0,t.space)(),h&&h.c(),(0,t.attr)(o,"class",l="dropdown "+(e[1]?"selected":"")+" svelte-1nhjkrk"),(0,t.attr)(n,"class","wrapper svelte-1nhjkrk"),(0,t.attr)(n,"style",c=`\n  background-color: ${e[1]?(0,s.getPlayerColor)(e[5].color):"none"};\n  filter: ${e[2]?"brightness(0.75)":"none"};\n  cursor: ${e[2]?"default":"pointer"}\n  `)},m(r,s){(0,t.insert)(r,n,s),(0,t.append)(n,o),(0,t.append)(o,i),(0,t.append)(n,a),h&&h.m(n,null),d=!0,m||(_=[(0,t.listen)(o,"click",e[10]),(0,t.action_destroyer)(p=e[8].call(null,n))],m=!0)},p(e,[a]){(!d||18&a)&&f!==(f=(e[1]?e[1]===r.STUDIO?`STUDIO ${e[4].toUpperCase()}`:e[1].toUpperCase():e[4].toUpperCase())+"")&&(0,t.set_data)(i,f),(!d||2&a&&l!==(l="dropdown "+(e[1]?"selected":"")+" svelte-1nhjkrk"))&&(0,t.attr)(o,"class",l),e[6]?h?(h.p(e,a),64&a&&(0,t.transition_in)(h,1)):((h=u(e)).c(),(0,t.transition_in)(h,1),h.m(n,null)):h&&((0,t.group_outros)(),(0,t.transition_out)(h,1,1,()=>{h=null}),(0,t.check_outros)()),(!d||38&a&&c!==(c=`\n  background-color: ${e[1]?(0,s.getPlayerColor)(e[5].color):"none"};\n  filter: ${e[2]?"brightness(0.75)":"none"};\n  cursor: ${e[2]?"default":"pointer"}\n  `))&&(0,t.attr)(n,"style",c)},i(e){d||((0,t.transition_in)(h),d=!0)},o(e){(0,t.transition_out)(h),d=!1},d(e){e&&(0,t.detach)(n),h&&h.d(),m=!1,(0,t.run_all)(_)}}}function y(s,i,l){let a;(0,t.component_subscribe)(s,n.team,t=>l(5,a=t));let{talent:c=[]}=i,{selected:p}=i,{disabled:u=!1}=i,{script:d}=i,{talentType:m}=i,{eventName:_}=i;m===o.TalentType.Director&&(c=c.filter(t=>void 0===t.script||t.script===d.title));let f=!1;const h=(0,e.createEventDispatcher)(),g=t=>{h(_,t||""),l(6,f=!1)};return s.$$set=(t=>{"talent"in t&&l(0,c=t.talent),"selected"in t&&l(1,p=t.selected),"disabled"in t&&l(2,u=t.disabled),"script"in t&&l(3,d=t.script),"talentType"in t&&l(4,m=t.talentType),"eventName"in t&&l(9,_=t.eventName)}),s.$$.update=(()=>{4&s.$$.dirty&&u&&l(6,f=!1),35&s.$$.dirty&&p!==r.STUDIO&&c.find(t=>t.team!==a.color&&t.name===p)&&g(null)}),[c,p,u,d,m,a,f,g,function(t){const e=e=>{!t||t.contains(e.target)||e.defaultPrevented||l(6,f=!1)};return document.addEventListener("click",e,!0),{destroy(){document.removeEventListener("click",e,!0)}}},_,()=>{u||l(6,f=!f)},()=>g(r.STUDIO),t=>g(t.name)]}class k extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,y,$,t.safe_not_equal,{talent:0,selected:1,disabled:2,script:3,talentType:4,eventName:9})}}var T=k;exports.default=T;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../../../../server/src/rooms/schema/Script":"S3Qj","../../../../server/src/shared/TalentType":"BVGI","../../colors":"Td8d","../script-stats/Genre.svelte":"DCT3","../talent/CastItem.svelte":"jThR"}],"L1bg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../"),r=require("../../colors"),n=require("../../../../server/src/rooms/schema/Script"),a=s(require("./TalentDropdown.svelte")),l=require("../../../../server/src/shared/TalentType");function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r){const n=e.slice();return n[19]=t[r],n}function o(t){let r,n,a,l,s,c=t[19].name.toUpperCase()+"",o=(t[19].name===t[1]?"":` ${t[19].rating>0?"+":""}${t[19].rating/10}`)+"";return{c(){r=(0,e.element)("option"),n=(0,e.text)(c),a=(0,e.space)(),l=(0,e.text)(o),r.__value=s=t[19].name,r.value=r.__value,(0,e.attr)(r,"class","svelte-xfvq7v")},m(t,s){(0,e.insert)(t,r,s),(0,e.append)(r,n),(0,e.append)(r,a),(0,e.append)(r,l)},p(t,a){32&a&&c!==(c=t[19].name.toUpperCase()+"")&&(0,e.set_data)(n,c),34&a&&o!==(o=(t[19].name===t[1]?"":` ${t[19].rating>0?"+":""}${t[19].rating/10}`)+"")&&(0,e.set_data)(l,o),32&a&&s!==(s=t[19].name)&&(r.__value=s,r.value=r.__value)},d(t){t&&(0,e.detach)(r)}}}function i(t){let r,n=(t[19].team&&t[19].team===t[4].color&&!t[19].script||t[2].crew===t[19].name)&&o(t);return{c(){n&&n.c(),r=(0,e.empty)()},m(t,a){n&&n.m(t,a),(0,e.insert)(t,r,a)},p(e,t){e[19].team&&e[19].team===e[4].color&&!e[19].script||e[2].crew===e[19].name?n?n.p(e,t):((n=o(e)).c(),n.m(r.parentNode,r)):n&&(n.d(1),n=null)},d(t){n&&n.d(t),t&&(0,e.detach)(r)}}}function d(t){let r,s,o,d,p,u,m,v,_,f,$,g,y,h;(r=new a.default({props:{talent:t[7],talentType:l.TalentType.Director,selected:t[3],script:t[2],disabled:!!t[2].director,eventName:"dir"}})).$on("dir",t[14]),(o=new a.default({props:{talent:t[6],talentType:l.TalentType.Cast,selected:t[0],script:t[2],disabled:!!t[2].cast,eventName:"cst"}})).$on("cst",t[15]);let b=t[5],w=[];for(let e=0;e<b.length;e+=1)w[e]=i(c(t,b,e));return{c(){(0,e.create_component)(r.$$.fragment),s=(0,e.space)(),(0,e.create_component)(o.$$.fragment),d=(0,e.space)(),p=(0,e.element)("select"),(u=(0,e.element)("option")).textContent="CREW",m=(0,e.element)("option"),v=(0,e.text)("STUDIO CREW -5");for(let e=0;e<w.length;e+=1)w[e].c();(0,e.attr)(u,"class","default svelte-xfvq7v"),u.__value="",u.value=u.__value,m.__value=n.STUDIO,m.value=m.__value,(0,e.attr)(m,"class","svelte-xfvq7v"),p.disabled=_=!!t[2].crew,(0,e.attr)(p,"class",f=(0,e.null_to_empty)(t[1]?"":"default")+" svelte-xfvq7v"),(0,e.attr)(p,"style",$=t[9](t[1])),void 0===t[1]&&(0,e.add_render_callback)(()=>t[16].call(p))},m(n,a){(0,e.mount_component)(r,n,a),(0,e.insert)(n,s,a),(0,e.mount_component)(o,n,a),(0,e.insert)(n,d,a),(0,e.insert)(n,p,a),(0,e.append)(p,u),(0,e.append)(p,m),(0,e.append)(m,v);for(let e=0;e<w.length;e+=1)w[e].m(p,null);(0,e.select_option)(p,t[1]),g=!0,y||(h=[(0,e.listen)(p,"change",t[16]),(0,e.listen)(p,"change",t[17])],y=!0)},p(t,[n]){const a={};128&n&&(a.talent=t[7]),8&n&&(a.selected=t[3]),4&n&&(a.script=t[2]),4&n&&(a.disabled=!!t[2].director),r.$set(a);const l={};if(64&n&&(l.talent=t[6]),1&n&&(l.selected=t[0]),4&n&&(l.script=t[2]),4&n&&(l.disabled=!!t[2].cast),o.$set(l),54&n){let e;for(b=t[5],e=0;e<b.length;e+=1){const r=c(t,b,e);w[e]?w[e].p(r,n):(w[e]=i(r),w[e].c(),w[e].m(p,null))}for(;e<w.length;e+=1)w[e].d(1);w.length=b.length}(!g||4&n&&_!==(_=!!t[2].crew))&&(p.disabled=_),(!g||34&n&&f!==(f=(0,e.null_to_empty)(t[1]?"":"default")+" svelte-xfvq7v"))&&(0,e.attr)(p,"class",f),(!g||34&n&&$!==($=t[9](t[1])))&&(0,e.attr)(p,"style",$),34&n&&(0,e.select_option)(p,t[1])},i(t){g||((0,e.transition_in)(r.$$.fragment,t),(0,e.transition_in)(o.$$.fragment,t),g=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),(0,e.transition_out)(o.$$.fragment,t),g=!1},d(t){(0,e.destroy_component)(r,t),t&&(0,e.detach)(s),(0,e.destroy_component)(o,t),t&&(0,e.detach)(d),t&&(0,e.detach)(p),(0,e.destroy_each)(w,t),y=!1,(0,e.run_all)(h)}}}function p(a,l,s){let c,o,i,d,p,u,m;var v;(0,e.component_subscribe)(a,t.team,e=>s(4,d=e)),(0,e.component_subscribe)(a,t.cast,e=>s(11,p=e)),(0,e.component_subscribe)(a,t.crew,e=>s(12,u=e)),(0,e.component_subscribe)(a,t.directors,e=>s(13,m=e));const _=(0,e.createEventDispatcher)(),f=e=>{return[...e.filter(e=>e.team==d.color),...e.filter(e=>e.team!=d.color)]};let{script:$}=l,{dir:g=""}=l,{cst:y=""}=l,{crw:h=""}=l;return a.$$set=(e=>{"script"in e&&s(2,$=e.script),"dir"in e&&s(3,g=e.dir),"cst"in e&&s(0,y=e.cst),"crw"in e&&s(1,h=e.crw)}),a.$$.update=(()=>{8192&a.$$.dirty&&s(7,c=f(Array.from(m.values()))),2048&a.$$.dirty&&s(6,o=f(Array.from(p.values()))),4096&a.$$.dirty&&s(5,i=f(Array.from(u.values()))),3093&a.$$.dirty&&($.cast||y==n.STUDIO||(null===s(10,v=p.get(y))||void 0===v?void 0:v.team)===d.color||s(0,y=""))}),[y,h,$,g,d,i,o,c,_,e=>e?`background-color: ${(0,r.getPlayerColor)($.team)}`:void 0,v,p,u,m,e=>_("dir",e.detail),e=>_("cst",e.detail),function(){h=(0,e.select_value)(this),s(1,h),s(5,i),s(12,u)},e=>{_("crw",e.target.value)}]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,p,d,e.safe_not_equal,{script:2,dir:3,cst:0,crw:1})}}var m=u;exports.default=m;
},{"svelte/internal":"YkLP","../../":"QCba","../../colors":"Td8d","../../../../server/src/rooms/schema/Script":"S3Qj","./TalentDropdown.svelte":"MCHW","../../../../server/src/shared/TalentType":"BVGI","./../../fonts/SpaceMono-Regular.ttf":[["SpaceMono-Regular.5d0cd0a9.ttf","vggD"],"vggD"]}],"JdbC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../"),n=require("svelte"),a=r(require("../icons/BuzzIcon.svelte"));function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){const a=e.slice();return a[6]=t[n],a}function l(t){let n,r,i,l,o,s,u,c,d,p,_,f,v,m,h,$,g,k,x=t[6].buzz/10+"",z=t[6].amt+"";return r=new a.default({props:{color:"white",width:8}}),{c(){n=(0,e.element)("div"),(0,e.create_component)(r.$$.fragment),i=(0,e.text)(" "),l=(0,e.text)(x),o=(0,e.space)(),s=(0,e.element)("input"),d=(0,e.space)(),p=(0,e.element)("label"),_=(0,e.text)("$"),f=(0,e.text)(z),v=(0,e.text)("M"),h=(0,e.space)(),(0,e.attr)(s,"type","radio"),s.__value=u=t[6].id,s.value=s.__value,(0,e.attr)(s,"id",c=`radio-${t[0]+t[6].id}`),(0,e.attr)(s,"class","svelte-8icuzk"),t[4][0].push(s),(0,e.attr)(p,"for",m=`radio-${t[0]+t[6].id}`),(0,e.attr)(p,"class","svelte-8icuzk"),(0,e.attr)(n,"class","option svelte-8icuzk")},m(a,u){(0,e.insert)(a,n,u),(0,e.mount_component)(r,n,null),(0,e.append)(n,i),(0,e.append)(n,l),(0,e.append)(n,o),(0,e.append)(n,s),s.checked=s.__value===t[1],(0,e.append)(n,d),(0,e.append)(n,p),(0,e.append)(p,_),(0,e.append)(p,f),(0,e.append)(p,v),(0,e.append)(n,h),$=!0,g||(k=(0,e.listen)(s,"change",t[3]),g=!0)},p(t,n){(!$||4&n)&&x!==(x=t[6].buzz/10+"")&&(0,e.set_data)(l,x),(!$||4&n&&u!==(u=t[6].id))&&(s.__value=u,s.value=s.__value),(!$||5&n&&c!==(c=`radio-${t[0]+t[6].id}`))&&(0,e.attr)(s,"id",c),2&n&&(s.checked=s.__value===t[1]),(!$||4&n)&&z!==(z=t[6].amt+"")&&(0,e.set_data)(f,z),(!$||5&n&&m!==(m=`radio-${t[0]+t[6].id}`))&&(0,e.attr)(p,"for",m)},i(t){$||((0,e.transition_in)(r.$$.fragment,t),$=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),$=!1},d(a){a&&(0,e.detach)(n),(0,e.destroy_component)(r),t[4][0].splice(t[4][0].indexOf(s),1),g=!1,k()}}}function o(t){let n,a,r,o,s=Array.from(t[2].marketingOptions.values()),u=[];for(let e=0;e<s.length;e+=1)u[e]=l(i(t,s,e));const c=t=>(0,e.transition_out)(u[t],1,1,()=>{u[t]=null});return{c(){(n=(0,e.element)("div")).textContent="MARKETING",a=(0,e.space)(),r=(0,e.element)("div");for(let e=0;e<u.length;e+=1)u[e].c();(0,e.attr)(n,"class","label svelte-8icuzk"),(0,e.attr)(r,"class","options svelte-8icuzk")},m(t,i){(0,e.insert)(t,n,i),(0,e.insert)(t,a,i),(0,e.insert)(t,r,i);for(let e=0;e<u.length;e+=1)u[e].m(r,null);o=!0},p(t,[n]){if(7&n){let a;for(s=Array.from(t[2].marketingOptions.values()),a=0;a<s.length;a+=1){const o=i(t,s,a);u[a]?(u[a].p(o,n),(0,e.transition_in)(u[a],1)):(u[a]=l(o),u[a].c(),(0,e.transition_in)(u[a],1),u[a].m(r,null))}for((0,e.group_outros)(),a=s.length;a<u.length;a+=1)c(a);(0,e.check_outros)()}},i(t){if(!o){for(let t=0;t<s.length;t+=1)(0,e.transition_in)(u[t]);o=!0}},o(t){u=u.filter(Boolean);for(let n=0;n<u.length;n+=1)(0,e.transition_out)(u[n]);o=!1},d(t){t&&(0,e.detach)(n),t&&(0,e.detach)(a),t&&(0,e.detach)(r),(0,e.destroy_each)(u,t)}}}function s(a,r,i){let l;(0,e.component_subscribe)(a,t.gamestate,e=>i(2,l=e));let o,{title:s}=r;const u=(0,n.createEventDispatcher)();return a.$$set=(e=>{"title"in e&&i(0,s=e.title)}),a.$$.update=(()=>{2&a.$$.dirty&&u("market",o)}),[s,o,l,function(){o=this.__value,i(1,o)},[[]]]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,s,o,e.safe_not_equal,{title:0})}}var c=u;exports.default=c;
},{"svelte/internal":"YkLP","../../":"QCba","svelte":"XrLp","../icons/BuzzIcon.svelte":"kDjJ"}],"pk7U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../../colors");function r(t,e,r){const n=t.slice();return n[5]=e[r],n}function n(e){let r,n;return{c(){r=(0,t.element)("div"),(0,t.attr)(r,"class","equity svelte-err36p"),(0,t.attr)(r,"style",n=e[1](e[5]))},m(e,n){(0,t.insert)(e,r,n)},p(e,l){1&l&&n!==(n=e[1](e[5]))&&(0,t.attr)(r,"style",n)},d(e){e&&(0,t.detach)(r)}}}function l(e){let l,o=e[0],i=[];for(let t=0;t<o.length;t+=1)i[t]=n(r(e,o,t));return{c(){l=(0,t.element)("div");for(let t=0;t<i.length;t+=1)i[t].c();(0,t.attr)(l,"class","equities svelte-err36p")},m(e,r){(0,t.insert)(e,l,r);for(let t=0;t<i.length;t+=1)i[t].m(l,null)},p(t,[e]){if(3&e){let s;for(o=t[0],s=0;s<o.length;s+=1){const c=r(t,o,s);i[s]?i[s].p(c,e):(i[s]=n(c),i[s].c(),i[s].m(l,null))}for(;s<i.length;s+=1)i[s].d(1);i.length=o.length}},i:t.noop,o:t.noop,d(e){e&&(0,t.detach)(l),(0,t.destroy_each)(i,e)}}}function o(t,r,n){let{controllingPartner:l}=r,{silentPartner:o}=r,{directorEquity:i=0}=r;let s=[];return t.$$set=(t=>{"controllingPartner"in t&&n(2,l=t.controllingPartner),"silentPartner"in t&&n(3,o=t.silentPartner),"directorEquity"in t&&n(4,i=t.directorEquity)}),t.$$.update=(()=>{if(29&t.$$.dirty){const t=o?50:0,e=100-t-(i||0);n(0,s=[]);let r=t/10,c=e/10,u=i/10;for(;c--;)s.push(l);for(;r--;)s.push(o);for(;u--;)s.push("director");n(0,s=s.filter(t=>!!t)),0===s.length&&n(0,s=["","","","","","","","","",""])}}),[s,function(t){const r="director"===t?"white":(0,e.getPlayerColor)(t);return r?`background-color: ${r}`:"border: 1px solid gray"},l,o,i]}class i extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,o,l,t.safe_not_equal,{controllingPartner:2,silentPartner:3,directorEquity:4})}}var s=i;exports.default=s;
},{"svelte/internal":"YkLP","../../colors":"Td8d"}],"jFKW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=n(require("../icons/BuzzIcon.svelte"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){const o=t.slice();return o[5]=e[n],o}function r(t,e,n){const o=t.slice();return o[8]=e[n],o}function a(n){let o,r,a,l,s,i,u=Math.round(n[8])/10+"";return a=new e.default({props:{color:"black",width:6}}),{c(){o=(0,t.element)("span"),r=(0,t.element)("span"),(0,t.create_component)(a.$$.fragment),l=(0,t.text)("\n      +"),s=(0,t.text)(u),(0,t.attr)(r,"class","iconName"),(0,t.attr)(o,"class","buzzing increase svelte-v1uyjg")},m(e,n){(0,t.insert)(e,o,n),(0,t.append)(o,r),(0,t.mount_component)(a,r,null),(0,t.append)(o,l),(0,t.append)(o,s),i=!0},p(e,n){(!i||2&n)&&u!==(u=Math.round(e[8])/10+"")&&(0,t.set_data)(s,u)},i(e){i||((0,t.transition_in)(a.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(a.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(o),(0,t.destroy_component)(a)}}}function l(n){let o,r,a,l,s,i,u,c=Math.round(n[5])/10+"";return a=new e.default({props:{color:"black",width:6}}),{c(){o=(0,t.element)("span"),r=(0,t.element)("span"),(0,t.create_component)(a.$$.fragment),l=(0,t.space)(),s=(0,t.text)(c),i=(0,t.space)(),(0,t.attr)(r,"class","iconName"),(0,t.attr)(o,"class","buzzing decrease svelte-v1uyjg")},m(e,n){(0,t.insert)(e,o,n),(0,t.append)(o,r),(0,t.mount_component)(a,r,null),(0,t.append)(o,l),(0,t.append)(o,s),(0,t.append)(o,i),u=!0},p(e,n){(!u||4&n)&&c!==(c=Math.round(e[5])/10+"")&&(0,t.set_data)(s,c)},i(e){u||((0,t.transition_in)(a.$$.fragment,e),u=!0)},o(e){(0,t.transition_out)(a.$$.fragment,e),u=!1},d(e){e&&(0,t.detach)(o),(0,t.destroy_component)(a)}}}function s(n){let s,i,u,c,p,d,f,_,m,g=Math.round(n[0].buzz)/10+"";u=new e.default({props:{color:"#FFFF",width:6}});let h=n[1],$=[];for(let t=0;t<h.length;t+=1)$[t]=a(r(n,h,t));const z=e=>(0,t.transition_out)($[e],1,1,()=>{$[e]=null});let v=n[2],b=[];for(let t=0;t<v.length;t+=1)b[t]=l(o(n,v,t));const y=e=>(0,t.transition_out)(b[e],1,1,()=>{b[e]=null});return{c(){s=(0,t.element)("span"),i=(0,t.element)("div"),(0,t.create_component)(u.$$.fragment),p=(0,t.space)(),d=(0,t.text)(g),f=(0,t.space)();for(let t=0;t<$.length;t+=1)$[t].c();_=(0,t.space)();for(let t=0;t<b.length;t+=1)b[t].c();(0,t.attr)(i,"class",c=(0,t.null_to_empty)(n[3]())+" svelte-v1uyjg"),(0,t.attr)(s,"class","wrapper svelte-v1uyjg")},m(e,n){(0,t.insert)(e,s,n),(0,t.append)(s,i),(0,t.mount_component)(u,i,null),(0,t.append)(s,p),(0,t.append)(s,d),(0,t.append)(s,f);for(let t=0;t<$.length;t+=1)$[t].m(s,null);(0,t.append)(s,_);for(let t=0;t<b.length;t+=1)b[t].m(s,null);m=!0},p(e,[n]){if((!m||1&n)&&g!==(g=Math.round(e[0].buzz)/10+"")&&(0,t.set_data)(d,g),2&n){let o;for(h=e[1],o=0;o<h.length;o+=1){const l=r(e,h,o);$[o]?($[o].p(l,n),(0,t.transition_in)($[o],1)):($[o]=a(l),$[o].c(),(0,t.transition_in)($[o],1),$[o].m(s,_))}for((0,t.group_outros)(),o=h.length;o<$.length;o+=1)z(o);(0,t.check_outros)()}if(4&n){let r;for(v=e[2],r=0;r<v.length;r+=1){const a=o(e,v,r);b[r]?(b[r].p(a,n),(0,t.transition_in)(b[r],1)):(b[r]=l(a),b[r].c(),(0,t.transition_in)(b[r],1),b[r].m(s,null))}for((0,t.group_outros)(),r=v.length;r<b.length;r+=1)y(r);(0,t.check_outros)()}},i(e){if(!m){(0,t.transition_in)(u.$$.fragment,e);for(let e=0;e<h.length;e+=1)(0,t.transition_in)($[e]);for(let e=0;e<v.length;e+=1)(0,t.transition_in)(b[e]);m=!0}},o(e){(0,t.transition_out)(u.$$.fragment,e),$=$.filter(Boolean);for(let n=0;n<$.length;n+=1)(0,t.transition_out)($[n]);b=b.filter(Boolean);for(let n=0;n<b.length;n+=1)(0,t.transition_out)(b[n]);m=!1},d(e){e&&(0,t.detach)(s),(0,t.destroy_component)(u),(0,t.destroy_each)($,e),(0,t.destroy_each)(b,e)}}}function i(t,e,n){let{script:o}=e,r=o.buzz,a=[],l=[];return t.$$set=(t=>{"script"in t&&n(0,o=t.script)}),t.$$.update=(()=>{if(23&t.$$.dirty){const t=o.buzz-r;t>0?n(1,a=[...a,t]):t<0&&n(2,l=[...l,t]),n(4,r=o.buzz)}}),[o,a,l,function(){return`buzzing ${r<20?"":r<40?"small":r<80?"medium":"big"}`},r]}class u extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,i,s,t.safe_not_equal,{script:0})}}var c=u;exports.default=c;
},{"svelte/internal":"YkLP","../icons/BuzzIcon.svelte":"kDjJ"}],"rtry":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=require("../../../../server/src/rooms/schema/Script"),r=s(require("../icons/BuzzIcon.svelte")),i=s(require("../icons/HexIcon.svelte")),l=require("../../../../server/src/shared/GamePhase");function s(t){return t&&t.__esModule?t:{default:t}}function a(e){let r,i,l,s,a,d=e[5]>=0&&e[6]<=0&&o(e);const p=[u,c],m=[];function $(t,e){return t[0]===n.STUDIO?0:1}return l=$(e),s=m[l]=p[l](e),{c(){r=(0,t.element)("div"),d&&d.c(),i=(0,t.space)(),s.c(),(0,t.attr)(r,"class","meter svelte-1kxmrnl")},m(e,n){(0,t.insert)(e,r,n),d&&d.m(r,null),(0,t.append)(r,i),m[l].m(r,null),a=!0},p(e,n){e[5]>=0&&e[6]<=0?d?d.p(e,n):((d=o(e)).c(),d.m(r,i)):d&&(d.d(1),d=null);let a=l;(l=$(e))===a?m[l].p(e,n):((0,t.group_outros)(),(0,t.transition_out)(m[a],1,1,()=>{m[a]=null}),(0,t.check_outros)(),(s=m[l])?s.p(e,n):(s=m[l]=p[l](e)).c(),(0,t.transition_in)(s,1),s.m(r,null))},i(e){a||((0,t.transition_in)(s),a=!0)},o(e){(0,t.transition_out)(s),a=!1},d(e){e&&(0,t.detach)(r),d&&d.d(),m[l].d()}}}function o(e){let n,r;return{c(){n=(0,t.element)("div"),(0,t.attr)(n,"class","reliability svelte-1kxmrnl"),(0,t.attr)(n,"style",r=`left: ${e[2]+e[6]}%; width: ${e[5]+Math.abs(e[6])}%`)},m(e,r){(0,t.insert)(e,n,r)},p(e,i){100&i&&r!==(r=`left: ${e[2]+e[6]}%; width: ${e[5]+Math.abs(e[6])}%`)&&(0,t.attr)(n,"style",r)},d(e){e&&(0,t.detach)(n)}}}function c(e){let n,i,l,s;return i=new r.default({props:{width:10,color:"black"}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(i.$$.fragment),(0,t.attr)(n,"class","buzz svelte-1kxmrnl"),(0,t.attr)(n,"style",l=`left: ${e[7](e[2]+(e[3]?(e[3].negativeReliability+e[3].positiveReliability)/2:0))-1}%`)},m(e,r){(0,t.insert)(e,n,r),(0,t.mount_component)(i,n,null),s=!0},p(e,r){(!s||12&r&&l!==(l=`left: ${e[7](e[2]+(e[3]?(e[3].negativeReliability+e[3].positiveReliability)/2:0))-1}%`))&&(0,t.attr)(n,"style",l)},i(e){s||((0,t.transition_in)(i.$$.fragment,e),s=!0)},o(e){(0,t.transition_out)(i.$$.fragment,e),s=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(i)}}}function u(e){let n,i,l,s;return i=new r.default({props:{width:9,color:"black"}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(i.$$.fragment),(0,t.attr)(n,"class","buzz svelte-1kxmrnl"),(0,t.attr)(n,"style",l=`left: ${e[7](e[2]+(e[6]+e[5])/2)-1}%`)},m(e,r){(0,t.insert)(e,n,r),(0,t.mount_component)(i,n,null),s=!0},p(e,r){(!s||100&r&&l!==(l=`left: ${e[7](e[2]+(e[6]+e[5])/2)-1}%`))&&(0,t.attr)(n,"style",l)},i(e){s||((0,t.transition_in)(i.$$.fragment,e),s=!0)},o(e){(0,t.transition_out)(i.$$.fragment,e),s=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(i)}}}function d(e){let n,r;return{c(){n=(0,t.element)("div"),(0,t.attr)(n,"class","reliability svelte-1kxmrnl"),(0,t.attr)(n,"style",r=`left: ${e[1]+e[6]}%; width: ${e[5]+Math.abs(e[6])}%`)},m(e,r){(0,t.insert)(e,n,r)},p(e,i){98&i&&r!==(r=`left: ${e[1]+e[6]}%; width: ${e[5]+Math.abs(e[6])}%`)&&(0,t.attr)(n,"style",r)},d(e){e&&(0,t.detach)(n)}}}function p(e){let n,r,s,o,c,u,p,m=e[4].phase!==l.GamePhase.Shopping&&a(e),$=e[5]>=0&&e[6]<=0&&d(e);return c=new i.default({props:{width:14,color:"#000",fill:!0}}),{c(){m&&m.c(),n=(0,t.space)(),r=(0,t.element)("div"),$&&$.c(),s=(0,t.space)(),o=(0,t.element)("div"),(0,t.create_component)(c.$$.fragment),(0,t.attr)(o,"class","rating svelte-1kxmrnl"),(0,t.attr)(o,"style",u=`left: ${e[7](e[1]+(e[6]+e[5])/2)-1}%`),(0,t.attr)(r,"class","meter svelte-1kxmrnl")},m(e,i){m&&m.m(e,i),(0,t.insert)(e,n,i),(0,t.insert)(e,r,i),$&&$.m(r,null),(0,t.append)(r,s),(0,t.append)(r,o),(0,t.mount_component)(c,o,null),p=!0},p(e,[i]){e[4].phase!==l.GamePhase.Shopping?m?(m.p(e,i),16&i&&(0,t.transition_in)(m,1)):((m=a(e)).c(),(0,t.transition_in)(m,1),m.m(n.parentNode,n)):m&&((0,t.group_outros)(),(0,t.transition_out)(m,1,1,()=>{m=null}),(0,t.check_outros)()),e[5]>=0&&e[6]<=0?$?$.p(e,i):(($=d(e)).c(),$.m(r,s)):$&&($.d(1),$=null),(!p||98&i&&u!==(u=`left: ${e[7](e[1]+(e[6]+e[5])/2)-1}%`))&&(0,t.attr)(o,"style",u)},i(e){p||((0,t.transition_in)(m),(0,t.transition_in)(c.$$.fragment,e),p=!0)},o(e){(0,t.transition_out)(m),(0,t.transition_out)(c.$$.fragment,e),p=!1},d(e){m&&m.d(e),e&&(0,t.detach)(n),e&&(0,t.detach)(r),$&&$.d(),(0,t.destroy_component)(c)}}}function m(r,i,l){let s,a;(0,t.component_subscribe)(r,e.directors,t=>l(11,s=t)),(0,t.component_subscribe)(r,e.gamestate,t=>l(4,a=t));let o,c,u,{script:d}=i,{dir:p}=i,{cst:m}=i,{crw:$}=i,f=null,_=null;return r.$$set=(t=>{"script"in t&&l(8,d=t.script),"dir"in t&&l(0,p=t.dir),"cst"in t&&l(9,m=t.cst),"crw"in t&&l(10,$=t.crw)}),r.$$.update=(()=>{3871&r.$$.dirty&&(l(1,o=(0,n.getRating)(d,a,{dir:p,cst:m,crw:$})),o<5&&l(1,o=5),o>97&&l(1,o=97),l(2,c=d.buzz),c<5&&l(2,c=5),c>97&&l(2,c=97),l(3,u=p?s.get(p):void 0),u?(l(6,_=u.negativeReliability),l(5,f=u.positiveReliability)):p===n.STUDIO?(l(6,_=-50),l(5,f=0)):(l(6,_=null),l(5,f=null)))}),[p,o,c,u,a,f,_,t=>t>100?100:t<1?1:t,d,m,$,s]}class $ extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,m,p,t.safe_not_equal,{script:8,dir:0,cst:9,crw:10})}}var f=$;exports.default=f;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Script":"S3Qj","../icons/BuzzIcon.svelte":"kDjJ","../icons/HexIcon.svelte":"rN2l","../../../../server/src/shared/GamePhase":"wedU"}],"q6hA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=o(require("../script-stats/Equity.svelte")),n=require("../.."),r=o(require("../script-stats/Rating.svelte")),s=o(require("../script-stats/Genre.svelte")),a=o(require("../script-stats/Buzz.svelte")),i=o(require("../script-stats/HitMeter.svelte"));function o(t){return t&&t.__esModule?t:{default:t}}function c(n){let o,c,p,l,d,u,m,$,_,g,f,v,q,w,y,h,x,P,z=n[0].title+"";return l=new e.default({props:{controllingPartner:n[0].team,silentPartner:n[0].partnerTeam,directorEquity:n[4].get(n[1]||n[0].director)&&n[4].get(n[1]||n[0].director).equity}}),_=new s.default({props:{genre:n[0].genre}}),v=new r.default({props:{rating:n[0].rating}}),y=new a.default({props:{script:n[0]}}),x=new i.default({props:{script:n[0],dir:n[1],cst:n[2],crw:n[3]}}),{c(){o=(0,t.element)("h1"),c=(0,t.text)(z),p=(0,t.space)(),(0,t.create_component)(l.$$.fragment),d=(0,t.space)(),u=(0,t.element)("div"),m=(0,t.element)("div"),$=(0,t.element)("span"),(0,t.create_component)(_.$$.fragment),g=(0,t.space)(),f=(0,t.element)("span"),(0,t.create_component)(v.$$.fragment),q=(0,t.space)(),w=(0,t.element)("span"),(0,t.create_component)(y.$$.fragment),h=(0,t.space)(),(0,t.create_component)(x.$$.fragment),(0,t.attr)(o,"class","svelte-1uzjz32"),(0,t.attr)($,"class","detail"),(0,t.attr)(f,"class","detail"),(0,t.attr)(w,"class","detail")},m(e,n){(0,t.insert)(e,o,n),(0,t.append)(o,c),(0,t.insert)(e,p,n),(0,t.mount_component)(l,e,n),(0,t.insert)(e,d,n),(0,t.insert)(e,u,n),(0,t.append)(u,m),(0,t.append)(m,$),(0,t.mount_component)(_,$,null),(0,t.append)(m,g),(0,t.append)(m,f),(0,t.mount_component)(v,f,null),(0,t.append)(m,q),(0,t.append)(m,w),(0,t.mount_component)(y,w,null),(0,t.insert)(e,h,n),(0,t.mount_component)(x,e,n),P=!0},p(e,[n]){(!P||1&n)&&z!==(z=e[0].title+"")&&(0,t.set_data)(c,z);const r={};1&n&&(r.controllingPartner=e[0].team),1&n&&(r.silentPartner=e[0].partnerTeam),19&n&&(r.directorEquity=e[4].get(e[1]||e[0].director)&&e[4].get(e[1]||e[0].director).equity),l.$set(r);const s={};1&n&&(s.genre=e[0].genre),_.$set(s);const a={};1&n&&(a.rating=e[0].rating),v.$set(a);const i={};1&n&&(i.script=e[0]),y.$set(i);const o={};1&n&&(o.script=e[0]),2&n&&(o.dir=e[1]),4&n&&(o.cst=e[2]),8&n&&(o.crw=e[3]),x.$set(o)},i(e){P||((0,t.transition_in)(l.$$.fragment,e),(0,t.transition_in)(_.$$.fragment,e),(0,t.transition_in)(v.$$.fragment,e),(0,t.transition_in)(y.$$.fragment,e),(0,t.transition_in)(x.$$.fragment,e),P=!0)},o(e){(0,t.transition_out)(l.$$.fragment,e),(0,t.transition_out)(_.$$.fragment,e),(0,t.transition_out)(v.$$.fragment,e),(0,t.transition_out)(y.$$.fragment,e),(0,t.transition_out)(x.$$.fragment,e),P=!1},d(e){e&&(0,t.detach)(o),e&&(0,t.detach)(p),(0,t.destroy_component)(l,e),e&&(0,t.detach)(d),e&&(0,t.detach)(u),(0,t.destroy_component)(_),(0,t.destroy_component)(v),(0,t.destroy_component)(y),e&&(0,t.detach)(h),(0,t.destroy_component)(x,e)}}}function p(e,r,s){let a;(0,t.component_subscribe)(e,n.directors,t=>s(4,a=t));let{script:i}=r,{director:o}=r,{cast:c}=r,{crew:p}=r;return e.$$set=(t=>{"script"in t&&s(0,i=t.script),"director"in t&&s(1,o=t.director),"cast"in t&&s(2,c=t.cast),"crew"in t&&s(3,p=t.crew)}),[i,o,c,p,a]}class l extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,p,c,t.safe_not_equal,{script:0,director:1,cast:2,crew:3})}}var d=l;exports.default=d;
},{"svelte/internal":"YkLP","../script-stats/Equity.svelte":"pk7U","../..":"QCba","../script-stats/Rating.svelte":"SNIV","../script-stats/Genre.svelte":"DCT3","../script-stats/Buzz.svelte":"jFKW","../script-stats/HitMeter.svelte":"rtry"}],"lKAl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=s(require("./ScriptDropdowns.svelte")),n=require("../.."),r=require("svelte"),o=s(require("./Marketing.svelte")),i=s(require("./ScriptDetail.svelte"));function s(t){return t&&t.__esModule?t:{default:t}}function c(e){let n,r,o,s,c,u,d,m,_;o=new i.default({props:{script:e[0],director:e[2],cast:e[3],crew:e[4]}});let $=e[1]&&a(e),f=e[0].team===e[7].color&&!e[0].releaseSeason&&l(e),w=!e[0].releaseSeason&&e[0].team===e[7].color&&p(e);return{c(){n=(0,t.element)("div"),r=(0,t.element)("div"),(0,t.create_component)(o.$$.fragment),s=(0,t.space)(),$&&$.c(),c=(0,t.space)(),u=(0,t.element)("div"),f&&f.c(),d=(0,t.space)(),m=(0,t.element)("div"),w&&w.c(),(0,t.attr)(r,"class","script svelte-1hc0ey2"),(0,t.attr)(u,"class","marketing svelte-1hc0ey2"),(0,t.attr)(m,"class","release svelte-1hc0ey2"),(0,t.attr)(n,"class","wrapper svelte-1hc0ey2")},m(e,i){(0,t.insert)(e,n,i),(0,t.append)(n,r),(0,t.mount_component)(o,r,null),(0,t.append)(r,s),$&&$.m(r,null),(0,t.append)(n,c),(0,t.append)(n,u),f&&f.m(u,null),(0,t.append)(n,d),(0,t.append)(n,m),w&&w.m(m,null),_=!0},p(e,n){const i={};1&n&&(i.script=e[0]),4&n&&(i.director=e[2]),8&n&&(i.cast=e[3]),16&n&&(i.crew=e[4]),o.$set(i),e[1]?$?($.p(e,n),2&n&&(0,t.transition_in)($,1)):(($=a(e)).c(),(0,t.transition_in)($,1),$.m(r,null)):$&&((0,t.group_outros)(),(0,t.transition_out)($,1,1,()=>{$=null}),(0,t.check_outros)()),e[0].team!==e[7].color||e[0].releaseSeason?f&&((0,t.group_outros)(),(0,t.transition_out)(f,1,1,()=>{f=null}),(0,t.check_outros)()):f?(f.p(e,n),129&n&&(0,t.transition_in)(f,1)):((f=l(e)).c(),(0,t.transition_in)(f,1),f.m(u,null)),e[0].releaseSeason||e[0].team!==e[7].color?w&&(w.d(1),w=null):w?w.p(e,n):((w=p(e)).c(),w.m(m,null))},i(e){_||((0,t.transition_in)(o.$$.fragment,e),(0,t.transition_in)($),(0,t.transition_in)(f),_=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),(0,t.transition_out)($),(0,t.transition_out)(f),_=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(o),$&&$.d(),f&&f.d(),w&&w.d()}}}function a(n){let r,o,i;return(o=new e.default({props:{dir:n[2]||n[0].director,cst:n[3]||n[0].cast,crw:n[4]||n[0].crew,script:n[0]}})).$on("dir",n[8]),o.$on("cst",n[9]),o.$on("crw",n[10]),{c(){r=(0,t.element)("div"),(0,t.create_component)(o.$$.fragment),(0,t.attr)(r,"class","talent svelte-1hc0ey2")},m(e,n){(0,t.insert)(e,r,n),(0,t.mount_component)(o,r,null),i=!0},p(t,e){const n={};5&e&&(n.dir=t[2]||t[0].director),9&e&&(n.cst=t[3]||t[0].cast),17&e&&(n.crw=t[4]||t[0].crew),1&e&&(n.script=t[0]),o.$set(n)},i(e){i||((0,t.transition_in)(o.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_component)(o)}}}function l(e){let n,r;return(n=new o.default({props:{title:e[0].title}})).$on("market",e[11]),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},p(t,e){const r={};1&e&&(r.title=t[0].title),n.$set(r)},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function p(e){let n,r,o,i,s;return{c(){n=(0,t.element)("button"),r=(0,t.text)("RELEASE"),n.disabled=o=!e[6]||!e[5],(0,t.attr)(n,"class","svelte-1hc0ey2")},m(o,c){(0,t.insert)(o,n,c),(0,t.append)(n,r),i||(s=(0,t.listen)(n,"click",e[12]),i=!0)},p(t,e){96&e&&o!==(o=!t[6]||!t[5])&&(n.disabled=o)},d(e){e&&(0,t.detach)(n),i=!1,s()}}}function u(e){let n,r,o=e[0]&&c(e);return{c(){o&&o.c(),n=(0,t.empty)()},m(e,i){o&&o.m(e,i),(0,t.insert)(e,n,i),r=!0},p(e,[r]){e[0]?o?(o.p(e,r),1&r&&(0,t.transition_in)(o,1)):((o=c(e)).c(),(0,t.transition_in)(o,1),o.m(n.parentNode,n)):o&&((0,t.group_outros)(),(0,t.transition_out)(o,1,1,()=>{o=null}),(0,t.check_outros)())},i(e){r||((0,t.transition_in)(o),r=!0)},o(e){(0,t.transition_out)(o),r=!1},d(e){o&&o.d(e),e&&(0,t.detach)(n)}}}function d(e,o,i){let s;(0,t.component_subscribe)(e,n.team,t=>i(7,s=t));let c,a,l,p,{script:u}=o,{showDropdowns:d=!1}=o;const m=(0,r.createEventDispatcher)();function _(){m("change",{director:c,cast:a,crew:l})}let $=!1;return e.$$set=(t=>{"script"in t&&i(0,u=t.script),"showDropdowns"in t&&i(1,d=t.showDropdowns)}),e.$$.update=(()=>{29&e.$$.dirty&&(u.crew&&void 0===l&&i(4,l=u.crew),u.director&&!c&&i(2,c=u.director),i(6,$=!!(c&&a&&l)&&!u.wrapped))}),[u,d,c,a,l,p,$,s,function(t){t.detail!==c&&(i(2,c=t.detail),_())},function(t){t.detail!==a&&(i(3,a=t.detail),_())},function(t){t.detail!==l&&(i(4,l=t.detail),_())},function(t){i(5,p=t.detail)},()=>{(0,n.emit)("wrap",{title:u.title,director:c,cast:a,crew:l,marketSelection:p})}]}class m extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,d,u,t.safe_not_equal,{script:0,showDropdowns:1})}}var _=m;exports.default=_;
},{"svelte/internal":"YkLP","./ScriptDropdowns.svelte":"L1bg","../..":"QCba","svelte":"XrLp","./Marketing.svelte":"JdbC","./ScriptDetail.svelte":"q6hA"}],"deTc":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.filmsInSeason=exports.Season=void 0,function(e){e.Spring="Spring",e.Summer="Summer",e.Holiday="Holiday"}(e=exports.Season||(exports.Season={}));var r=function(e,r){return Array.from(r.scripts.values()).filter(function(r){return r.releaseSeason===e}).length};exports.filmsInSeason=r;
},{}],"XTLi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../../colors"),r=s(require("../script-stats/HitMeter.svelte")),a=s(require("../../assets/teams/*.png"));function s(t){return t&&t.__esModule?t:{default:t}}function l(r){let s,l,n,c,o;return{c(){s=(0,t.element)("div"),l=(0,t.element)("img"),(0,t.src_url_equal)(l.src,n=a.default[(0,e.iconName)(r[0].partnerTeam)])||(0,t.attr)(l,"src",n),(0,t.attr)(l,"alt",c=r[0].team),(0,t.attr)(l,"width","17"),(0,t.attr)(s,"class","team svelte-1razmuv"),(0,t.attr)(s,"style",o=`background-color: ${(0,e.getPlayerColor)(r[0].partnerTeam)}`)},m(e,r){(0,t.insert)(e,s,r),(0,t.append)(s,l)},p(r,i){1&i&&!(0,t.src_url_equal)(l.src,n=a.default[(0,e.iconName)(r[0].partnerTeam)])&&(0,t.attr)(l,"src",n),1&i&&c!==(c=r[0].team)&&(0,t.attr)(l,"alt",c),1&i&&o!==(o=`background-color: ${(0,e.getPlayerColor)(r[0].partnerTeam)}`)&&(0,t.attr)(s,"style",o)},d(e){e&&(0,t.detach)(s)}}}function n(s){let n,c,o,i,p,u,m,d,v,_,f,g,$,y,q=s[0].title+"",w=s[0].partnerTeam&&l(s);return $=new r.default({props:{script:s[0],dir:s[0].director,cst:s[0].cast,crw:s[0].crew}}),{c(){n=(0,t.element)("div"),c=(0,t.element)("div"),o=(0,t.element)("div"),i=(0,t.element)("img"),d=(0,t.space)(),w&&w.c(),v=(0,t.space)(),_=(0,t.element)("div"),f=(0,t.text)(q),g=(0,t.space)(),(0,t.create_component)($.$$.fragment),(0,t.src_url_equal)(i.src,p=a.default[(0,e.iconName)(s[0].team)])||(0,t.attr)(i,"src",p),(0,t.attr)(i,"alt",u=s[0].team),(0,t.attr)(i,"width","17"),(0,t.attr)(o,"class","team svelte-1razmuv"),(0,t.attr)(o,"style",m=`background-color: ${(0,e.getPlayerColor)(s[0].team)}`),(0,t.attr)(_,"class","title svelte-1razmuv"),(0,t.attr)(c,"class","team-and-title svelte-1razmuv"),(0,t.attr)(n,"class","wrapper svelte-1razmuv")},m(e,r){(0,t.insert)(e,n,r),(0,t.append)(n,c),(0,t.append)(c,o),(0,t.append)(o,i),(0,t.append)(c,d),w&&w.m(c,null),(0,t.append)(c,v),(0,t.append)(c,_),(0,t.append)(_,f),(0,t.append)(n,g),(0,t.mount_component)($,n,null),y=!0},p(r,[s]){(!y||1&s&&!(0,t.src_url_equal)(i.src,p=a.default[(0,e.iconName)(r[0].team)]))&&(0,t.attr)(i,"src",p),(!y||1&s&&u!==(u=r[0].team))&&(0,t.attr)(i,"alt",u),(!y||1&s&&m!==(m=`background-color: ${(0,e.getPlayerColor)(r[0].team)}`))&&(0,t.attr)(o,"style",m),r[0].partnerTeam?w?w.p(r,s):((w=l(r)).c(),w.m(c,v)):w&&(w.d(1),w=null),(!y||1&s)&&q!==(q=r[0].title+"")&&(0,t.set_data)(f,q);const n={};1&s&&(n.script=r[0]),1&s&&(n.dir=r[0].director),1&s&&(n.cst=r[0].cast),1&s&&(n.crw=r[0].crew),$.$set(n)},i(e){y||((0,t.transition_in)($.$$.fragment,e),y=!0)},o(e){(0,t.transition_out)($.$$.fragment,e),y=!1},d(e){e&&(0,t.detach)(n),w&&w.d(),(0,t.destroy_component)($)}}}function c(t,e,r){let{script:a}=e;return t.$$set=(t=>{"script"in t&&r(0,a=t.script)}),[a]}class o extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,c,n,t.safe_not_equal,{script:0})}}var i=o;exports.default=i;
},{"svelte/internal":"YkLP","../../colors":"Td8d","../script-stats/HitMeter.svelte":"rtry","../../assets/teams/*.png":"mt6y"}],"tLxb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=require("../../../../server/src/rooms/schema/Script"),r=require("../../../../server/src/shared/GamePhase"),o=require("../../../../server/src/shared/genre"),s=require("../../../../server/src/shared/Season"),i=a(require("./MarqueeItem.svelte")),l=a(require("../script-stats/Genre.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function c(e,t,n){const r=e.slice();return r[5]=t[n],r}function u(e,t,n){const r=e.slice();return r[8]=t[n],r}function p(t){let n,r,o,s,i;o=new l.default({props:{genre:t[5],showText:!0}});let a=t[0][t[5]],c=[];for(let e=0;e<a.length;e+=1)c[e]=m(u(t,a,e));const p=t=>(0,e.transition_out)(c[t],1,1,()=>{c[t]=null});return{c(){n=(0,e.element)("div"),r=(0,e.element)("div"),(0,e.create_component)(o.$$.fragment),s=(0,e.space)();for(let e=0;e<c.length;e+=1)c[e].c();(0,e.attr)(r,"class","genre-label svelte-6283kj"),(0,e.attr)(n,"class","genre svelte-6283kj")},m(t,l){(0,e.insert)(t,n,l),(0,e.append)(n,r),(0,e.mount_component)(o,r,null),(0,e.append)(n,s);for(let e=0;e<c.length;e+=1)c[e].m(n,null);i=!0},p(t,r){if(1&r){let o;for(a=t[0][t[5]],o=0;o<a.length;o+=1){const s=u(t,a,o);c[o]?(c[o].p(s,r),(0,e.transition_in)(c[o],1)):(c[o]=m(s),c[o].c(),(0,e.transition_in)(c[o],1),c[o].m(n,null))}for((0,e.group_outros)(),o=a.length;o<c.length;o+=1)p(o);(0,e.check_outros)()}},i(t){if(!i){(0,e.transition_in)(o.$$.fragment,t);for(let t=0;t<a.length;t+=1)(0,e.transition_in)(c[t]);i=!0}},o(t){(0,e.transition_out)(o.$$.fragment,t),c=c.filter(Boolean);for(let n=0;n<c.length;n+=1)(0,e.transition_out)(c[n]);i=!1},d(t){t&&(0,e.detach)(n),(0,e.destroy_component)(o),(0,e.destroy_each)(c,t)}}}function m(t){let n,r;return n=new i.default({props:{script:t[8]}}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,o){(0,e.mount_component)(n,t,o),r=!0},p(e,t){const r={};1&t&&(r.script=e[8]),n.$set(r)},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function f(t){let n,r,o=t[0][t[5]]&&t[0][t[5]].length>0&&p(t);return{c(){o&&o.c(),n=(0,e.empty)()},m(t,s){o&&o.m(t,s),(0,e.insert)(t,n,s),r=!0},p(t,r){t[0][t[5]]&&t[0][t[5]].length>0?o?(o.p(t,r),1&r&&(0,e.transition_in)(o,1)):((o=p(t)).c(),(0,e.transition_in)(o,1),o.m(n.parentNode,n)):o&&((0,e.group_outros)(),(0,e.transition_out)(o,1,1,()=>{o=null}),(0,e.check_outros)())},i(t){r||((0,e.transition_in)(o),r=!0)},o(t){(0,e.transition_out)(o),r=!1},d(t){o&&o.d(t),t&&(0,e.detach)(n)}}}function d(t){let n;return{c(){n=(0,e.text)("NO UPCOMING RELEASES.")},m(t,r){(0,e.insert)(t,n,r)},d(t){t&&(0,e.detach)(n)}}}function h(t){let n,r,s,i,l,a=0===Array.from(t[1].values()).filter(t[4]).length,u=Object.values(o.Genre),p=[];for(let e=0;e<u.length;e+=1)p[e]=f(c(t,u,e));const m=t=>(0,e.transition_out)(p[t],1,1,()=>{p[t]=null});let h=a&&d(t);return{c(){(n=(0,e.element)("div")).textContent="RELEASING",r=(0,e.space)(),s=(0,e.element)("div");for(let e=0;e<p.length;e+=1)p[e].c();i=(0,e.space)(),h&&h.c(),(0,e.attr)(n,"class","title svelte-6283kj"),(0,e.attr)(s,"class","wrapper svelte-6283kj")},m(t,o){(0,e.insert)(t,n,o),(0,e.insert)(t,r,o),(0,e.insert)(t,s,o);for(let e=0;e<p.length;e+=1)p[e].m(s,null);(0,e.append)(s,i),h&&h.m(s,null),l=!0},p(t,[n]){if(1&n){let r;for(u=Object.values(o.Genre),r=0;r<u.length;r+=1){const o=c(t,u,r);p[r]?(p[r].p(o,n),(0,e.transition_in)(p[r],1)):(p[r]=f(o),p[r].c(),(0,e.transition_in)(p[r],1),p[r].m(s,i))}for((0,e.group_outros)(),r=u.length;r<p.length;r+=1)m(r);(0,e.check_outros)()}2&n&&(a=0===Array.from(t[1].values()).filter(t[4]).length),a?h||((h=d(t)).c(),h.m(s,null)):h&&(h.d(1),h=null)},i(t){if(!l){for(let t=0;t<u.length;t+=1)(0,e.transition_in)(p[t]);l=!0}},o(t){p=p.filter(Boolean);for(let n=0;n<p.length;n+=1)(0,e.transition_out)(p[n]);l=!1},d(t){t&&(0,e.detach)(n),t&&(0,e.detach)(r),t&&(0,e.detach)(s),(0,e.destroy_each)(p,t),h&&h.d()}}}function _(o,i,l){let a,c;(0,e.component_subscribe)(o,t.gamestate,e=>l(3,a=e)),(0,e.component_subscribe)(o,t.scripts,e=>l(1,c=e));let u={},p=a.phase===r.GamePhase.SpringAssembly?s.Season.Spring:a.phase===r.GamePhase.SummerAssembly?s.Season.Summer:s.Season.Holiday;return o.$$.update=(()=>{8&o.$$.dirty&&l(0,u=(0,n.scriptsByGenre)(p,a))}),[u,c,p,a,e=>e.releaseSeason===p]}class g extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,_,h,e.safe_not_equal,{})}}var v=g;exports.default=v;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Script":"S3Qj","../../../../server/src/shared/GamePhase":"wedU","../../../../server/src/shared/genre":"jt3s","../../../../server/src/shared/Season":"deTc","./MarqueeItem.svelte":"XTLi","../script-stats/Genre.svelte":"DCT3"}],"l135":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),r=l(require("../script-stats/Genre.svelte")),n=require("../../colors"),a=l(require("../../assets/teams/*.png"));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,r){const n=e.slice();return n[1]=t[r],n}function o(t){let r;return{c(){r=(0,e.text)("There aren't any scripts in the backlog.")},m(t,n){(0,e.insert)(t,r,n)},d(t){t&&(0,e.detach)(r)}}}function c(t){let r,l,s,o,c;return{c(){r=(0,e.element)("div"),l=(0,e.element)("img"),(0,e.src_url_equal)(l.src,s=a.default[(0,n.iconName)(t[1].partnerTeam)])||(0,e.attr)(l,"src",s),(0,e.attr)(l,"alt",o=t[1].team),(0,e.attr)(l,"width","17"),(0,e.attr)(r,"class","team svelte-19birp7"),(0,e.attr)(r,"style",c=`background-color: ${(0,n.getPlayerColor)(t[1].partnerTeam)}`)},m(t,n){(0,e.insert)(t,r,n),(0,e.append)(r,l)},p(t,i){1&i&&!(0,e.src_url_equal)(l.src,s=a.default[(0,n.iconName)(t[1].partnerTeam)])&&(0,e.attr)(l,"src",s),1&i&&o!==(o=t[1].team)&&(0,e.attr)(l,"alt",o),1&i&&c!==(c=`background-color: ${(0,n.getPlayerColor)(t[1].partnerTeam)}`)&&(0,e.attr)(r,"style",c)},d(t){t&&(0,e.detach)(r)}}}function i(t){let l,s,o,i,p,u,d,m,f,g,_,h,v,b,y,$=t[1].title+"",q=t[1].partnerTeam&&c(t);return _=new r.default({props:{genre:t[1].genre,showText:!1}}),{c(){l=(0,e.element)("div"),s=(0,e.element)("div"),o=(0,e.element)("div"),i=(0,e.element)("div"),p=(0,e.element)("img"),f=(0,e.space)(),q&&q.c(),g=(0,e.space)(),(0,e.create_component)(_.$$.fragment),h=(0,e.space)(),v=(0,e.text)($),b=(0,e.space)(),(0,e.src_url_equal)(p.src,u=a.default[(0,n.iconName)(t[1].team)])||(0,e.attr)(p,"src",u),(0,e.attr)(p,"alt",d=t[1].team),(0,e.attr)(p,"width","17"),(0,e.attr)(i,"class","team svelte-19birp7"),(0,e.attr)(i,"style",m=`background-color: ${(0,n.getPlayerColor)(t[1].team)}`),(0,e.attr)(o,"class","teams svelte-19birp7"),(0,e.attr)(s,"class","team-wrapper svelte-19birp7")},m(t,r){(0,e.insert)(t,l,r),(0,e.append)(l,s),(0,e.append)(s,o),(0,e.append)(o,i),(0,e.append)(i,p),(0,e.append)(o,f),q&&q.m(o,null),(0,e.append)(l,g),(0,e.mount_component)(_,l,null),(0,e.append)(l,h),(0,e.append)(l,v),(0,e.append)(l,b),y=!0},p(t,r){(!y||1&r&&!(0,e.src_url_equal)(p.src,u=a.default[(0,n.iconName)(t[1].team)]))&&(0,e.attr)(p,"src",u),(!y||1&r&&d!==(d=t[1].team))&&(0,e.attr)(p,"alt",d),(!y||1&r&&m!==(m=`background-color: ${(0,n.getPlayerColor)(t[1].team)}`))&&(0,e.attr)(i,"style",m),t[1].partnerTeam?q?q.p(t,r):((q=c(t)).c(),q.m(o,null)):q&&(q.d(1),q=null);const l={};1&r&&(l.genre=t[1].genre),_.$set(l),(!y||1&r)&&$!==($=t[1].title+"")&&(0,e.set_data)(v,$)},i(t){y||((0,e.transition_in)(_.$$.fragment,t),y=!0)},o(t){(0,e.transition_out)(_.$$.fragment,t),y=!1},d(t){t&&(0,e.detach)(l),q&&q.d(),(0,e.destroy_component)(_)}}}function p(t){let r,n,a,l,c,p=0==t[0].length&&o(t),u=t[0],d=[];for(let e=0;e<u.length;e+=1)d[e]=i(s(t,u,e));const m=t=>(0,e.transition_out)(d[t],1,1,()=>{d[t]=null});return{c(){r=(0,e.element)("div"),(n=(0,e.element)("div")).textContent="BACKLOG",a=(0,e.space)(),p&&p.c(),l=(0,e.space)();for(let e=0;e<d.length;e+=1)d[e].c();(0,e.attr)(n,"class","title svelte-19birp7")},m(t,s){(0,e.insert)(t,r,s),(0,e.append)(r,n),(0,e.append)(r,a),p&&p.m(r,null),(0,e.append)(r,l);for(let e=0;e<d.length;e+=1)d[e].m(r,null);c=!0},p(t,[n]){if(0==t[0].length?p||((p=o(t)).c(),p.m(r,l)):p&&(p.d(1),p=null),1&n){let a;for(u=t[0],a=0;a<u.length;a+=1){const l=s(t,u,a);d[a]?(d[a].p(l,n),(0,e.transition_in)(d[a],1)):(d[a]=i(l),d[a].c(),(0,e.transition_in)(d[a],1),d[a].m(r,null))}for((0,e.group_outros)(),a=u.length;a<d.length;a+=1)m(a);(0,e.check_outros)()}},i(t){if(!c){for(let t=0;t<u.length;t+=1)(0,e.transition_in)(d[t]);c=!0}},o(t){d=d.filter(Boolean);for(let r=0;r<d.length;r+=1)(0,e.transition_out)(d[r]);c=!1},d(t){t&&(0,e.detach)(r),p&&p.d(),(0,e.destroy_each)(d,t)}}}function u(r,n,a){let l;return(0,e.component_subscribe)(r,t.unreleasedScripts,e=>a(0,l=e)),[l]}class d extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,u,p,e.safe_not_equal,{})}}var m=d;exports.default=m;
},{"svelte/internal":"YkLP","../..":"QCba","../script-stats/Genre.svelte":"DCT3","../../colors":"Td8d","../../assets/teams/*.png":"mt6y"}],"Gwuj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=l(require("../assembly/ScriptAssembler.svelte")),r=l(require("../marquee/Marquee.svelte")),o=l(require("../marquee/UnreleasedScripts.svelte")),s=l(require("../misc/TotalScore.svelte")),i=l(require("../phase-status/PhaseStatus.svelte"));function l(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){const r=t.slice();return r[2]=e[n],r}function c(t,e,n){const r=t.slice();return r[2]=e[n],r}function u(e){let r,o,s;return o=new n.default({props:{script:e[2],showDropdowns:!0}}),{c(){r=(0,t.element)("div"),(0,t.create_component)(o.$$.fragment),(0,t.attr)(r,"class","script svelte-qurnhw")},m(e,n){(0,t.insert)(e,r,n),(0,t.mount_component)(o,r,null),s=!0},p(t,e){const n={};1&e&&(n.script=t[2]),o.$set(n)},i(e){s||((0,t.transition_in)(o.$$.fragment,e),s=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),s=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_component)(o)}}}function m(e){let n;return{c(){n=(0,t.text)("YOU HAVE NO UNRELEASED SCRIPTS.")},m(e,r){(0,t.insert)(e,n,r)},d(e){e&&(0,t.detach)(n)}}}function p(e){let n;return{c(){(n=(0,t.element)("div")).textContent="SILENT PARTNER:"},m(e,r){(0,t.insert)(e,n,r)},d(e){e&&(0,t.detach)(n)}}}function f(e){let r,o,s,i;return o=new n.default({props:{script:e[2]}}),{c(){r=(0,t.element)("div"),(0,t.create_component)(o.$$.fragment),s=(0,t.space)(),(0,t.attr)(r,"class","script svelte-qurnhw")},m(e,n){(0,t.insert)(e,r,n),(0,t.mount_component)(o,r,null),(0,t.append)(r,s),i=!0},p(t,e){const n={};2&e&&(n.script=t[2]),o.$set(n)},i(e){i||((0,t.transition_in)(o.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_component)(o)}}}function d(e){let n,l,d,q,w,y,S,T,b,O,x,A,E,P,N,R,C=0===Array.from(e[0]).filter(h).length,M=e[1].filter(_).length>0;n=new i.default({}),d=new s.default({}),y=new o.default({}),b=new r.default({});let U=e[0].filter(g).sort($),k=[];for(let t=0;t<U.length;t+=1)k[t]=u(c(e,U,t));const B=e=>(0,t.transition_out)(k[e],1,1,()=>{k[e]=null});let D=C&&m(e),I=M&&p(e),L=e[1].filter(v),j=[];for(let t=0;t<L.length;t+=1)j[t]=f(a(e,L,t));const H=e=>(0,t.transition_out)(j[e],1,1,()=>{j[e]=null});return{c(){(0,t.create_component)(n.$$.fragment),l=(0,t.space)(),(0,t.create_component)(d.$$.fragment),q=(0,t.space)(),w=(0,t.element)("div"),(0,t.create_component)(y.$$.fragment),S=(0,t.space)(),T=(0,t.element)("div"),(0,t.create_component)(b.$$.fragment),O=(0,t.space)(),x=(0,t.element)("div"),A=(0,t.element)("div");for(let t=0;t<k.length;t+=1)k[t].c();E=(0,t.space)(),D&&D.c(),P=(0,t.space)(),I&&I.c(),N=(0,t.space)();for(let t=0;t<j.length;t+=1)j[t].c();(0,t.attr)(w,"class","marquee svelte-qurnhw"),(0,t.attr)(A,"class","scripts svelte-qurnhw"),(0,t.attr)(x,"class","scripts-scroll svelte-qurnhw")},m(e,r){(0,t.mount_component)(n,e,r),(0,t.insert)(e,l,r),(0,t.mount_component)(d,e,r),(0,t.insert)(e,q,r),(0,t.insert)(e,w,r),(0,t.mount_component)(y,w,null),(0,t.append)(w,S),(0,t.append)(w,T),(0,t.mount_component)(b,T,null),(0,t.insert)(e,O,r),(0,t.insert)(e,x,r),(0,t.append)(x,A);for(let t=0;t<k.length;t+=1)k[t].m(A,null);(0,t.append)(A,E),D&&D.m(A,null),(0,t.append)(A,P),I&&I.m(A,null),(0,t.append)(A,N);for(let t=0;t<j.length;t+=1)j[t].m(A,null);R=!0},p(e,[n]){if(1&n){let r;for(U=e[0].filter(g).sort($),r=0;r<U.length;r+=1){const o=c(e,U,r);k[r]?(k[r].p(o,n),(0,t.transition_in)(k[r],1)):(k[r]=u(o),k[r].c(),(0,t.transition_in)(k[r],1),k[r].m(A,E))}for((0,t.group_outros)(),r=U.length;r<k.length;r+=1)B(r);(0,t.check_outros)()}if(1&n&&(C=0===Array.from(e[0]).filter(h).length),C?D||((D=m(e)).c(),D.m(A,P)):D&&(D.d(1),D=null),2&n&&(M=e[1].filter(_).length>0),M?I||((I=p(e)).c(),I.m(A,N)):I&&(I.d(1),I=null),2&n){let r;for(L=e[1].filter(v),r=0;r<L.length;r+=1){const o=a(e,L,r);j[r]?(j[r].p(o,n),(0,t.transition_in)(j[r],1)):(j[r]=f(o),j[r].c(),(0,t.transition_in)(j[r],1),j[r].m(A,null))}for((0,t.group_outros)(),r=L.length;r<j.length;r+=1)H(r);(0,t.check_outros)()}},i(e){if(!R){(0,t.transition_in)(n.$$.fragment,e),(0,t.transition_in)(d.$$.fragment,e),(0,t.transition_in)(y.$$.fragment,e),(0,t.transition_in)(b.$$.fragment,e);for(let e=0;e<U.length;e+=1)(0,t.transition_in)(k[e]);for(let e=0;e<L.length;e+=1)(0,t.transition_in)(j[e]);R=!0}},o(e){(0,t.transition_out)(n.$$.fragment,e),(0,t.transition_out)(d.$$.fragment,e),(0,t.transition_out)(y.$$.fragment,e),(0,t.transition_out)(b.$$.fragment,e),k=k.filter(Boolean);for(let n=0;n<k.length;n+=1)(0,t.transition_out)(k[n]);j=j.filter(Boolean);for(let n=0;n<j.length;n+=1)(0,t.transition_out)(j[n]);R=!1},d(e){(0,t.destroy_component)(n,e),e&&(0,t.detach)(l),(0,t.destroy_component)(d,e),e&&(0,t.detach)(q),e&&(0,t.detach)(w),(0,t.destroy_component)(y),(0,t.destroy_component)(b),e&&(0,t.detach)(O),e&&(0,t.detach)(x),(0,t.destroy_each)(k,e),D&&D.d(),I&&I.d(),(0,t.destroy_each)(j,e)}}}const _=t=>!t.outOfTheater,h=t=>!t.outOfTheater,g=t=>!t.outOfTheater,$=(t,e)=>e.partnerTeam?(t.partnerTeam,-1):1,v=t=>!t.outOfTheater;function q(n,r,o){let s,i;return(0,t.component_subscribe)(n,e.teamScripts,t=>o(0,s=t)),(0,t.component_subscribe)(n,e.silentPartnerScripts,t=>o(1,i=t)),[s,i]}class w extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,q,d,t.safe_not_equal,{})}}var y=w;exports.default=y;
},{"svelte/internal":"YkLP","../..":"QCba","../assembly/ScriptAssembler.svelte":"lKAl","../marquee/Marquee.svelte":"tLxb","../marquee/UnreleasedScripts.svelte":"l135","../misc/TotalScore.svelte":"fd11","../phase-status/PhaseStatus.svelte":"p9ZA"}],"lwiX":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])})(e,r)};return function(e,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),e=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var p=t.length-1;p>=0;p--)(o=t[p])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Cast=void 0;var r=require("@colyseus/schema"),n=require("../../shared/genre"),o=require("../../shared/TalentType"),i=function(n){function i(t){var e=t.name,i=t.minimumContractAmt,p=t.rating,s=n.call(this)||this;return s.type=o.TalentType.Cast,s.rating=0,s.goodGenres=new r.ArraySchema,s.badGenres=new r.ArraySchema,s.name=e,s.initialMinimumContractAmt=i,s.minimumContractAmt=i,s.rating=p,s.type=o.TalentType.Cast,s.goodGenres.push(a()),s.badGenres.push(a(s.goodGenres)),s}return t(i,n),e([(0,r.type)("string")],i.prototype,"type",void 0),e([(0,r.type)("string")],i.prototype,"name",void 0),e([(0,r.type)("string")],i.prototype,"team",void 0),e([(0,r.type)("number")],i.prototype,"minimumContractAmt",void 0),e([(0,r.type)("number")],i.prototype,"initialMinimumContractAmt",void 0),e([(0,r.type)("number")],i.prototype,"rating",void 0),e([(0,r.type)(["string"])],i.prototype,"goodGenres",void 0),e([(0,r.type)(["string"])],i.prototype,"badGenres",void 0),i}(r.Schema);exports.Cast=i;var a=function(t){void 0===t&&(t=[]);var e=Object.values(n.Genre).filter(function(e){return!t.includes(e)});return e[Math.floor(Math.random()*e.length)]};
},{"@colyseus/schema":"SdlP","../../shared/genre":"jt3s","../../shared/TalentType":"BVGI"}],"XfOi":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__decorate||function(e,t,r,o){var p,n=arguments.length,s=n<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;a>=0;a--)(p=e[a])&&(s=(n<3?p(s):n>3?p(t,r,s):p(t,r))||s);return n>3&&s&&Object.defineProperty(t,r,s),s};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isValidOffer=exports.CastOffer=exports.TradeType=void 0;var r,o=require("@colyseus/schema"),p=require("./Cast");!function(e){e.Request="request",e.Offer="offer",e.Accept="accept",e.Reject="reject"}(r=exports.TradeType||(exports.TradeType={}));var n=function(r){function n(e){var t,p,n=e.type,s=e.to,a=e.from,f=e.amt,i=void 0===f?0:f,c=e.requestedCast,u=e.offeredCast,y=e.text,d=r.call(this)||this;return d.requestedCast=new o.ArraySchema,d.offeredCast=new o.ArraySchema,d.accepted=!1,d.type=n,d.to=s,d.from=a,(t=d.requestedCast).push.apply(t,c),(p=d.offeredCast).push.apply(p,u),d.amt=i,d.text=y,d}return e(n,r),t([(0,o.type)("string")],n.prototype,"type",void 0),t([(0,o.type)("string")],n.prototype,"to",void 0),t([(0,o.type)("string")],n.prototype,"from",void 0),t([(0,o.type)("number")],n.prototype,"amt",void 0),t([(0,o.type)([p.Cast])],n.prototype,"requestedCast",void 0),t([(0,o.type)([p.Cast])],n.prototype,"offeredCast",void 0),t([(0,o.type)("string")],n.prototype,"text",void 0),t([(0,o.type)("boolean")],n.prototype,"accepted",void 0),n}(o.Schema);exports.CastOffer=n;var s=function(e,t){for(var r=0,o=e.requestedCast;r<o.length;r++){if(o[r].team!==t)return!1}for(var p=0,n=e.offeredCast;p<n.length;p++){if(n[p].team!==e.from)return!1}return!0};exports.isValidOffer=s;
},{"@colyseus/schema":"SdlP","./Cast":"lwiX"}],"r2Q4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),a=r(require("../../assets/teams/*.png")),l=require("../../../../server/src/rooms/schema/CastOffer"),n=require("../../colors");function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,a){const l=e.slice();return l[20]=t[a],l}function o(e,t,a){const l=e.slice();return l[20]=t[a],l}function c(e,t,a){const l=e.slice();return l[25]=t[a],l[27]=a,l}function p(t){let l,r,s,o,c,p,u,d=t[25].text+"";return{c(){l=(0,e.element)("div"),r=(0,e.element)("img"),c=(0,e.space)(),p=(0,e.element)("div"),u=(0,e.text)(d),(0,e.src_url_equal)(r.src,s=a.default[(0,n.iconName)(t[25].from)])||(0,e.attr)(r,"src",s),(0,e.attr)(r,"alt",o=t[25].from),(0,e.attr)(r,"class","svelte-h298a"),(0,e.attr)(p,"class","them svelte-h298a"),(0,e.attr)(l,"class","row them svelte-h298a")},m(t,a){(0,e.insert)(t,l,a),(0,e.append)(l,r),(0,e.append)(l,c),(0,e.append)(l,p),(0,e.append)(p,u)},p(t,l){4&l&&!(0,e.src_url_equal)(r.src,s=a.default[(0,n.iconName)(t[25].from)])&&(0,e.attr)(r,"src",s),4&l&&o!==(o=t[25].from)&&(0,e.attr)(r,"alt",o),4&l&&d!==(d=t[25].text+"")&&(0,e.set_data)(u,d)},d(t){t&&(0,e.detach)(l)}}}function u(t){let a,l,n,r=t[25].text+"";return{c(){a=(0,e.element)("div"),l=(0,e.element)("div"),n=(0,e.text)(r),(0,e.attr)(l,"class","you svelte-h298a"),(0,e.attr)(a,"class","row you svelte-h298a")},m(t,r){(0,e.insert)(t,a,r),(0,e.append)(a,l),(0,e.append)(l,n)},p(t,a){4&a&&r!==(r=t[25].text+"")&&(0,e.set_data)(n,r)},d(t){t&&(0,e.detach)(a)}}}function d(t){let r,s,o,c,p,u,d,i,m=t[25].text+"",h=(0,l.isValidOffer)(t[25],t[7].color),v=h&&f(t);return{c(){r=(0,e.element)("div"),s=(0,e.element)("img"),p=(0,e.space)(),u=(0,e.element)("div"),d=(0,e.text)(m),i=(0,e.space)(),v&&v.c(),(0,e.src_url_equal)(s.src,o=a.default[(0,n.iconName)(t[25].from)])||(0,e.attr)(s,"src",o),(0,e.attr)(s,"alt",c=t[25].from),(0,e.attr)(s,"class","svelte-h298a"),(0,e.attr)(u,"class","them svelte-h298a"),(0,e.attr)(r,"class","row them svelte-h298a")},m(t,a){(0,e.insert)(t,r,a),(0,e.append)(r,s),(0,e.append)(r,p),(0,e.append)(r,u),(0,e.append)(u,d),(0,e.append)(u,i),v&&v.m(u,null)},p(t,r){4&r&&!(0,e.src_url_equal)(s.src,o=a.default[(0,n.iconName)(t[25].from)])&&(0,e.attr)(s,"src",o),4&r&&c!==(c=t[25].from)&&(0,e.attr)(s,"alt",c),4&r&&m!==(m=t[25].text+"")&&(0,e.set_data)(d,m),132&r&&(h=(0,l.isValidOffer)(t[25],t[7].color)),h?v?v.p(t,r):((v=f(t)).c(),v.m(u,null)):v&&(v.d(1),v=null)},d(t){t&&(0,e.detach)(r),v&&v.d()}}}function i(t){let a,l,n,r,s,o,c=t[25].to===t[7].color&&h(t);return{c(){a=(0,e.element)("div"),c&&c.c(),l=(0,e.space)(),n=(0,e.element)("div"),r=(0,e.text)("We accept your offer."),(0,e.attr)(n,"class",s=(0,e.null_to_empty)(t[25].to===t[7].color?"them":"you")+" svelte-h298a"),(0,e.attr)(a,"class",o="row "+(t[25].to===t[7].color?"them":"you")+" svelte-h298a")},m(t,s){(0,e.insert)(t,a,s),c&&c.m(a,null),(0,e.append)(a,l),(0,e.append)(a,n),(0,e.append)(n,r)},p(t,r){t[25].to===t[7].color?c?c.p(t,r):((c=h(t)).c(),c.m(a,l)):c&&(c.d(1),c=null),132&r&&s!==(s=(0,e.null_to_empty)(t[25].to===t[7].color?"them":"you")+" svelte-h298a")&&(0,e.attr)(n,"class",s),132&r&&o!==(o="row "+(t[25].to===t[7].color?"them":"you")+" svelte-h298a")&&(0,e.attr)(a,"class",o)},d(t){t&&(0,e.detach)(a),c&&c.d()}}}function m(t){let a,l,n,r=t[25].text+"";return{c(){a=(0,e.element)("div"),l=(0,e.element)("div"),n=(0,e.text)(r),(0,e.attr)(l,"class","you svelte-h298a"),(0,e.attr)(a,"class","row you svelte-h298a")},m(t,r){(0,e.insert)(t,a,r),(0,e.append)(a,l),(0,e.append)(l,n)},p(t,a){4&a&&r!==(r=t[25].text+"")&&(0,e.set_data)(n,r)},d(t){t&&(0,e.detach)(a)}}}function f(t){let a,l,n;function r(){return t[13](t[25])}return{c(){(a=(0,e.element)("button")).textContent="ACCEPT",(0,e.attr)(a,"class","svelte-h298a")},m(t,s){(0,e.insert)(t,a,s),l||(n=(0,e.listen)(a,"click",r),l=!0)},p(e,a){t=e},d(t){t&&(0,e.detach)(a),l=!1,n()}}}function h(t){let l,r,s;return{c(){l=(0,e.element)("img"),(0,e.src_url_equal)(l.src,r=a.default[(0,n.iconName)(t[25].from)])||(0,e.attr)(l,"src",r),(0,e.attr)(l,"alt",s=t[25].from),(0,e.attr)(l,"class","svelte-h298a")},m(t,a){(0,e.insert)(t,l,a)},p(t,o){4&o&&!(0,e.src_url_equal)(l.src,r=a.default[(0,n.iconName)(t[25].from)])&&(0,e.attr)(l,"src",r),4&o&&s!==(s=t[25].from)&&(0,e.attr)(l,"alt",s)},d(t){t&&(0,e.detach)(l)}}}function v(t){let a;function n(e,t){return e[25].type===l.TradeType.Request&&e[25].from===e[7].color?m:e[25].type===l.TradeType.Accept?i:e[25].to===e[7].color&&e[25].type===l.TradeType.Request&&e[27]===e[2].length-1?d:e[25].from===e[7].color?u:p}let r=n(t),s=r(t);return{c(){s.c(),a=(0,e.empty)()},m(t,l){s.m(t,l),(0,e.insert)(t,a,l)},p(e,t){r===(r=n(e))&&s?s.p(e,t):(s.d(1),(s=r(e))&&(s.c(),s.m(a.parentNode,a)))},d(t){s.d(t),t&&(0,e.detach)(a)}}}function _(t){let a,l,n,r=t[20].name.toUpperCase()+"";return{c(){a=(0,e.element)("option"),l=(0,e.text)(r),a.__value=n=t[20],a.value=a.__value,(0,e.attr)(a,"class","svelte-h298a")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,l)},p(t,s){2&s&&r!==(r=t[20].name.toUpperCase()+"")&&(0,e.set_data)(l,r),2&s&&n!==(n=t[20])&&(a.__value=n,a.value=a.__value)},d(t){t&&(0,e.detach)(a)}}}function y(t){let a,l,n,r=t[20].name.toUpperCase()+"";return{c(){a=(0,e.element)("option"),l=(0,e.text)(r),a.__value=n=t[20],a.value=a.__value,(0,e.attr)(a,"class","svelte-h298a")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,l)},p(t,s){1&s&&r!==(r=t[20].name.toUpperCase()+"")&&(0,e.set_data)(l,r),1&s&&n!==(n=t[20])&&(a.__value=n,a.value=a.__value)},d(t){t&&(0,e.detach)(a)}}}function g(t){let a,l,n,r,p,u,d,i,m,f,h,g,x,C,q,$,N,O,b=t[2],k=[];for(let e=0;e<b.length;e+=1)k[e]=v(c(t,b,e));let w=Array.from(t[1]),M=[];for(let e=0;e<w.length;e+=1)M[e]=_(o(t,w,e));let T=Array.from(t[0]),A=[];for(let e=0;e<T.length;e+=1)A[e]=y(s(t,T,e));return{c(){a=(0,e.element)("div");for(let e=0;e<k.length;e+=1)k[e].c();l=(0,e.space)(),n=(0,e.element)("div"),r=(0,e.text)("Will you trade\n    "),p=(0,e.element)("select"),u=(0,e.element)("option"),d=(0,e.text)("NOBODY");for(let e=0;e<M.length;e+=1)M[e].c();i=(0,e.text)("\n    for\n    "),m=(0,e.element)("select"),f=(0,e.element)("option"),h=(0,e.text)("NOBODY");for(let e=0;e<A.length;e+=1)A[e].c();g=(0,e.text)("\n    and $"),x=(0,e.element)("input"),q=(0,e.text)("M?\n    "),($=(0,e.element)("button")).textContent="OFFER",u.__value=void 0,u.value=u.__value,(0,e.attr)(u,"class","svelte-h298a"),(0,e.attr)(p,"class","svelte-h298a"),void 0===t[3]&&(0,e.add_render_callback)(()=>t[14].call(p)),f.__value=void 0,f.value=f.__value,(0,e.attr)(f,"class","svelte-h298a"),(0,e.attr)(m,"class","svelte-h298a"),void 0===t[4]&&(0,e.add_render_callback)(()=>t[15].call(m)),(0,e.attr)(x,"type","number"),(0,e.attr)(x,"class",C=(0,e.null_to_empty)(t[6]?"":"invalid")+" svelte-h298a"),(0,e.attr)(x,"placeholder","AMT"),(0,e.attr)($,"class","svelte-h298a"),(0,e.attr)(n,"class","row you offer svelte-h298a"),(0,e.attr)(a,"class","chat svelte-h298a")},m(s,o){(0,e.insert)(s,a,o);for(let e=0;e<k.length;e+=1)k[e].m(a,null);(0,e.append)(a,l),(0,e.append)(a,n),(0,e.append)(n,r),(0,e.append)(n,p),(0,e.append)(p,u),(0,e.append)(u,d);for(let e=0;e<M.length;e+=1)M[e].m(p,null);(0,e.select_option)(p,t[3]),(0,e.append)(n,i),(0,e.append)(n,m),(0,e.append)(m,f),(0,e.append)(f,h);for(let e=0;e<A.length;e+=1)A[e].m(m,null);(0,e.select_option)(m,t[4]),(0,e.append)(n,g),(0,e.append)(n,x),(0,e.set_input_value)(x,t[5]),(0,e.append)(n,q),(0,e.append)(n,$),N||(O=[(0,e.listen)(p,"change",t[14]),(0,e.listen)(m,"change",t[15]),(0,e.listen)(x,"input",t[16]),(0,e.listen)(x,"keydown",t[17]),(0,e.listen)(x,"change",t[9]),(0,e.listen)(x,"input",t[10]),(0,e.listen)($,"click",t[18])],N=!0)},p(t,[n]){if(388&n){let e;for(b=t[2],e=0;e<b.length;e+=1){const r=c(t,b,e);k[e]?k[e].p(r,n):(k[e]=v(r),k[e].c(),k[e].m(a,l))}for(;e<k.length;e+=1)k[e].d(1);k.length=b.length}if(2&n){let e;for(w=Array.from(t[1]),e=0;e<w.length;e+=1){const a=o(t,w,e);M[e]?M[e].p(a,n):(M[e]=_(a),M[e].c(),M[e].m(p,null))}for(;e<M.length;e+=1)M[e].d(1);M.length=w.length}if(10&n&&(0,e.select_option)(p,t[3]),1&n){let e;for(T=Array.from(t[0]),e=0;e<T.length;e+=1){const a=s(t,T,e);A[e]?A[e].p(a,n):(A[e]=y(a),A[e].c(),A[e].m(m,null))}for(;e<A.length;e+=1)A[e].d(1);A.length=T.length}17&n&&(0,e.select_option)(m,t[4]),64&n&&C!==(C=(0,e.null_to_empty)(t[6]?"":"invalid")+" svelte-h298a")&&(0,e.attr)(x,"class",C),32&n&&(0,e.to_number)(x.value)!==t[5]&&(0,e.set_input_value)(x,t[5])},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(a),(0,e.destroy_each)(k,t),(0,e.destroy_each)(M,t),(0,e.destroy_each)(A,t),N=!1,(0,e.run_all)(O)}}}const x=0,C=100;function q(a,l,n){let r;(0,e.component_subscribe)(a,t.team,e=>n(7,r=e));let s,o,c,{team:p}=l,{myCast:u}=l,{theirCast:d}=l,{offers:i}=l;const m=()=>{let e=o&&c?`${o.name.toUpperCase()} and $${c}M`:`${o?o.name.toUpperCase():c||"nothing"}`;return`Will you trade ${s?s.name.toUpperCase():"NOBODY"} for ${e}?`},f=e=>{(0,t.emit)("acceptCastOffer",{from:e.from,amt:e.amt,requestedCast:e.requestedCast.map(e=>e.name),offeredCast:e.offeredCast.map(e=>e.name)})};let h=!0;const v=()=>{isNaN(c)||c<=0?n(6,h=!0):n(6,h=c>=x&&c<=C)},_=()=>{if(!s&&!o)return;const e={to:p,requestedCast:s?[s.name]:[],offeredCast:o?[o.name]:[],amt:c,text:m()};(0,t.emit)("makeCastOffer",e)};return a.$$set=(e=>{"team"in e&&n(12,p=e.team),"myCast"in e&&n(0,u=e.myCast),"theirCast"in e&&n(1,d=e.theirCast),"offers"in e&&n(2,i=e.offers)}),a.$$.update=(()=>{10&a.$$.dirty&&s&&!d.find(e=>e.name===s.name)&&n(3,s=void 0),17&a.$$.dirty&&o&&!u.find(e=>e.name===o.name)&&n(4,o=void 0)}),[u,d,i,s,o,c,h,r,f,()=>{!isNaN(c)&&c>0&&n(5,c=Math.round(Math.min(Math.max(c,x),C))),v()},v,_,p,e=>{f(e)},function(){s=(0,e.select_value)(this),n(3,s),n(1,d),n(1,d)},function(){o=(0,e.select_value)(this),n(4,o),n(0,u),n(0,u)},function(){c=(0,e.to_number)(this.value),n(5,c)},e=>{("."===e.key||"-"===e.key||c&&c.toString().length>=3&&"Backspace"!=e.key)&&e.preventDefault()},()=>_()]}class $ extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,q,g,e.safe_not_equal,{team:12,myCast:0,theirCast:1,offers:2})}}var N=$;exports.default=N;
},{"svelte/internal":"YkLP","../..":"QCba","../../assets/teams/*.png":"mt6y","../../../../server/src/rooms/schema/CastOffer":"XfOi","../../colors":"Td8d"}],"IRQk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("svelte"),l=require("../.."),s=require("../../colors"),r=n(require("../../assets/teams/*.png"));function n(e){return e&&e.__esModule?e:{default:e}}function a(t){let l;return{c(){(l=(0,e.element)("div")).innerHTML='<div class="content svelte-1vr6bv2">!</div>',(0,e.attr)(l,"class","notification svelte-1vr6bv2")},m(t,s){(0,e.insert)(t,l,s)},d(t){t&&(0,e.detach)(l)}}}function o(t){let l,n,o,c,i,u,p,d,v,_,m,f,$,b,y,g,q=t[0].color.toUpperCase()+"";const h=t[7].default,x=(0,e.create_slot)(h,t,t[6],null);let C=t[3]&&a(t);return{c(){l=(0,e.element)("div"),n=(0,e.element)("img"),u=(0,e.space)(),p=(0,e.element)("div"),d=(0,e.element)("div"),v=(0,e.text)(q),_=(0,e.space)(),x&&x.c(),m=(0,e.space)(),C&&C.c(),(0,e.src_url_equal)(n.src,o=r.default[(0,s.iconName)(t[0].color)])||(0,e.attr)(n,"src",o),(0,e.attr)(n,"alt",c=t[0].color),(0,e.attr)(n,"class",i=(0,e.null_to_empty)(t[1]&&"invert")+" svelte-1vr6bv2"),(0,e.attr)(p,"class","name-and-genre svelte-1vr6bv2"),(0,e.attr)(l,"class",f=(0,e.null_to_empty)((t[1]?"selected":"")+" item "+(t[2]?"pulse":""))+" svelte-1vr6bv2"),(0,e.attr)(l,"style",$=`\n      --color: ${t[2]?(0,s.getPlayerColor)(t[4].color):"none"}\n    `)},m(s,r){(0,e.insert)(s,l,r),(0,e.append)(l,n),(0,e.append)(l,u),(0,e.append)(l,p),(0,e.append)(p,d),(0,e.append)(d,v),(0,e.append)(p,_),x&&x.m(p,null),(0,e.append)(l,m),C&&C.m(l,null),b=!0,y||(g=(0,e.listen)(l,"click",t[8]),y=!0)},p(t,[u]){(!b||1&u&&!(0,e.src_url_equal)(n.src,o=r.default[(0,s.iconName)(t[0].color)]))&&(0,e.attr)(n,"src",o),(!b||1&u&&c!==(c=t[0].color))&&(0,e.attr)(n,"alt",c),(!b||2&u&&i!==(i=(0,e.null_to_empty)(t[1]&&"invert")+" svelte-1vr6bv2"))&&(0,e.attr)(n,"class",i),(!b||1&u)&&q!==(q=t[0].color.toUpperCase()+"")&&(0,e.set_data)(v,q),x&&x.p&&(!b||64&u)&&(0,e.update_slot_base)(x,h,t,t[6],b?(0,e.get_slot_changes)(h,t[6],u,null):(0,e.get_all_dirty_from_scope)(t[6]),null),t[3]?C||((C=a(t)).c(),C.m(l,null)):C&&(C.d(1),C=null),(!b||6&u&&f!==(f=(0,e.null_to_empty)((t[1]?"selected":"")+" item "+(t[2]?"pulse":""))+" svelte-1vr6bv2"))&&(0,e.attr)(l,"class",f),(!b||20&u&&$!==($=`\n      --color: ${t[2]?(0,s.getPlayerColor)(t[4].color):"none"}\n    `))&&(0,e.attr)(l,"style",$)},i(t){b||((0,e.transition_in)(x,t),b=!0)},o(t){(0,e.transition_out)(x,t),b=!1},d(t){t&&(0,e.detach)(l),x&&x.d(t),C&&C.d(),y=!1,g()}}}function c(s,r,n){let a,o;(0,e.component_subscribe)(s,l.team,e=>n(4,o=e));let{$$slots:c={},$$scope:i}=r,{team:u}=r,{selected:p}=r,{pulse:d}=r;const v=(0,t.createEventDispatcher)();return s.$$set=(e=>{"team"in e&&n(0,u=e.team),"selected"in e&&n(1,p=e.selected),"pulse"in e&&n(2,d=e.pulse),"$$scope"in e&&n(6,i=e.$$scope)}),n(3,a=!1),[u,p,d,a,o,v,i,c,()=>v("click")]}class i extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,c,o,e.safe_not_equal,{team:0,selected:1,pulse:2})}}var u=i;exports.default=u;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../../colors":"Td8d","../../assets/teams/*.png":"mt6y"}],"rmPn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=require("../../colors"),r=s(require("../../assets/teams/*.png")),a=s(require("../script-stats/Genre.svelte"));function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){const r=e.slice();return r[3]=t[n],r}function l(t){let n,r;return n=new a.default({props:{genre:t[3],showText:!1}}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,a){(0,e.mount_component)(n,t,a),r=!0},p(e,t){const r={};2&t&&(r.genre=e[3]),n.$set(r)},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function i(t){let a,s,i,p,c,u,d,m,f,_,g,v,h,$=t[0].toUpperCase()+"",q=t[1],x=[];for(let e=0;e<q.length;e+=1)x[e]=l(o(t,q,e));const y=t=>(0,e.transition_out)(x[t],1,1,()=>{x[t]=null});return{c(){a=(0,e.element)("div"),s=(0,e.element)("div"),i=(0,e.element)("img"),c=(0,e.space)(),u=(0,e.element)("div"),d=(0,e.element)("div"),m=(0,e.text)("TEAM: "),f=(0,e.text)($),_=(0,e.space)(),g=(0,e.element)("div"),v=(0,e.text)("GENRES:\n      ");for(let e=0;e<x.length;e+=1)x[e].c();(0,e.src_url_equal)(i.src,p=r.default[(0,n.iconName)(t[0])])||(0,e.attr)(i,"src",p),(0,e.attr)(i,"alt",t[0]),(0,e.attr)(i,"class","svelte-198p76p"),(0,e.attr)(s,"class","image svelte-198p76p"),(0,e.attr)(u,"class","stats svelte-198p76p"),(0,e.attr)(a,"class","wrapper svelte-198p76p")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,s),(0,e.append)(s,i),(0,e.append)(a,c),(0,e.append)(a,u),(0,e.append)(u,d),(0,e.append)(d,m),(0,e.append)(d,f),(0,e.append)(u,_),(0,e.append)(u,g),(0,e.append)(g,v);for(let e=0;e<x.length;e+=1)x[e].m(g,null);h=!0},p(t,[a]){if((!h||1&a&&!(0,e.src_url_equal)(i.src,p=r.default[(0,n.iconName)(t[0])]))&&(0,e.attr)(i,"src",p),(!h||1&a)&&(0,e.attr)(i,"alt",t[0]),(!h||1&a)&&$!==($=t[0].toUpperCase()+"")&&(0,e.set_data)(f,$),2&a){let n;for(q=t[1],n=0;n<q.length;n+=1){const r=o(t,q,n);x[n]?(x[n].p(r,a),(0,e.transition_in)(x[n],1)):(x[n]=l(r),x[n].c(),(0,e.transition_in)(x[n],1),x[n].m(g,null))}for((0,e.group_outros)(),n=q.length;n<x.length;n+=1)y(n);(0,e.check_outros)()}},i(t){if(!h){for(let t=0;t<q.length;t+=1)(0,e.transition_in)(x[t]);h=!0}},o(t){x=x.filter(Boolean);for(let n=0;n<x.length;n+=1)(0,e.transition_out)(x[n]);h=!1},d(t){t&&(0,e.detach)(a),(0,e.destroy_each)(x,t)}}}function p(n,r,a){let s,o;(0,e.component_subscribe)(n,t.gamestate,e=>a(2,o=e));let{team:l}=r;return n.$$set=(e=>{"team"in e&&a(0,l=e.team)}),n.$$.update=(()=>{5&n.$$.dirty&&a(1,s=Array.from(new Set(Array.from(o.scripts.values()).filter(e=>e.team===l).map(e=>e.genre))))}),[l,s,o]}class c extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,p,i,e.safe_not_equal,{team:0})}}var u=c;exports.default=u;
},{"svelte/internal":"YkLP","../..":"QCba","../../colors":"Td8d","../../assets/teams/*.png":"mt6y","../script-stats/Genre.svelte":"DCT3"}],"GY3q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=l(require("./CastItem.svelte")),o=l(require("./CastChat.svelte")),r=l(require("./Team.svelte")),s=require("../../../../server/src/rooms/schema/CastOffer");function l(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){const o=t.slice();return o[14]=e[n],o}function a(t,e,n){const o=t.slice();return o[14]=e[n],o}function c(t,e,n){const o=t.slice();return o[19]=e[n],o}function u(e){let n,o;return(n=new r.default({props:{team:e[19],selected:e[0]===e[19].color,pulse:e[8](e[19].color)}})).$on("click",function(){return e[12](e[19])}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},p(t,o){e=t;const r={};64&o&&(r.team=e[19]),65&o&&(r.selected=e[0]===e[19].color),64&o&&(r.pulse=e[8](e[19].color)),n.$set(r)},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function p(e){let n,o,r=e[2].color!==e[19].color&&u(e);return{c(){r&&r.c(),n=(0,t.empty)()},m(e,s){r&&r.m(e,s),(0,t.insert)(e,n,s),o=!0},p(e,o){e[2].color!==e[19].color?r?(r.p(e,o),68&o&&(0,t.transition_in)(r,1)):((r=u(e)).c(),(0,t.transition_in)(r,1),r.m(n.parentNode,n)):r&&((0,t.group_outros)(),(0,t.transition_out)(r,1,1,()=>{r=null}),(0,t.check_outros)())},i(e){o||((0,t.transition_in)(r),o=!0)},o(e){(0,t.transition_out)(r),o=!1},d(e){r&&r.d(e),e&&(0,t.detach)(n)}}}function m(e){let n,r,s,l,c,u,p,m,d,h,v,$,j,C,y,x=e[0].toUpperCase()+"",b=e[7],q=[];for(let t=0;t<b.length;t+=1)q[t]=f(a(e,b,t));const w=e=>(0,t.transition_out)(q[e],1,1,()=>{q[e]=null});let k=e[4]&&e[4].amt&&_(e),O=e[5],T=[];for(let t=0;t<O.length;t+=1)T[t]=g(i(e,O,t));const S=e=>(0,t.transition_out)(T[e],1,1,()=>{T[e]=null});return C=new o.default({props:{myCast:e[7],theirCast:e[5],team:e[0],offers:e[1]}}),{c(){n=(0,t.element)("div"),r=(0,t.element)("div"),s=(0,t.element)("div"),l=(0,t.text)("YOUR CAST\n            "),c=(0,t.element)("div");for(let t=0;t<q.length;t+=1)q[t].c();u=(0,t.space)(),p=(0,t.element)("div"),k&&k.c(),m=(0,t.space)(),d=(0,t.element)("div"),h=(0,t.text)(x),v=(0,t.text)("'S CAST\n            "),$=(0,t.element)("div");for(let t=0;t<T.length;t+=1)T[t].c();j=(0,t.space)(),(0,t.create_component)(C.$$.fragment),(0,t.attr)(c,"class","cast-list svelte-lejji6"),(0,t.attr)(s,"class","my-cast"),(0,t.attr)(p,"class","cash svelte-lejji6"),(0,t.attr)($,"class","cast-list svelte-lejji6"),(0,t.attr)(d,"class","their-cast"),(0,t.attr)(r,"class","cast-container svelte-lejji6"),(0,t.attr)(n,"class","container svelte-lejji6")},m(e,o){(0,t.insert)(e,n,o),(0,t.append)(n,r),(0,t.append)(r,s),(0,t.append)(s,l),(0,t.append)(s,c);for(let t=0;t<q.length;t+=1)q[t].m(c,null);(0,t.append)(r,u),(0,t.append)(r,p),k&&k.m(p,null),(0,t.append)(r,m),(0,t.append)(r,d),(0,t.append)(d,h),(0,t.append)(d,v),(0,t.append)(d,$);for(let t=0;t<T.length;t+=1)T[t].m($,null);(0,t.insert)(e,j,o),(0,t.mount_component)(C,e,o),y=!0},p(e,n){if(144&n){let o;for(b=e[7],o=0;o<b.length;o+=1){const r=a(e,b,o);q[o]?(q[o].p(r,n),(0,t.transition_in)(q[o],1)):(q[o]=f(r),q[o].c(),(0,t.transition_in)(q[o],1),q[o].m(c,null))}for((0,t.group_outros)(),o=b.length;o<q.length;o+=1)w(o);(0,t.check_outros)()}if(e[4]&&e[4].amt?k?k.p(e,n):((k=_(e)).c(),k.m(p,null)):k&&(k.d(1),k=null),(!y||1&n)&&x!==(x=e[0].toUpperCase()+"")&&(0,t.set_data)(h,x),48&n){let o;for(O=e[5],o=0;o<O.length;o+=1){const r=i(e,O,o);T[o]?(T[o].p(r,n),(0,t.transition_in)(T[o],1)):(T[o]=g(r),T[o].c(),(0,t.transition_in)(T[o],1),T[o].m($,null))}for((0,t.group_outros)(),o=O.length;o<T.length;o+=1)S(o);(0,t.check_outros)()}const o={};128&n&&(o.myCast=e[7]),32&n&&(o.theirCast=e[5]),1&n&&(o.team=e[0]),2&n&&(o.offers=e[1]),C.$set(o)},i(e){if(!y){for(let e=0;e<b.length;e+=1)(0,t.transition_in)(q[e]);for(let e=0;e<O.length;e+=1)(0,t.transition_in)(T[e]);(0,t.transition_in)(C.$$.fragment,e),y=!0}},o(e){q=q.filter(Boolean);for(let n=0;n<q.length;n+=1)(0,t.transition_out)(q[n]);T=T.filter(Boolean);for(let n=0;n<T.length;n+=1)(0,t.transition_out)(T[n]);(0,t.transition_out)(C.$$.fragment,e),y=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_each)(q,e),k&&k.d(),(0,t.destroy_each)(T,e),e&&(0,t.detach)(j),(0,t.destroy_component)(C,e)}}}function d(e){let n;return{c(){(n=(0,t.element)("div")).textContent="→",(0,t.attr)(n,"class","arrow right svelte-lejji6")},m(e,o){(0,t.insert)(e,n,o)},d(e){e&&(0,t.detach)(n)}}}function f(e){let o,r,s,l,i,a=e[4]&&e[4].requestedCast.find(c);function c(...t){return e[11](e[14],...t)}let u=a&&d(e);return s=new n.default({props:{cast:e[14]}}),{c(){o=(0,t.element)("div"),u&&u.c(),r=(0,t.space)(),(0,t.create_component)(s.$$.fragment),l=(0,t.space)(),(0,t.attr)(o,"class","cast-item svelte-lejji6")},m(e,n){(0,t.insert)(e,o,n),u&&u.m(o,null),(0,t.append)(o,r),(0,t.mount_component)(s,o,null),(0,t.append)(o,l),i=!0},p(t,n){e=t,144&n&&(a=e[4]&&e[4].requestedCast.find(c)),a?u||((u=d(e)).c(),u.m(o,r)):u&&(u.d(1),u=null);const l={};128&n&&(l.cast=e[14]),s.$set(l)},i(e){i||((0,t.transition_in)(s.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(s.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(o),u&&u.d(),(0,t.destroy_component)(s)}}}function _(e){let n,o,r,s,l,i=e[4].amt+"";return{c(){n=(0,t.element)("div"),(o=(0,t.element)("div")).textContent="←",r=(0,t.text)("\n                +$"),s=(0,t.text)(i),l=(0,t.text)("M"),(0,t.attr)(o,"class","arrow left svelte-lejji6"),(0,t.attr)(n,"class","cash-info svelte-lejji6")},m(e,i){(0,t.insert)(e,n,i),(0,t.append)(n,o),(0,t.append)(n,r),(0,t.append)(n,s),(0,t.append)(n,l)},p(e,n){16&n&&i!==(i=e[4].amt+"")&&(0,t.set_data)(s,i)},d(e){e&&(0,t.detach)(n)}}}function h(e){let n;return{c(){(n=(0,t.element)("div")).textContent="←",(0,t.attr)(n,"class","arrow left svelte-lejji6")},m(e,o){(0,t.insert)(e,n,o)},d(e){e&&(0,t.detach)(n)}}}function g(e){let o,r,s,l,i,a=e[4]&&e[4].offeredCast.find(c);function c(...t){return e[10](e[14],...t)}r=new n.default({props:{cast:e[14]}});let u=a&&h(e);return{c(){o=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),s=(0,t.space)(),u&&u.c(),l=(0,t.space)(),(0,t.attr)(o,"class","cast-item svelte-lejji6")},m(e,n){(0,t.insert)(e,o,n),(0,t.mount_component)(r,o,null),(0,t.append)(o,s),u&&u.m(o,null),(0,t.append)(o,l),i=!0},p(t,n){e=t;const s={};32&n&&(s.cast=e[14]),r.$set(s),48&n&&(a=e[4]&&e[4].offeredCast.find(c)),a?u||((u=h(e)).c(),u.m(o,l)):u&&(u.d(1),u=null)},i(e){i||((0,t.transition_in)(r.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(r.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(o),(0,t.destroy_component)(r),u&&u.d()}}}function v(e){let n,o,r,s,l,i=e[3].teams.get(e[0]),a=e[6],u=[];for(let t=0;t<a.length;t+=1)u[t]=p(c(e,a,t));const d=e=>(0,t.transition_out)(u[e],1,1,()=>{u[e]=null});let f=i&&m(e);return{c(){n=(0,t.element)("div"),o=(0,t.element)("div");for(let t=0;t<u.length;t+=1)u[t].c();r=(0,t.space)(),s=(0,t.element)("div"),f&&f.c(),(0,t.attr)(o,"class","list svelte-lejji6"),(0,t.attr)(s,"class","detail svelte-lejji6"),(0,t.attr)(n,"class","wrapper svelte-lejji6"),(0,t.set_style)(n,"--min-height",56*e[3].directors.size+"px")},m(e,i){(0,t.insert)(e,n,i),(0,t.append)(n,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);(0,t.append)(n,r),(0,t.append)(n,s),f&&f.m(s,null),l=!0},p(e,[r]){if(325&r){let n;for(a=e[6],n=0;n<a.length;n+=1){const s=c(e,a,n);u[n]?(u[n].p(s,r),(0,t.transition_in)(u[n],1)):(u[n]=p(s),u[n].c(),(0,t.transition_in)(u[n],1),u[n].m(o,null))}for((0,t.group_outros)(),n=a.length;n<u.length;n+=1)d(n);(0,t.check_outros)()}9&r&&(i=e[3].teams.get(e[0])),i?f?(f.p(e,r),9&r&&(0,t.transition_in)(f,1)):((f=m(e)).c(),(0,t.transition_in)(f,1),f.m(s,null)):f&&((0,t.group_outros)(),(0,t.transition_out)(f,1,1,()=>{f=null}),(0,t.check_outros)()),(!l||8&r)&&(0,t.set_style)(n,"--min-height",56*e[3].directors.size+"px")},i(e){if(!l){for(let e=0;e<a.length;e+=1)(0,t.transition_in)(u[e]);(0,t.transition_in)(f),l=!0}},o(e){u=u.filter(Boolean);for(let n=0;n<u.length;n+=1)(0,t.transition_out)(u[n]);(0,t.transition_out)(f),l=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_each)(u,e),f&&f.d()}}}function $(n,o,r){let l,i,a,c,u,p,m,d,f;(0,t.component_subscribe)(n,e.castRequests,t=>r(13,c=t)),(0,t.component_subscribe)(n,e.team,t=>r(2,u=t)),(0,t.component_subscribe)(n,e.gamestate,t=>r(3,p=t)),(0,t.component_subscribe)(n,e.cast,t=>r(9,m=t)),(0,t.component_subscribe)(n,e.otherTeams,t=>r(6,d=t)),(0,t.component_subscribe)(n,e.myCast,t=>r(7,f=t));let _=d.length?d[0].color:null;return n.$$.update=(()=>{513&n.$$.dirty&&r(5,l=_?Array.from(m.values()).filter(t=>t.team===_):[]),13&n.$$.dirty&&r(1,i=_?p.castOffers.filter(t=>t.to===u.color&&t.from===_||t.to===_&&t.from===u.color):[]),6&n.$$.dirty&&r(4,a=i.length&&(0,s.isValidOffer)(i[i.length-1],u.color)?i[i.length-1]:null)}),[_,i,u,p,a,l,d,f,t=>!!c[t],m,(t,e)=>e.name===t.name,(t,e)=>e.name===t.name,t=>r(0,_=t.color)]}require("./TeamDetail.svelte");class j extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,$,v,t.safe_not_equal,{})}}var C=j;exports.default=C;
},{"svelte/internal":"YkLP","../..":"QCba","./CastItem.svelte":"jThR","./CastChat.svelte":"r2Q4","./Team.svelte":"IRQk","../../../../server/src/rooms/schema/CastOffer":"XfOi","./TeamDetail.svelte":"rmPn"}],"le0O":[function(require,module,exports) {
module.exports="akita.a17a42fc.png";
},{}],"nQFF":[function(require,module,exports) {
module.exports="amman.db1ae19c.png";
},{}],"KDfB":[function(require,module,exports) {
module.exports="belem.2199dd4c.png";
},{}],"AYcy":[function(require,module,exports) {
module.exports="bristl.3692d2c4.png";
},{}],"l671":[function(require,module,exports) {
module.exports="busan.97b26a16.png";
},{}],"nSNo":[function(require,module,exports) {
module.exports="dhaka.80aea614.png";
},{}],"kHVK":[function(require,module,exports) {
module.exports="dort.a4337617.png";
},{}],"HxjX":[function(require,module,exports) {
module.exports="edin.85f38261.png";
},{}],"mJoC":[function(require,module,exports) {
module.exports="khar.f86bd43b.png";
},{}],"wmVK":[function(require,module,exports) {
module.exports="kiev.eb853a14.png";
},{}],"xX2I":[function(require,module,exports) {
module.exports="kyoto.59ee4432.png";
},{}],"jOld":[function(require,module,exports) {
module.exports="leeds.78871879.png";
},{}],"U3FM":[function(require,module,exports) {
module.exports="malta.e554ae64.png";
},{}],"vwuJ":[function(require,module,exports) {
module.exports="marfa.66513897.png";
},{}],"GVBR":[function(require,module,exports) {
module.exports="odessa.952409fd.png";
},{}],"zpJz":[function(require,module,exports) {
module.exports="okoko.eda38544.png";
},{}],"rMK1":[function(require,module,exports) {
module.exports="omsk.58da287f.png";
},{}],"k963":[function(require,module,exports) {
module.exports="perth.6f9adeba.png";
},{}],"NLju":[function(require,module,exports) {
module.exports="rino.b0538d7b.png";
},{}],"w2dd":[function(require,module,exports) {
module.exports="suttn.20bf0a7a.png";
},{}],"xJsc":[function(require,module,exports) {
module.exports="tokyo.c43ed2ec.png";
},{}],"qGSY":[function(require,module,exports) {
module.exports="tymen.c8ced870.png";
},{}],"in8A":[function(require,module,exports) {
module.exports="vik.99aed0ad.png";
},{}],"mEzr":[function(require,module,exports) {
module.exports="yoko.836f7e14.png";
},{}],"nmTl":[function(require,module,exports) {
module.exports={akita:require("./akita.png"),amman:require("./amman.png"),belem:require("./belem.png"),bristl:require("./bristl.png"),busan:require("./busan.png"),dhaka:require("./dhaka.png"),dort:require("./dort.png"),edin:require("./edin.png"),khar:require("./khar.png"),kiev:require("./kiev.png"),kyoto:require("./kyoto.png"),leeds:require("./leeds.png"),malta:require("./malta.png"),marfa:require("./marfa.png"),odessa:require("./odessa.png"),okoko:require("./okoko.png"),omsk:require("./omsk.png"),perth:require("./perth.png"),rino:require("./rino.png"),suttn:require("./suttn.png"),tokyo:require("./tokyo.png"),tymen:require("./tymen.png"),vik:require("./vik.png"),yoko:require("./yoko.png")};
},{"./akita.png":"le0O","./amman.png":"nQFF","./belem.png":"KDfB","./bristl.png":"AYcy","./busan.png":"l671","./dhaka.png":"nSNo","./dort.png":"kHVK","./edin.png":"HxjX","./khar.png":"mJoC","./kiev.png":"wmVK","./kyoto.png":"xX2I","./leeds.png":"jOld","./malta.png":"U3FM","./marfa.png":"vwuJ","./odessa.png":"GVBR","./okoko.png":"zpJz","./omsk.png":"rMK1","./perth.png":"k963","./rino.png":"NLju","./suttn.png":"w2dd","./tokyo.png":"xJsc","./tymen.png":"qGSY","./vik.png":"in8A","./yoko.png":"mEzr"}],"o4jR":[function(require,module,exports) {
"use strict";var e=this&&this.__extends||function(){var e=function(t,r){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(t,r)};return function(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function o(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(o.prototype=r.prototype,new o)}}(),t=this&&this.__decorate||function(e,t,r,o){var n,f=arguments.length,i=f<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(f<3?n(i):f>3?n(t,r,i):n(t,r))||i);return f>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.isConsidering=exports.lastCounterOfferToTeam=exports.getLowestCounterOffer=exports.getValueOfOffer=exports.getAcceptedOffer=exports.getBestOffer=exports.DirectorOffer=exports.OfferType=void 0;var r,o=require("@colyseus/schema"),n=require("./Team");!function(e){e.DirectorOffer="offer",e.Counter="counter",e.Reject="reject",e.Accept="accept",e.Thinking="thinking",e.TeamAccept="teamAccept",e.DirectorAccept="DirectorAccept",e.Blocked="blocked"}(r=exports.OfferType||(exports.OfferType={}));var f=function(r){function n(e){var t=e.team,o=e.amt,n=void 0===o?0:o,f=e.equity,i=void 0===f?0:f,c=e.timeToConsider,p=void 0===c?0:c,u=e.script,s=e.type,a=e.text,y=r.call(this)||this;return y.equity=0,y.timeToConsider=0,y.accepted=!1,y.team=t,y.amt=n,y.script=u,y.equity=i||0,y.timeToConsider=p,y.text=a,y.type=s,y}return e(n,r),t([(0,o.type)("string")],n.prototype,"team",void 0),t([(0,o.type)("number")],n.prototype,"amt",void 0),t([(0,o.type)("number")],n.prototype,"equity",void 0),t([(0,o.type)("string")],n.prototype,"script",void 0),t([(0,o.type)("string")],n.prototype,"type",void 0),t([(0,o.type)("number")],n.prototype,"timeToConsider",void 0),t([(0,o.type)("string")],n.prototype,"text",void 0),t([(0,o.type)("boolean")],n.prototype,"accepted",void 0),n}(o.Schema);exports.DirectorOffer=f;var i=function(e,t,o){return Array.from(e.offers).slice().filter(function(e){return e.type===r.DirectorOffer&&e.timeToConsider>0}).filter(function(e){return!o||e.team===o}).sort(function(e,r){return(0,exports.getValueOfOffer)(r,t)-(0,exports.getValueOfOffer)(e,t)})[0]};exports.getBestOffer=i;var c=function(e){return e.offers.find(function(e){return e.accepted})};exports.getAcceptedOffer=c;var p=function(e,t){if(!e)return 0;var r=e.script?t.scripts.get(e.script).rating:(0,n.lowestScriptRating)(e.team,t);return e.amt+e.equity/100*r};exports.getValueOfOffer=p;var u=function(e,t,o){return Array.from(e.offers).filter(function(e){return e.team===o&&e.type===r.Counter}).filter(function(e){return(0,exports.getValueOfOffer)(e,t)>0}).sort(function(e,r){return(0,exports.getValueOfOffer)(e,t)-(0,exports.getValueOfOffer)(r,t)})[0]};exports.getLowestCounterOffer=u;var s=function(e,t){for(var o=e.length-1;o>=0;o--){var n=e[o];if(n.type==r.Counter&&n.team==t)return n}return null};exports.lastCounterOfferToTeam=s;var a=function(e){if(e.team)return!1;var t=!1,o={};return e.offers.forEach(function(e){o[e.team]||(o[e.team]=[]),e.type!==r.Thinking&&o[e.team].push(e)}),Object.values(o).forEach(function(e){e[e.length-1].type!==r.Reject&&(t=!0)}),t};exports.isConsidering=a;
},{"@colyseus/schema":"SdlP","./Team":"wXpb"}],"fzPD":[function(require,module,exports) {
module.exports="bellamy.488f25b8.png";
},{}],"KyZa":[function(require,module,exports) {
module.exports="bobo.902a5e61.png";
},{}],"lRmt":[function(require,module,exports) {
module.exports="clavius.5e3ed220.png";
},{}],"Ed6j":[function(require,module,exports) {
module.exports="coogler.39b2c065.png";
},{}],"HALg":[function(require,module,exports) {
module.exports="denis.62b88df6.png";
},{}],"lByt":[function(require,module,exports) {
module.exports="hark.902a5e61.png";
},{}],"QgXv":[function(require,module,exports) {
module.exports="jean.902a5e61.png";
},{}],"xS1w":[function(require,module,exports) {
module.exports="joon.dd700c1b.png";
},{}],"xvnJ":[function(require,module,exports) {
module.exports="kemp.f60d20e2.png";
},{}],"KQVX":[function(require,module,exports) {
module.exports="lynch.a480b1ab.png";
},{}],"xgsW":[function(require,module,exports) {
module.exports="nausicaa.67af39f2.png";
},{}],"qln2":[function(require,module,exports) {
module.exports="octavia.4ccb5059.png";
},{}],"dF8K":[function(require,module,exports) {
module.exports="oshii.c9c32261.png";
},{}],"V4mY":[function(require,module,exports) {
module.exports="othello.902a5e61.png";
},{}],"JuI7":[function(require,module,exports) {
module.exports="otomo.bf04ea79.png";
},{}],"DjnM":[function(require,module,exports) {
module.exports="ridley.77369515.png";
},{}],"UNGH":[function(require,module,exports) {
module.exports="rouge.902a5e61.png";
},{}],"id9j":[function(require,module,exports) {
module.exports="saul.d290cc69.png";
},{}],"kCON":[function(require,module,exports) {
module.exports="trinity.8ea0a9e6.png";
},{}],"fSMP":[function(require,module,exports) {
module.exports={bellamy:require("./bellamy.png"),bobo:require("./bobo.png"),clavius:require("./clavius.png"),coogler:require("./coogler.png"),denis:require("./denis.png"),hark:require("./hark.png"),jean:require("./jean.png"),joon:require("./joon.png"),kemp:require("./kemp.png"),lynch:require("./lynch.png"),nausicaa:require("./nausicaa.png"),octavia:require("./octavia.png"),oshii:require("./oshii.png"),othello:require("./othello.png"),otomo:require("./otomo.png"),ridley:require("./ridley.png"),rouge:require("./rouge.png"),saul:require("./saul.png"),trinity:require("./trinity.png")};
},{"./bellamy.png":"fzPD","./bobo.png":"KyZa","./clavius.png":"lRmt","./coogler.png":"Ed6j","./denis.png":"HALg","./hark.png":"lByt","./jean.png":"QgXv","./joon.png":"xS1w","./kemp.png":"xvnJ","./lynch.png":"KQVX","./nausicaa.png":"xgsW","./octavia.png":"qln2","./oshii.png":"dF8K","./othello.png":"V4mY","./otomo.png":"JuI7","./ridley.png":"DjnM","./rouge.png":"UNGH","./saul.png":"id9j","./trinity.png":"kCON"}],"cj0h":[function(require,module,exports) {
module.exports="elara.9248e4e3.png";
},{}],"uJ03":[function(require,module,exports) {
module.exports="juno.0572ef22.png";
},{}],"mggJ":[function(require,module,exports) {
module.exports="libra.5f577fd1.png";
},{}],"dfsw":[function(require,module,exports) {
module.exports="lyra.aa87c449.png";
},{}],"NMt8":[function(require,module,exports) {
module.exports="percy.d1529504.png";
},{}],"dkWF":[function(require,module,exports) {
module.exports="proto.bcb132f4.png";
},{}],"Mm03":[function(require,module,exports) {
module.exports="rhea.7f91f027.png";
},{}],"cEkl":[function(require,module,exports) {
module.exports="thebe.d114e677.png";
},{}],"l4nH":[function(require,module,exports) {
module.exports="triton.59ffb505.png";
},{}],"CSC8":[function(require,module,exports) {
module.exports="ursa.1463d52e.png";
},{}],"poll":[function(require,module,exports) {
module.exports="vega.909a037b.png";
},{}],"XCMb":[function(require,module,exports) {
module.exports={elara:require("./elara.png"),juno:require("./juno.png"),libra:require("./libra.png"),lyra:require("./lyra.png"),percy:require("./percy.png"),proto:require("./proto.png"),rhea:require("./rhea.png"),thebe:require("./thebe.png"),triton:require("./triton.png"),ursa:require("./ursa.png"),vega:require("./vega.png")};
},{"./elara.png":"cj0h","./juno.png":"uJ03","./libra.png":"mggJ","./lyra.png":"dfsw","./percy.png":"NMt8","./proto.png":"dkWF","./rhea.png":"Mm03","./thebe.png":"cEkl","./triton.png":"l4nH","./ursa.png":"CSC8","./vega.png":"poll"}],"uoY8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("svelte"),l=require("../.."),r=require("../../../../server/src/rooms/schema/DirectorOffer"),n=require("../../colors"),s=o(require("../../assets/directors/*.png")),a=o(require("../../assets/cast/*.png")),c=o(require("../../assets/crew/*.png"));function o(e){return e&&e.__esModule?e:{default:e}}function u(t){let l;return{c(){(l=(0,e.element)("div")).innerHTML='<div class="content svelte-1cwxly0">!</div>',(0,e.attr)(l,"class","notification svelte-1cwxly0")},m(t,r){(0,e.insert)(t,l,r)},d(t){t&&(0,e.detach)(l)}}}function i(t){let l,r,o,i,p,d,m,f,_,v,y,$,g,q,x,C=t[0].name.toUpperCase()+"";const O=t[8].default,w=(0,e.create_slot)(O,t,t[7],null);let b=t[3]&&u(t);return{c(){l=(0,e.element)("div"),r=(0,e.element)("img"),p=(0,e.space)(),d=(0,e.element)("div"),m=(0,e.element)("div"),f=(0,e.text)(C),_=(0,e.space)(),w&&w.c(),v=(0,e.space)(),b&&b.c(),(0,e.src_url_equal)(r.src,o=s.default[t[0].name]||a.default[t[0].name]||c.default[t[0].name])||(0,e.attr)(r,"src",o),(0,e.attr)(r,"alt",i=t[0].name),(0,e.attr)(r,"class","svelte-1cwxly0"),(0,e.attr)(d,"class","name-and-genre svelte-1cwxly0"),(0,e.attr)(l,"class",y=(0,e.null_to_empty)((t[1]?"selected":"")+" item "+(t[2]?"pulse":""))+" svelte-1cwxly0"),(0,e.attr)(l,"style",$=`\n    background-color: ${t[0].team?(0,n.getPlayerColor)(t[0].team):""};\n    --color: ${t[2]?(0,n.getPlayerColor)(t[4].color):"none"}\n  `)},m(n,s){(0,e.insert)(n,l,s),(0,e.append)(l,r),(0,e.append)(l,p),(0,e.append)(l,d),(0,e.append)(d,m),(0,e.append)(m,f),(0,e.append)(d,_),w&&w.m(d,null),(0,e.append)(l,v),b&&b.m(l,null),g=!0,q||(x=(0,e.listen)(l,"click",t[9]),q=!0)},p(t,[p]){(!g||1&p&&!(0,e.src_url_equal)(r.src,o=s.default[t[0].name]||a.default[t[0].name]||c.default[t[0].name]))&&(0,e.attr)(r,"src",o),(!g||1&p&&i!==(i=t[0].name))&&(0,e.attr)(r,"alt",i),(!g||1&p)&&C!==(C=t[0].name.toUpperCase()+"")&&(0,e.set_data)(f,C),w&&w.p&&(!g||128&p)&&(0,e.update_slot_base)(w,O,t,t[7],g?(0,e.get_slot_changes)(O,t[7],p,null):(0,e.get_all_dirty_from_scope)(t[7]),null),t[3]?b||((b=u(t)).c(),b.m(l,null)):b&&(b.d(1),b=null),(!g||6&p&&y!==(y=(0,e.null_to_empty)((t[1]?"selected":"")+" item "+(t[2]?"pulse":""))+" svelte-1cwxly0"))&&(0,e.attr)(l,"class",y),(!g||21&p&&$!==($=`\n    background-color: ${t[0].team?(0,n.getPlayerColor)(t[0].team):""};\n    --color: ${t[2]?(0,n.getPlayerColor)(t[4].color):"none"}\n  `))&&(0,e.attr)(l,"style",$)},i(t){g||((0,e.transition_in)(w,t),g=!0)},o(t){(0,e.transition_out)(w,t),g=!1},d(t){t&&(0,e.detach)(l),w&&w.d(t),b&&b.d(),q=!1,x()}}}function p(n,s,a){let c,o;(0,e.component_subscribe)(n,l.team,e=>a(4,o=e));let{$$slots:u={},$$scope:i}=s,{talent:p}=s;const d=[r.OfferType.Counter,r.OfferType.Reject,r.OfferType.Counter];let{selected:m}=s,{pulse:f}=s,{latestOffer:_=null}=s;const v=(0,t.createEventDispatcher)();return n.$$set=(e=>{"talent"in e&&a(0,p=e.talent),"selected"in e&&a(1,m=e.selected),"pulse"in e&&a(2,f=e.pulse),"latestOffer"in e&&a(6,_=e.latestOffer),"$$scope"in e&&a(7,i=e.$$scope)}),n.$$.update=(()=>{65&n.$$.dirty&&a(3,c=!p.team&&_&&d.includes(_.type))}),[p,m,f,c,o,v,_,i,u,()=>v("click")]}class d extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,p,i,e.safe_not_equal,{talent:0,selected:1,pulse:2,latestOffer:6})}}var m=d;exports.default=m;
},{"svelte/internal":"YkLP","svelte":"XrLp","../..":"QCba","../../../../server/src/rooms/schema/DirectorOffer":"o4jR","../../colors":"Td8d","../../assets/directors/*.png":"fSMP","../../assets/cast/*.png":"XCMb","../../assets/crew/*.png":"nmTl"}],"JdMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=a(require("../../assets/crew/*.png")),r=a(require("../script-stats/Rating.svelte")),o=a(require("./Item.svelte"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){const r=t.slice();return r[6]=e[n],r}function l(e){let n,o,a;return n=new r.default({props:{rating:e[6].rating}}),{c(){(0,t.create_component)(n.$$.fragment),o=(0,t.space)()},m(e,r){(0,t.mount_component)(n,e,r),(0,t.insert)(e,o,r),a=!0},p(t,e){const r={};2&e&&(r.rating=t[6].rating),n.$set(r)},i(e){a||((0,t.transition_in)(n.$$.fragment,e),a=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),a=!1},d(e){(0,t.destroy_component)(n,e),e&&(0,t.detach)(o)}}}function c(e){let n,r;return(n=new o.default({props:{talent:e[6],selected:e[0]===e[6].name,pulse:e[6].proposal&&e[6].proposal.team===e[2].color,$$slots:{default:[l]},$$scope:{ctx:e}}})).$on("click",function(){return e[4](e[6])}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},p(t,r){e=t;const o={};2&r&&(o.talent=e[6]),3&r&&(o.selected=e[0]===e[6].name),6&r&&(o.pulse=e[6].proposal&&e[6].proposal.team===e[2].color),514&r&&(o.$$scope={dirty:r,ctx:e}),n.$set(o)},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function p(e){let n,r;return{c(){n=(0,t.text)(e[0]),r=(0,t.text)(" is looking elsewhere right now.")},m(e,o){(0,t.insert)(e,n,o),(0,t.insert)(e,r,o)},p(e,r){1&r&&(0,t.set_data)(n,e[0])},d(e){e&&(0,t.detach)(n),e&&(0,t.detach)(r)}}}function i(e){let n,r,o,a,s,l,c,p,i,u,d,m,f=e[3].get(e[0]).proposal.script+"",_=e[3].get(e[0]).proposal.amt+"";return{c(){n=(0,t.element)("div"),r=(0,t.text)("We want to work with you on "),o=(0,t.element)("div"),a=(0,t.text)(f),s=(0,t.text)("\n        Hire us for $"),l=(0,t.text)(_),c=(0,t.text)("M?"),p=(0,t.space)(),i=(0,t.element)("div"),(u=(0,t.element)("button")).textContent="HIRE",(0,t.attr)(o,"class","title-font svelte-1f24px3"),(0,t.attr)(n,"class","content svelte-1f24px3"),(0,t.attr)(u,"class","svelte-1f24px3")},m(f,_){(0,t.insert)(f,n,_),(0,t.append)(n,r),(0,t.append)(n,o),(0,t.append)(o,a),(0,t.append)(n,s),(0,t.append)(n,l),(0,t.append)(n,c),(0,t.insert)(f,p,_),(0,t.insert)(f,i,_),(0,t.append)(i,u),d||(m=(0,t.listen)(u,"click",e[5]),d=!0)},p(e,n){9&n&&f!==(f=e[3].get(e[0]).proposal.script+"")&&(0,t.set_data)(a,f),9&n&&_!==(_=e[3].get(e[0]).proposal.amt+"")&&(0,t.set_data)(l,_)},d(e){e&&(0,t.detach)(n),e&&(0,t.detach)(p),e&&(0,t.detach)(i),d=!1,m()}}}function u(e){let n;return{c(){n=(0,t.text)("HIRED")},m(e,r){(0,t.insert)(e,n,r)},p:t.noop,d(e){e&&(0,t.detach)(n)}}}function d(e){let r,o,a,l,d,m,f,_,g,v,h=Array.from(e[1].crew.values()),x=[];for(let t=0;t<h.length;t+=1)x[t]=c(s(e,h,t));const $=e=>(0,t.transition_out)(x[e],1,1,()=>{x[e]=null});function w(t,e){return 13&e&&(_=null),13&e&&(g=null),null==_&&(_=!(t[3].get(t[0]).team!==t[2].color)),_?u:(null==g&&(g=!(!t[3].get(t[0]).proposal||t[3].get(t[0]).proposal.team!==t[2].color)),g?i:p)}let y=w(e,-1),b=y(e);return{c(){r=(0,t.element)("div"),o=(0,t.element)("div");for(let t=0;t<x.length;t+=1)x[t].c();a=(0,t.space)(),l=(0,t.element)("div"),d=(0,t.element)("img"),f=(0,t.space)(),b.c(),(0,t.attr)(o,"class","list svelte-1f24px3"),(0,t.src_url_equal)(d.src,m=n.default[e[0]])||(0,t.attr)(d,"src",m),(0,t.attr)(d,"alt",e[0]),(0,t.attr)(d,"class","svelte-1f24px3"),(0,t.attr)(l,"class","detail svelte-1f24px3"),(0,t.attr)(r,"class","wrapper svelte-1f24px3")},m(e,n){(0,t.insert)(e,r,n),(0,t.append)(r,o);for(let t=0;t<x.length;t+=1)x[t].m(o,null);(0,t.append)(r,a),(0,t.append)(r,l),(0,t.append)(l,d),(0,t.append)(l,f),b.m(l,null),v=!0},p(e,[r]){if(7&r){let n;for(h=Array.from(e[1].crew.values()),n=0;n<h.length;n+=1){const a=s(e,h,n);x[n]?(x[n].p(a,r),(0,t.transition_in)(x[n],1)):(x[n]=c(a),x[n].c(),(0,t.transition_in)(x[n],1),x[n].m(o,null))}for((0,t.group_outros)(),n=h.length;n<x.length;n+=1)$(n);(0,t.check_outros)()}(!v||1&r&&!(0,t.src_url_equal)(d.src,m=n.default[e[0]]))&&(0,t.attr)(d,"src",m),(!v||1&r)&&(0,t.attr)(d,"alt",e[0]),y===(y=w(e,r))&&b?b.p(e,r):(b.d(1),(b=y(e))&&(b.c(),b.m(l,null)))},i(e){if(!v){for(let e=0;e<h.length;e+=1)(0,t.transition_in)(x[e]);v=!0}},o(e){x=x.filter(Boolean);for(let n=0;n<x.length;n+=1)(0,t.transition_out)(x[n]);v=!1},d(e){e&&(0,t.detach)(r),(0,t.destroy_each)(x,e),b.d()}}}function m(n,r,o){let a,s,l;(0,t.component_subscribe)(n,e.gamestate,t=>o(1,a=t)),(0,t.component_subscribe)(n,e.team,t=>o(2,s=t)),(0,t.component_subscribe)(n,e.crew,t=>o(3,l=t));let c=Array.from(a.crew.values())[0].name;return[c,a,s,l,t=>o(0,c=t.name),()=>(0,e.emit)("hireCrew",c)]}class f extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,m,d,t.safe_not_equal,{})}}var _=f;exports.default=_;
},{"svelte/internal":"YkLP","../..":"QCba","../../assets/crew/*.png":"nmTl","../script-stats/Rating.svelte":"SNIV","./Item.svelte":"uoY8"}],"Bgcx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBlocked=exports.canPurchaseCast=exports.isValidAmount=void 0;var e=require("../rooms/schema/DirectorOffer"),r=function(e){return"number"==typeof e&&!isNaN(e)&&(!(e>=1e3)&&!(e%1||e<=0))};exports.isValidAmount=r;var t=function(e,r){var t=Array.from(e.scripts.values()).filter(function(e){return e.team===r}).length;return Array.from(e.cast.values()).filter(function(e){return e.team===r}).length+1<=2*t};exports.canPurchaseCast=t;var o=function(r,t){return!!(null==r?void 0:r.offers.find(function(r){return r.team===t&&r.type===e.OfferType.Blocked}))};exports.isBlocked=o;
},{"../rooms/schema/DirectorOffer":"o4jR"}],"j8HY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),l=require("../../../../server/src/helpers/validate"),n=require("../../../../server/src/rooms/schema/DirectorOffer"),a=require("../../../../server/src/rooms/schema/talent/Talent"),r=s(require("../../assets/directors/*.png"));function s(e){return e&&e.__esModule?e:{default:e}}function c(e,t,l){const n=e.slice();return n[20]=t[l],n}function i(e,t,l){const n=e.slice();return n[23]=t[l],n[25]=l,n}function o(t){let l,n,a,s,c,i,o=t[23].text+"";return{c(){l=(0,e.element)("div"),n=(0,e.element)("img"),s=(0,e.space)(),c=(0,e.element)("div"),i=(0,e.text)(o),(0,e.src_url_equal)(n.src,a=r.default[t[0]])||(0,e.attr)(n,"src",a),(0,e.attr)(n,"alt",t[0]),(0,e.attr)(n,"class","svelte-1gwczwk"),(0,e.attr)(c,"class","them svelte-1gwczwk"),(0,e.attr)(l,"class","row them svelte-1gwczwk")},m(t,a){(0,e.insert)(t,l,a),(0,e.append)(l,n),(0,e.append)(l,s),(0,e.append)(l,c),(0,e.append)(c,i)},p(t,l){1&l&&!(0,e.src_url_equal)(n.src,a=r.default[t[0]])&&(0,e.attr)(n,"src",a),1&l&&(0,e.attr)(n,"alt",t[0]),2&l&&o!==(o=t[23].text+"")&&(0,e.set_data)(i,o)},d(t){t&&(0,e.detach)(l)}}}function p(t){let l;return{c(){(l=(0,e.element)("div")).innerHTML='<div class="them svelte-1gwczwk">BLOCKED.</div>',(0,e.attr)(l,"class","row them svelte-1gwczwk")},m(t,n){(0,e.insert)(t,l,n)},p:e.noop,d(t){t&&(0,e.detach)(l)}}}function u(t){let l;return{c(){(l=(0,e.element)("div")).innerHTML='<div class="you svelte-1gwczwk">We accept your offer.</div>',(0,e.attr)(l,"class","row you svelte-1gwczwk")},m(t,n){(0,e.insert)(t,l,n)},p:e.noop,d(t){t&&(0,e.detach)(l)}}}function d(t){let l,n,a,s,c,i,o,p,u,d,v=t[23].text+"";function m(){return t[14](t[23])}return{c(){l=(0,e.element)("div"),n=(0,e.element)("img"),s=(0,e.space)(),c=(0,e.element)("div"),i=(0,e.text)(v),o=(0,e.space)(),(p=(0,e.element)("button")).textContent="ACCEPT",(0,e.src_url_equal)(n.src,a=r.default[t[0]])||(0,e.attr)(n,"src",a),(0,e.attr)(n,"alt",t[0]),(0,e.attr)(n,"class","svelte-1gwczwk"),(0,e.attr)(p,"class","svelte-1gwczwk"),(0,e.attr)(c,"class","them svelte-1gwczwk"),(0,e.attr)(l,"class","row them svelte-1gwczwk")},m(t,a){(0,e.insert)(t,l,a),(0,e.append)(l,n),(0,e.append)(l,s),(0,e.append)(l,c),(0,e.append)(c,i),(0,e.append)(c,o),(0,e.append)(c,p),u||(d=(0,e.listen)(p,"click",m),u=!0)},p(l,s){t=l,1&s&&!(0,e.src_url_equal)(n.src,a=r.default[t[0]])&&(0,e.attr)(n,"src",a),1&s&&(0,e.attr)(n,"alt",t[0]),2&s&&v!==(v=t[23].text+"")&&(0,e.set_data)(i,v)},d(t){t&&(0,e.detach)(l),u=!1,d()}}}function v(t){let l,n,a,r=t[10](t[23])+"";return{c(){l=(0,e.element)("div"),n=(0,e.element)("div"),a=(0,e.text)(r),(0,e.attr)(n,"class","you svelte-1gwczwk"),(0,e.attr)(l,"class","row you svelte-1gwczwk")},m(t,r){(0,e.insert)(t,l,r),(0,e.append)(l,n),(0,e.append)(n,a)},p(t,l){2&l&&r!==(r=t[10](t[23])+"")&&(0,e.set_data)(a,r)},d(t){t&&(0,e.detach)(l)}}}function m(t){let l;function a(e,t){return e[23].type===n.OfferType.DirectorOffer?v:e[23].type===n.OfferType.Counter&&e[25]===e[1].length-1?d:e[23].type===n.OfferType.TeamAccept?u:e[23].type===n.OfferType.Blocked?p:o}let r=a(t),s=r(t);return{c(){s.c(),l=(0,e.empty)()},m(t,n){s.m(t,n),(0,e.insert)(t,l,n)},p(e,t){r===(r=a(e))&&s?s.p(e,t):(s.d(1),(s=r(e))&&(s.c(),s.m(l.parentNode,l)))},d(t){s.d(t),t&&(0,e.detach)(l)}}}function f(t){let l,n,a,s,c;return{c(){l=(0,e.element)("div"),n=(0,e.element)("img"),s=(0,e.space)(),(c=(0,e.element)("div")).innerHTML='<div class="typing svelte-1gwczwk"></div>',(0,e.src_url_equal)(n.src,a=r.default[t[0]])||(0,e.attr)(n,"src",a),(0,e.attr)(n,"alt",t[0]),(0,e.attr)(n,"class","svelte-1gwczwk"),(0,e.attr)(c,"class","them svelte-1gwczwk"),(0,e.attr)(l,"class","row them svelte-1gwczwk")},m(t,a){(0,e.insert)(t,l,a),(0,e.append)(l,n),(0,e.append)(l,s),(0,e.append)(l,c)},p(t,l){1&l&&!(0,e.src_url_equal)(n.src,a=r.default[t[0]])&&(0,e.attr)(n,"src",a),1&l&&(0,e.attr)(n,"alt",t[0])},d(t){t&&(0,e.detach)(l)}}}function _(t){let l,n,a,r,s,i,o,p,u,d,v,m,f,_,h,y,z,x,q,C,T=Array.from(t[7]).filter(k),b=[];for(let e=0;e<T.length;e+=1)b[e]=w(c(t,T,e));let O="10"!==t[5]&&g(t);return{c(){l=(0,e.element)("div"),n=(0,e.text)("Will you direct\n      "),a=(0,e.element)("select"),r=(0,e.element)("option"),s=(0,e.text)("FILM");for(let e=0;e<b.length;e+=1)b[e].c();i=(0,e.text)("\n      for $"),o=(0,e.element)("input"),p=(0,e.text)("M and\n\n      "),u=(0,e.element)("select"),(d=(0,e.element)("option")).textContent="0",(v=(0,e.element)("option")).textContent="1",(m=(0,e.element)("option")).textContent="2",(f=(0,e.element)("option")).textContent="3",(_=(0,e.element)("option")).textContent="4",(h=(0,e.element)("option")).textContent="5",y=(0,e.text)("\n      share"),O&&O.c(),z=(0,e.text)("?\n      "),(x=(0,e.element)("button")).textContent="OFFER",r.__value=void 0,r.value=r.__value,(0,e.attr)(r,"class","svelte-1gwczwk"),(0,e.attr)(a,"class","svelte-1gwczwk"),void 0===t[6]&&(0,e.add_render_callback)(()=>t[15].call(a)),(0,e.attr)(o,"type","number"),(0,e.attr)(o,"placeholder","AMT"),(0,e.attr)(o,"class","svelte-1gwczwk"),d.__value="0",d.value=d.__value,(0,e.attr)(d,"class","svelte-1gwczwk"),v.__value="10",v.value=v.__value,(0,e.attr)(v,"class","svelte-1gwczwk"),m.__value="20",m.value=m.__value,(0,e.attr)(m,"class","svelte-1gwczwk"),f.__value="30",f.value=f.__value,(0,e.attr)(f,"class","svelte-1gwczwk"),_.__value="40",_.value=_.__value,(0,e.attr)(_,"class","svelte-1gwczwk"),h.__value="50",h.value=h.__value,(0,e.attr)(h,"class","svelte-1gwczwk"),(0,e.attr)(u,"class","equity svelte-1gwczwk"),void 0===t[5]&&(0,e.add_render_callback)(()=>t[18].call(u)),(0,e.attr)(x,"class","svelte-1gwczwk"),(0,e.attr)(l,"class","row you offer svelte-1gwczwk")},m(c,w){(0,e.insert)(c,l,w),(0,e.append)(l,n),(0,e.append)(l,a),(0,e.append)(a,r),(0,e.append)(r,s);for(let e=0;e<b.length;e+=1)b[e].m(a,null);(0,e.select_option)(a,t[6]),(0,e.append)(l,i),(0,e.append)(l,o),(0,e.set_input_value)(o,t[4]),(0,e.append)(l,p),(0,e.append)(l,u),(0,e.append)(u,d),(0,e.append)(u,v),(0,e.append)(u,m),(0,e.append)(u,f),(0,e.append)(u,_),(0,e.append)(u,h),(0,e.select_option)(u,t[5]),(0,e.append)(l,y),O&&O.m(l,null),(0,e.append)(l,z),(0,e.append)(l,x),q||(C=[(0,e.listen)(a,"change",t[15]),(0,e.listen)(o,"input",t[16]),(0,e.listen)(o,"keydown",t[17]),(0,e.listen)(u,"change",t[18]),(0,e.listen)(x,"click",t[19])],q=!0)},p(t,n){if(128&n){let e;for(T=Array.from(t[7]).filter(k),e=0;e<T.length;e+=1){const l=c(t,T,e);b[e]?b[e].p(l,n):(b[e]=w(l),b[e].c(),b[e].m(a,null))}for(;e<b.length;e+=1)b[e].d(1);b.length=T.length}192&n&&(0,e.select_option)(a,t[6]),16&n&&(0,e.to_number)(o.value)!==t[4]&&(0,e.set_input_value)(o,t[4]),32&n&&(0,e.select_option)(u,t[5]),"10"!==t[5]?O||((O=g(t)).c(),O.m(l,z)):O&&(O.d(1),O=null)},d(t){t&&(0,e.detach)(l),(0,e.destroy_each)(b,t),O&&O.d(),q=!1,(0,e.run_all)(C)}}}function w(t){let l,n,a,r=t[20].title.toUpperCase()+"";return{c(){l=(0,e.element)("option"),n=(0,e.text)(r),l.__value=a=t[20].title,l.value=l.__value,(0,e.attr)(l,"class","svelte-1gwczwk")},m(t,a){(0,e.insert)(t,l,a),(0,e.append)(l,n)},p(t,s){128&s&&r!==(r=t[20].title.toUpperCase()+"")&&(0,e.set_data)(n,r),128&s&&a!==(a=t[20].title)&&(l.__value=a,l.value=l.__value)},d(t){t&&(0,e.detach)(l)}}}function g(t){let l;return{c(){l=(0,e.text)("s")},m(t,n){(0,e.insert)(t,l,n)},d(t){t&&(0,e.detach)(l)}}}function h(t){let l,a,r,s=t[1],c=[];for(let e=0;e<s.length;e+=1)c[e]=m(i(t,s,e));let o=t[3]&&t[3].type===n.OfferType.Thinking&&f(t),p=t[2]&&_(t);return{c(){l=(0,e.element)("div");for(let e=0;e<c.length;e+=1)c[e].c();a=(0,e.space)(),o&&o.c(),r=(0,e.space)(),p&&p.c(),(0,e.attr)(l,"class","chat svelte-1gwczwk")},m(t,n){(0,e.insert)(t,l,n);for(let e=0;e<c.length;e+=1)c[e].m(l,null);(0,e.append)(l,a),o&&o.m(l,null),(0,e.append)(l,r),p&&p.m(l,null)},p(e,[t]){if(1539&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const r=i(e,s,n);c[n]?c[n].p(r,t):(c[n]=m(r),c[n].c(),c[n].m(l,a))}for(;n<c.length;n+=1)c[n].d(1);c.length=s.length}e[3]&&e[3].type===n.OfferType.Thinking?o?o.p(e,t):((o=f(e)).c(),o.m(l,r)):o&&(o.d(1),o=null),e[2]?p?p.p(e,t):((p=_(e)).c(),p.m(l,null)):p&&(p.d(1),p=null)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(l),(0,e.destroy_each)(c,t),o&&o.d(),p&&p.d()}}}const k=e=>!e.director;function y(n,r,s){let c,i;(0,e.component_subscribe)(n,t.directors,e=>s(13,c=e)),(0,e.component_subscribe)(n,t.teamScripts,e=>s(7,i=e));let o,p,u,d,v,m,f,{team:_}=r,{dir:w}=r;const g=()=>{s(4,v=Math.round(v||0)),v>=0&&(0,t.emit)("makeDirectorOffer",{name:w,amt:v,equity:Number.parseInt(m||"0"),script:f})},h=e=>{const{amt:l,equity:n}=e;(0,t.emit)("acceptCounterOffer",{name:w,amt:l,equity:n,script:f})};return n.$$set=(e=>{"team"in e&&s(11,_=e.team),"dir"in e&&s(0,w=e.dir)}),n.$$.update=(()=>{if(14339&n.$$.dirty){const e=c.get(w);s(2,p=!(null==e?void 0:e.team)&&!(0,l.isBlocked)(e,_)),s(1,u=Array.from((null==e?void 0:e.offers)||[]).filter(e=>e.team===_)),s(3,d=u?u[u.length-1]:null),w!==o&&(s(12,o=w),s(4,v=void 0),s(5,m=void 0),s(6,f=void 0))}}),[w,u,p,d,v,m,f,i,g,h,e=>`Will you direct ${e.script||""} for $${e.amt}M${(0,a.equityText)(e.equity)}?`,_,o,c,e=>{h(e)},function(){f=(0,e.select_value)(this),s(6,f),s(13,c),s(0,w),s(11,_),s(1,u),s(12,o)},function(){v=(0,e.to_number)(this.value),s(4,v),s(13,c),s(0,w),s(11,_),s(1,u),s(12,o)},e=>{("."===e.key||"-"===e.key||v&&v.toString().length>=3&&"Backspace"!=e.key)&&e.preventDefault()},function(){m=(0,e.select_value)(this),s(5,m),s(13,c),s(0,w),s(11,_),s(1,u),s(12,o)},()=>g()]}class z extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,y,h,e.safe_not_equal,{team:11,dir:0})}}var x=z;exports.default=x;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/helpers/validate":"Bgcx","../../../../server/src/rooms/schema/DirectorOffer":"o4jR","../../../../server/src/rooms/schema/talent/Talent":"NzKw","../../assets/directors/*.png":"fSMP"}],"Pavk":[function(require,module,exports) {
module.exports="bellamy.023f246d.png";
},{}],"MUoj":[function(require,module,exports) {
module.exports="clavius.98a94cf9.png";
},{}],"quSA":[function(require,module,exports) {
module.exports="coogler.40a6a85f.png";
},{}],"I4EY":[function(require,module,exports) {
module.exports="denis.fc774eee.png";
},{}],"Rm6W":[function(require,module,exports) {
module.exports="joon.e4011acb.png";
},{}],"Yw3r":[function(require,module,exports) {
module.exports="kemp.918245a1.png";
},{}],"kkuR":[function(require,module,exports) {
module.exports="lynch.06f7e311.png";
},{}],"m8uT":[function(require,module,exports) {
module.exports="nausicaa.7bf46484.png";
},{}],"UKXG":[function(require,module,exports) {
module.exports="octavia.255e21e1.png";
},{}],"t5FC":[function(require,module,exports) {
module.exports="oshii.33f652a4.png";
},{}],"tSQx":[function(require,module,exports) {
module.exports="otomo.99e7cbf0.png";
},{}],"RFxr":[function(require,module,exports) {
module.exports="ridley.c32ee659.png";
},{}],"ZqsI":[function(require,module,exports) {
module.exports="saul.8aa85c0e.png";
},{}],"X8BQ":[function(require,module,exports) {
module.exports="trinity.42dcf861.png";
},{}],"CcZC":[function(require,module,exports) {
module.exports={bellamy:require("./bellamy.png"),bobo:require("./bobo.png"),clavius:require("./clavius.png"),coogler:require("./coogler.png"),denis:require("./denis.png"),hark:require("./hark.png"),jean:require("./jean.png"),joon:require("./joon.png"),kemp:require("./kemp.png"),lynch:require("./lynch.png"),nausicaa:require("./nausicaa.png"),octavia:require("./octavia.png"),oshii:require("./oshii.png"),othello:require("./othello.png"),otomo:require("./otomo.png"),ridley:require("./ridley.png"),rouge:require("./rouge.png"),saul:require("./saul.png"),trinity:require("./trinity.png")};
},{"./bellamy.png":"Pavk","./bobo.png":"KyZa","./clavius.png":"MUoj","./coogler.png":"quSA","./denis.png":"I4EY","./hark.png":"lByt","./jean.png":"QgXv","./joon.png":"Rm6W","./kemp.png":"Yw3r","./lynch.png":"kkuR","./nausicaa.png":"m8uT","./octavia.png":"UKXG","./oshii.png":"t5FC","./othello.png":"V4mY","./otomo.png":"tSQx","./ridley.png":"RFxr","./rouge.png":"UNGH","./saul.png":"ZqsI","./trinity.png":"X8BQ"}],"g02U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal");function t(t){let i,a,l,s,r;return{c(){i=(0,e.element)("div"),a=(0,e.element)("div"),s=(0,e.space)(),r=(0,e.element)("div"),(0,e.attr)(a,"class","reliability svelte-11ka5gz"),(0,e.attr)(a,"style",l=`left: ${t[1]}%; width: ${t[0].positiveReliability+Math.abs(t[0].negativeReliability)}%;`),(0,e.attr)(r,"class","mid svelte-11ka5gz"),(0,e.attr)(i,"class","wrapper svelte-11ka5gz")},m(t,l){(0,e.insert)(t,i,l),(0,e.append)(i,a),(0,e.append)(i,s),(0,e.append)(i,r)},p(t,[i]){3&i&&l!==(l=`left: ${t[1]}%; width: ${t[0].positiveReliability+Math.abs(t[0].negativeReliability)}%;`)&&(0,e.attr)(a,"style",l)},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(i)}}}function i(e,t,i){let a,l,s,{dir:r}=t;return e.$$set=(e=>{"dir"in e&&i(0,r=e.dir)}),e.$$.update=(()=>{7&e.$$.dirty&&(i(2,l=50+r.positiveReliability),i(1,a=50+r.negativeReliability),s=(l+a)/2)}),[r,a,l]}class a extends e.SvelteComponent{constructor(a){super(),(0,e.init)(this,a,i,t,e.safe_not_equal,{dir:0})}}var l=a;exports.default=l;
},{"svelte/internal":"YkLP"}],"MYK6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=a(require("../../assets/directors/signature/*.png")),n=a(require("../script-stats/Genre.svelte")),r=a(require("./DirectorReliability.svelte"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){const r=e.slice();return r[1]=t[n],r}function o(t){let r,a;return r=new n.default({props:{genre:t[1],showText:!1}}),{c(){(0,e.create_component)(r.$$.fragment)},m(t,n){(0,e.mount_component)(r,t,n),a=!0},p(e,t){const n={};1&t&&(n.genre=e[1]),r.$set(n)},i(t){a||((0,e.transition_in)(r.$$.fragment,t),a=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),a=!1},d(t){(0,e.destroy_component)(r,t)}}}function i(n){let a,i,l,p,c,d,u,m,f,_,g,v,$,h,x,E,q,y,C,R=n[0].name.toUpperCase()+"",w=n[0].genres,N=[];for(let e=0;e<w.length;e+=1)N[e]=o(s(n,w,e));const D=t=>(0,e.transition_out)(N[t],1,1,()=>{N[t]=null});return y=new r.default({props:{dir:n[0]}}),{c(){a=(0,e.element)("div"),i=(0,e.element)("div"),l=(0,e.element)("img"),d=(0,e.space)(),u=(0,e.element)("div"),m=(0,e.element)("div"),f=(0,e.text)("NAME: "),_=(0,e.text)(R),g=(0,e.space)(),v=(0,e.element)("div"),$=(0,e.text)("PREFERRED GENRES:\n      ");for(let e=0;e<N.length;e+=1)N[e].c();h=(0,e.space)(),x=(0,e.element)("div"),E=(0,e.text)("CONFIDENCE:\n      "),q=(0,e.element)("div"),(0,e.create_component)(y.$$.fragment),(0,e.src_url_equal)(l.src,p=t.default[n[0].name])||(0,e.attr)(l,"src",p),(0,e.attr)(l,"alt",c=n[0].name),(0,e.attr)(l,"class","svelte-16e8290"),(0,e.attr)(i,"class","image-and-signature"),(0,e.attr)(q,"class","confidence svelte-16e8290"),(0,e.attr)(u,"class","stats svelte-16e8290"),(0,e.attr)(a,"class","wrapper svelte-16e8290")},m(t,n){(0,e.insert)(t,a,n),(0,e.append)(a,i),(0,e.append)(i,l),(0,e.append)(a,d),(0,e.append)(a,u),(0,e.append)(u,m),(0,e.append)(m,f),(0,e.append)(m,_),(0,e.append)(u,g),(0,e.append)(u,v),(0,e.append)(v,$);for(let e=0;e<N.length;e+=1)N[e].m(v,null);(0,e.append)(u,h),(0,e.append)(u,x),(0,e.append)(x,E),(0,e.append)(x,q),(0,e.mount_component)(y,q,null),C=!0},p(n,[r]){if((!C||1&r&&!(0,e.src_url_equal)(l.src,p=t.default[n[0].name]))&&(0,e.attr)(l,"src",p),(!C||1&r&&c!==(c=n[0].name))&&(0,e.attr)(l,"alt",c),(!C||1&r)&&R!==(R=n[0].name.toUpperCase()+"")&&(0,e.set_data)(_,R),1&r){let t;for(w=n[0].genres,t=0;t<w.length;t+=1){const a=s(n,w,t);N[t]?(N[t].p(a,r),(0,e.transition_in)(N[t],1)):(N[t]=o(a),N[t].c(),(0,e.transition_in)(N[t],1),N[t].m(v,null))}for((0,e.group_outros)(),t=w.length;t<N.length;t+=1)D(t);(0,e.check_outros)()}const a={};1&r&&(a.dir=n[0]),y.$set(a)},i(t){if(!C){for(let t=0;t<w.length;t+=1)(0,e.transition_in)(N[t]);(0,e.transition_in)(y.$$.fragment,t),C=!0}},o(t){N=N.filter(Boolean);for(let n=0;n<N.length;n+=1)(0,e.transition_out)(N[n]);(0,e.transition_out)(y.$$.fragment,t),C=!1},d(t){t&&(0,e.detach)(a),(0,e.destroy_each)(N,t),(0,e.destroy_component)(y)}}}function l(e,t,n){let{dir:r}=t;return e.$$set=(e=>{"dir"in e&&n(0,r=e.dir)}),[r]}class p extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,l,i,e.safe_not_equal,{dir:0})}}var c=p;exports.default=c;
},{"svelte/internal":"YkLP","../../assets/directors/signature/*.png":"CcZC","../script-stats/Genre.svelte":"DCT3","./DirectorReliability.svelte":"g02U"}],"l4yZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),r=require("../../../../server/src/rooms/schema/DirectorOffer"),n=require("../../colors"),a=s(require("../../assets/teams/*.png"));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r){const n=e.slice();return n[3]=t[r],n}function c(t){let r;return{c(){r=(0,e.text)("OFFERS")},m(t,n){(0,e.insert)(t,r,n)},d(t){t&&(0,e.detach)(r)}}}function p(t){let r;return{c(){r=(0,e.text)("NO OFFERS YET")},m(t,n){(0,e.insert)(t,r,n)},d(t){t&&(0,e.detach)(r)}}}function d(t){let r;return{c(){r=(0,e.text)("ACCEPTED")},m(t,n){(0,e.insert)(t,r,n)},d(t){t&&(0,e.detach)(r)}}}function o(t){let r,s,l,c,p,o,m,i,u,f,h,v,y,_,g=t[3].team.toUpperCase()+"",x=t[3].amt+"",q=t[3].accepted&&d(t);return{c(){r=(0,e.element)("div"),s=(0,e.element)("span"),l=(0,e.element)("img"),o=(0,e.text)(g),m=(0,e.space)(),(i=(0,e.element)("div")).innerHTML='<span class="between svelte-y6m2mr"></span>',u=(0,e.space)(),f=(0,e.element)("span"),q&&q.c(),h=(0,e.text)("\n        $"),v=(0,e.text)(x),y=(0,e.text)("M"),_=(0,e.space)(),(0,e.src_url_equal)(l.src,c=a.default[(0,n.iconName)(t[3].team)])||(0,e.attr)(l,"src",c),(0,e.attr)(l,"alt",p=t[1].color),(0,e.attr)(l,"width","15"),(0,e.attr)(l,"class","svelte-y6m2mr"),(0,e.attr)(s,"class","team svelte-y6m2mr"),(0,e.attr)(i,"class","spacing svelte-y6m2mr"),(0,e.attr)(f,"class","amt svelte-y6m2mr"),(0,e.attr)(r,"class","item svelte-y6m2mr")},m(t,n){(0,e.insert)(t,r,n),(0,e.append)(r,s),(0,e.append)(s,l),(0,e.append)(s,o),(0,e.append)(r,m),(0,e.append)(r,i),(0,e.append)(r,u),(0,e.append)(r,f),q&&q.m(f,null),(0,e.append)(f,h),(0,e.append)(f,v),(0,e.append)(f,y),(0,e.append)(r,_)},p(t,r){1&r&&!(0,e.src_url_equal)(l.src,c=a.default[(0,n.iconName)(t[3].team)])&&(0,e.attr)(l,"src",c),2&r&&p!==(p=t[1].color)&&(0,e.attr)(l,"alt",p),1&r&&g!==(g=t[3].team.toUpperCase()+"")&&(0,e.set_data)(o,g),t[3].accepted?q||((q=d(t)).c(),q.m(f,h)):q&&(q.d(1),q=null),1&r&&x!==(x=t[3].amt+"")&&(0,e.set_data)(v,x)},d(t){t&&(0,e.detach)(r),q&&q.d()}}}function m(t){let r,n,a,s;function d(e,t){return 0===e[0].length?p:c}let m=d(t),i=m(t),u=t[0],f=[];for(let e=0;e<u.length;e+=1)f[e]=o(l(t,u,e));return{c(){r=(0,e.element)("div"),n=(0,e.element)("br"),a=(0,e.space)(),i.c(),s=(0,e.space)();for(let e=0;e<f.length;e+=1)f[e].c();(0,e.attr)(r,"class","log svelte-y6m2mr")},m(t,l){(0,e.insert)(t,r,l),(0,e.append)(r,n),(0,e.append)(r,a),i.m(r,null),(0,e.append)(r,s);for(let e=0;e<f.length;e+=1)f[e].m(r,null)},p(e,[t]){if(m!==(m=d(e))&&(i.d(1),(i=m(e))&&(i.c(),i.m(r,s))),3&t){let n;for(u=e[0],n=0;n<u.length;n+=1){const a=l(e,u,n);f[n]?f[n].p(a,t):(f[n]=o(a),f[n].c(),f[n].m(r,null))}for(;n<f.length;n+=1)f[n].d(1);f.length=u.length}},i:e.noop,o:e.noop,d(t){t&&(0,e.detach)(r),i.d(),(0,e.destroy_each)(f,t)}}}function i(n,a,s){let l;(0,e.component_subscribe)(n,t.team,e=>s(1,l=e));let c,{dir:p}=a;return n.$$set=(e=>{"dir"in e&&s(2,p=e.dir)}),n.$$.update=(()=>{5&n.$$.dirty&&(s(0,c=Array.from(p.offers||[]).filter(e=>e.type===r.OfferType.DirectorOffer||e.type===r.OfferType.TeamAccept)),s(0,c=c.slice(c.length-6)))}),[c,l,p]}class u extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,i,m,e.safe_not_equal,{dir:2})}}var f=u;exports.default=f;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/DirectorOffer":"o4jR","../../colors":"Td8d","../../assets/teams/*.png":"mt6y"}],"wTgc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=c(require("./Chat.svelte")),r=c(require("./Item.svelte")),o=c(require("../script-stats/Genre.svelte")),s=c(require("./DirectorDetail.svelte")),i=c(require("./DirectorOfferLog.svelte")),l=require("../../../../server/src/rooms/schema/DirectorOffer"),a=require("../../colors");function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){const r=e.slice();return r[9]=t[n],r}function f(e,t,n){const r=e.slice();return r[12]=t[n],r}function p(t){let n,r,s;return n=new o.default({props:{genre:t[12],showText:!1,invert:t[0]==t[9].name,glow:!t[9].team&&t[4][t[12]],color:(0,a.getPlayerColor)(t[3].color)}}),{c(){(0,e.create_component)(n.$$.fragment),r=(0,e.space)()},m(t,o){(0,e.mount_component)(n,t,o),(0,e.insert)(t,r,o),s=!0},p(e,t){const r={};4&t&&(r.genre=e[12]),5&t&&(r.invert=e[0]==e[9].name),20&t&&(r.glow=!e[9].team&&e[4][e[12]]),8&t&&(r.color=(0,a.getPlayerColor)(e[3].color)),n.$set(r)},i(t){s||((0,e.transition_in)(n.$$.fragment,t),s=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),s=!1},d(t){(0,e.destroy_component)(n,t),t&&(0,e.detach)(r)}}}function m(t){let n,r,o=t[9].genres,s=[];for(let e=0;e<o.length;e+=1)s[e]=p(f(t,o,e));const i=t=>(0,e.transition_out)(s[t],1,1,()=>{s[t]=null});return{c(){for(let e=0;e<s.length;e+=1)s[e].c();n=(0,e.empty)()},m(t,o){for(let e=0;e<s.length;e+=1)s[e].m(t,o);(0,e.insert)(t,n,o),r=!0},p(t,r){if(29&r){let l;for(o=t[9].genres,l=0;l<o.length;l+=1){const i=f(t,o,l);s[l]?(s[l].p(i,r),(0,e.transition_in)(s[l],1)):(s[l]=p(i),s[l].c(),(0,e.transition_in)(s[l],1),s[l].m(n.parentNode,n))}for((0,e.group_outros)(),l=o.length;l<s.length;l+=1)i(l);(0,e.check_outros)()}},i(t){if(!r){for(let t=0;t<o.length;t+=1)(0,e.transition_in)(s[t]);r=!0}},o(t){s=s.filter(Boolean);for(let n=0;n<s.length;n+=1)(0,e.transition_out)(s[n]);r=!1},d(t){(0,e.destroy_each)(s,t),t&&(0,e.detach)(n)}}}function d(t,n){let o,s,i;return(s=new r.default({props:{talent:n[9],selected:n[0]===n[9].name,pulse:!!n[9].offers.find(n[6]),latestOffer:n[9].offers.filter(n[7]).pop(),$$slots:{default:[m]},$$scope:{ctx:n}}})).$on("click",function(){return n[8](n[9])}),{key:t,first:null,c(){o=(0,e.empty)(),(0,e.create_component)(s.$$.fragment),this.first=o},m(t,n){(0,e.insert)(t,o,n),(0,e.mount_component)(s,t,n),i=!0},p(e,t){n=e;const r={};4&t&&(r.talent=n[9]),5&t&&(r.selected=n[0]===n[9].name),12&t&&(r.pulse=!!n[9].offers.find(n[6])),12&t&&(r.latestOffer=n[9].offers.filter(n[7]).pop()),32797&t&&(r.$$scope={dirty:t,ctx:n}),s.$set(r)},i(t){i||((0,e.transition_in)(s.$$.fragment,t),i=!0)},o(t){(0,e.transition_out)(s.$$.fragment,t),i=!1},d(t){t&&(0,e.detach)(o),(0,e.destroy_component)(s,t)}}}function _(t){let r,o,l,a,c,u,f,p,m;return l=new s.default({props:{dir:t[1]}}),u=new i.default({props:{dir:t[1]}}),p=new n.default({props:{dir:t[0],team:t[3].color}}),{c(){r=(0,e.element)("div"),o=(0,e.element)("div"),(0,e.create_component)(l.$$.fragment),a=(0,e.space)(),c=(0,e.element)("div"),(0,e.create_component)(u.$$.fragment),f=(0,e.space)(),(0,e.create_component)(p.$$.fragment),(0,e.attr)(o,"class","stats svelte-syzgcj"),(0,e.attr)(c,"class","log svelte-syzgcj"),(0,e.attr)(r,"class","stats-and-log svelte-syzgcj")},m(t,n){(0,e.insert)(t,r,n),(0,e.append)(r,o),(0,e.mount_component)(l,o,null),(0,e.append)(r,a),(0,e.append)(r,c),(0,e.mount_component)(u,c,null),(0,e.insert)(t,f,n),(0,e.mount_component)(p,t,n),m=!0},p(e,t){const n={};2&t&&(n.dir=e[1]),l.$set(n);const r={};2&t&&(r.dir=e[1]),u.$set(r);const o={};1&t&&(o.dir=e[0]),8&t&&(o.team=e[3].color),p.$set(o)},i(t){m||((0,e.transition_in)(l.$$.fragment,t),(0,e.transition_in)(u.$$.fragment,t),(0,e.transition_in)(p.$$.fragment,t),m=!0)},o(t){(0,e.transition_out)(l.$$.fragment,t),(0,e.transition_out)(u.$$.fragment,t),(0,e.transition_out)(p.$$.fragment,t),m=!1},d(t){t&&(0,e.detach)(r),(0,e.destroy_component)(l),(0,e.destroy_component)(u),t&&(0,e.detach)(f),(0,e.destroy_component)(p,t)}}}function g(t){let n,r,o,s,i,l=[],a=new Map,c=Array.from(t[2].directors.values());const f=e=>e[9].name;for(let e=0;e<c.length;e+=1){let n=u(t,c,e),r=f(n);a.set(r,l[e]=d(r,n))}let p=t[1]&&_(t);return{c(){n=(0,e.element)("div"),r=(0,e.element)("div");for(let e=0;e<l.length;e+=1)l[e].c();o=(0,e.space)(),s=(0,e.element)("div"),p&&p.c(),(0,e.attr)(r,"class","list svelte-syzgcj"),(0,e.attr)(s,"class","detail svelte-syzgcj"),(0,e.attr)(n,"class","wrapper svelte-syzgcj")},m(t,a){(0,e.insert)(t,n,a),(0,e.append)(n,r);for(let e=0;e<l.length;e+=1)l[e].m(r,null);(0,e.append)(n,o),(0,e.append)(n,s),p&&p.m(s,null),i=!0},p(t,[n]){29&n&&(c=Array.from(t[2].directors.values()),(0,e.group_outros)(),l=(0,e.update_keyed_each)(l,n,f,1,t,c,a,r,e.outro_and_destroy_block,d,null,u),(0,e.check_outros)()),t[1]?p?(p.p(t,n),2&n&&(0,e.transition_in)(p,1)):((p=_(t)).c(),(0,e.transition_in)(p,1),p.m(s,null)):p&&((0,e.group_outros)(),(0,e.transition_out)(p,1,1,()=>{p=null}),(0,e.check_outros)())},i(t){if(!i){for(let t=0;t<c.length;t+=1)(0,e.transition_in)(l[t]);(0,e.transition_in)(p),i=!0}},o(t){for(let n=0;n<l.length;n+=1)(0,e.transition_out)(l[n]);(0,e.transition_out)(p),i=!1},d(t){t&&(0,e.detach)(n);for(let e=0;e<l.length;e+=1)l[e].d();p&&p.d()}}}function $(n,r,o){let s,i,a,c,u;(0,e.component_subscribe)(n,t.directors,e=>o(5,i=e)),(0,e.component_subscribe)(n,t.gamestate,e=>o(2,a=e)),(0,e.component_subscribe)(n,t.team,e=>o(3,c=e)),(0,e.component_subscribe)(n,t.genres,e=>o(4,u=e));let f=Array.from(a.directors.values())[0].name;return n.$$.update=(()=>{33&n.$$.dirty&&o(1,s=i.get(f))}),[f,s,a,c,u,i,e=>e.type===l.OfferType.Counter&&e.team===c.color,e=>e.team===c.color,e=>o(0,f=e.name)]}class h extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,$,g,e.safe_not_equal,{})}}var v=h;exports.default=v;
},{"svelte/internal":"YkLP","../..":"QCba","./Chat.svelte":"j8HY","./Item.svelte":"uoY8","../script-stats/Genre.svelte":"DCT3","./DirectorDetail.svelte":"MYK6","./DirectorOfferLog.svelte":"l4yZ","../../../../server/src/rooms/schema/DirectorOffer":"o4jR","../../colors":"Td8d"}],"AfmO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../.."),n=require("../../../../server/src/shared/TalentType"),r=require("../../colors"),o=l(require("./CastTab.svelte")),a=l(require("./CrewTab.svelte")),s=l(require("./DirectorTab.svelte"));function l(e){return e&&e.__esModule?e:{default:e}}function i(t){let n,r;return n=new s.default({}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,o){(0,e.mount_component)(n,t,o),r=!0},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function p(t){let n,r;return n=new o.default({}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,o){(0,e.mount_component)(n,t,o),r=!0},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function c(t){let n,r;return n=new a.default({}),{c(){(0,e.create_component)(n.$$.fragment)},m(t,o){(0,e.mount_component)(n,t,o),r=!0},i(t){r||((0,e.transition_in)(n.$$.fragment,t),r=!0)},o(t){(0,e.transition_out)(n.$$.fragment,t),r=!1},d(t){(0,e.destroy_component)(n,t)}}}function u(t){let o,a,s,l,u,d,_,m,y,T,x,v,$,f,b,C,g,h,w,q,k,D,P=t[0]===n.TalentType.Director&&i(t),O=t[0]===n.TalentType.Cast&&p(t),R=t[0]===n.TalentType.Crew&&c(t);return{c(){o=(0,e.element)("div"),a=(0,e.element)("button"),s=(0,e.text)("DIRECTORS"),d=(0,e.space)(),_=(0,e.element)("button"),m=(0,e.text)("CASTS"),x=(0,e.space)(),v=(0,e.element)("button"),$=(0,e.text)("CREWS"),C=(0,e.space)(),P&&P.c(),g=(0,e.space)(),O&&O.c(),h=(0,e.space)(),R&&R.c(),w=(0,e.empty)(),(0,e.attr)(a,"class",l=(0,e.null_to_empty)(t[0]===n.TalentType.Director&&"selected")+" svelte-vrlvd6"),(0,e.attr)(a,"style",u=t[1]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""),(0,e.attr)(_,"class",y=(0,e.null_to_empty)(t[0]===n.TalentType.Cast&&"selected")+" svelte-vrlvd6"),(0,e.attr)(_,"style",T=t[2]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""),(0,e.attr)(v,"class",f=(0,e.null_to_empty)(t[0]===n.TalentType.Crew&&"selected")+" svelte-vrlvd6"),(0,e.attr)(v,"style",b=t[4]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""),(0,e.attr)(o,"class","tabs svelte-vrlvd6")},m(n,r){(0,e.insert)(n,o,r),(0,e.append)(o,a),(0,e.append)(a,s),(0,e.append)(o,d),(0,e.append)(o,_),(0,e.append)(_,m),(0,e.append)(o,x),(0,e.append)(o,v),(0,e.append)(v,$),(0,e.insert)(n,C,r),P&&P.m(n,r),(0,e.insert)(n,g,r),O&&O.m(n,r),(0,e.insert)(n,h,r),R&&R.m(n,r),(0,e.insert)(n,w,r),q=!0,k||(D=[(0,e.listen)(a,"click",t[7]),(0,e.listen)(_,"click",t[8]),(0,e.listen)(v,"click",t[9])],k=!0)},p(t,[o]){(!q||1&o&&l!==(l=(0,e.null_to_empty)(t[0]===n.TalentType.Director&&"selected")+" svelte-vrlvd6"))&&(0,e.attr)(a,"class",l),(!q||10&o&&u!==(u=t[1]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""))&&(0,e.attr)(a,"style",u),(!q||1&o&&y!==(y=(0,e.null_to_empty)(t[0]===n.TalentType.Cast&&"selected")+" svelte-vrlvd6"))&&(0,e.attr)(_,"class",y),(!q||12&o&&T!==(T=t[2]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""))&&(0,e.attr)(_,"style",T),(!q||1&o&&f!==(f=(0,e.null_to_empty)(t[0]===n.TalentType.Crew&&"selected")+" svelte-vrlvd6"))&&(0,e.attr)(v,"class",f),(!q||24&o&&b!==(b=t[4]?`\n    box-shadow: 0px 0px 5px 4px ${(0,r.getPlayerColor)(t[3].color)};\n    `:""))&&(0,e.attr)(v,"style",b),t[0]===n.TalentType.Director?P?1&o&&(0,e.transition_in)(P,1):((P=i(t)).c(),(0,e.transition_in)(P,1),P.m(g.parentNode,g)):P&&((0,e.group_outros)(),(0,e.transition_out)(P,1,1,()=>{P=null}),(0,e.check_outros)()),t[0]===n.TalentType.Cast?O?1&o&&(0,e.transition_in)(O,1):((O=p(t)).c(),(0,e.transition_in)(O,1),O.m(h.parentNode,h)):O&&((0,e.group_outros)(),(0,e.transition_out)(O,1,1,()=>{O=null}),(0,e.check_outros)()),t[0]===n.TalentType.Crew?R?1&o&&(0,e.transition_in)(R,1):((R=c(t)).c(),(0,e.transition_in)(R,1),R.m(w.parentNode,w)):R&&((0,e.group_outros)(),(0,e.transition_out)(R,1,1,()=>{R=null}),(0,e.check_outros)())},i(t){q||((0,e.transition_in)(P),(0,e.transition_in)(O),(0,e.transition_in)(R),q=!0)},o(t){(0,e.transition_out)(P),(0,e.transition_out)(O),(0,e.transition_out)(R),q=!1},d(t){t&&(0,e.detach)(o),t&&(0,e.detach)(C),P&&P.d(t),t&&(0,e.detach)(g),O&&O.d(t),t&&(0,e.detach)(h),R&&R.d(t),t&&(0,e.detach)(w),k=!1,(0,e.run_all)(D)}}}function d(o,a,s){let l,i,p,c;(0,e.component_subscribe)(o,t.castRequests,e=>s(5,l=e)),(0,e.component_subscribe)(o,t.counterOffers,e=>s(6,i=e)),(0,e.component_subscribe)(o,t.team,e=>s(3,p=e)),(0,e.component_subscribe)(o,t.hasCrewRequest,e=>s(4,c=e)),r.getPlayerColor;let u,d,_=n.TalentType.Director;return o.$$.update=(()=>{64&o.$$.dirty&&s(1,u=!!Object.keys(i).length),32&o.$$.dirty&&s(2,d=!!Object.keys(l).length)}),[_,u,d,p,c,l,i,()=>s(0,_=n.TalentType.Director),()=>s(0,_=n.TalentType.Cast),()=>s(0,_=n.TalentType.Crew)]}class _ extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,d,u,e.safe_not_equal,{})}}var m=_;exports.default=m;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/shared/TalentType":"BVGI","../../colors":"Td8d","./CastTab.svelte":"GY3q","./CrewTab.svelte":"JdMV","./DirectorTab.svelte":"wTgc"}],"BiWn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=l(require("../phase-status/PhaseStatus.svelte")),r=l(require("../misc/TotalScore.svelte")),o=l(require("../talent/TalentTabs.svelte")),s=l(require("../assembly/ScriptDetail.svelte"));function l(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){const r=t.slice();return r[2]=e[n],r}function i(t,e,n){const r=t.slice();return r[2]=e[n],r}function c(e){let n,r,o;return r=new s.default({props:{script:e[2]}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),(0,t.attr)(n,"class","script svelte-kb658v")},m(e,s){(0,t.insert)(e,n,s),(0,t.mount_component)(r,n,null),o=!0},p(t,e){const n={};1&e&&(n.script=t[2]),r.$set(n)},i(e){o||((0,t.transition_in)(r.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(r.$$.fragment,e),o=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(r)}}}function p(e){let n;return{c(){(n=(0,t.element)("div")).textContent="SILENT PARTNER:",(0,t.attr)(n,"class","script svelte-kb658v")},m(e,r){(0,t.insert)(e,n,r)},d(e){e&&(0,t.detach)(n)}}}function u(e){let n,r,o,l;return r=new s.default({props:{script:e[2]}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),o=(0,t.space)(),(0,t.attr)(n,"class","script svelte-kb658v")},m(e,s){(0,t.insert)(e,n,s),(0,t.mount_component)(r,n,null),(0,t.append)(n,o),l=!0},p(t,e){const n={};2&e&&(n.script=t[2]),r.$set(n)},i(e){l||((0,t.transition_in)(r.$$.fragment,e),l=!0)},o(e){(0,t.transition_out)(r.$$.fragment,e),l=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(r)}}}function m(e){let s,l,m,v,g,h,$,b,k,y,T,w,q,S,x;s=new n.default({}),g=new r.default({}),k=new o.default({});let P=e[0].filter(f).sort(d),O=[];for(let t=0;t<P.length;t+=1)O[t]=c(i(e,P,t));const B=e=>(0,t.transition_out)(O[e],1,1,()=>{O[e]=null});let C=e[1].length>0&&p(e),E=e[1].filter(_),M=[];for(let t=0;t<E.length;t+=1)M[t]=u(a(e,E,t));const N=e=>(0,t.transition_out)(M[e],1,1,()=>{M[e]=null});return{c(){(0,t.create_component)(s.$$.fragment),l=(0,t.space)(),m=(0,t.element)("div"),v=(0,t.element)("div"),(0,t.create_component)(g.$$.fragment),h=(0,t.space)(),$=(0,t.element)("div"),b=(0,t.element)("div"),(0,t.create_component)(k.$$.fragment),y=(0,t.space)(),T=(0,t.element)("div"),w=(0,t.element)("div");for(let t=0;t<O.length;t+=1)O[t].c();q=(0,t.space)(),C&&C.c(),S=(0,t.space)();for(let t=0;t<M.length;t+=1)M[t].c();(0,t.attr)(v,"class","revenue svelte-kb658v"),(0,t.attr)(m,"class","revenue-wrapper"),(0,t.attr)(b,"class","talent svelte-kb658v"),(0,t.attr)(w,"class","scripts svelte-kb658v"),(0,t.attr)(T,"class","scripts-wrapper svelte-kb658v"),(0,t.attr)($,"class","wrapper svelte-kb658v")},m(e,n){(0,t.mount_component)(s,e,n),(0,t.insert)(e,l,n),(0,t.insert)(e,m,n),(0,t.append)(m,v),(0,t.mount_component)(g,v,null),(0,t.insert)(e,h,n),(0,t.insert)(e,$,n),(0,t.append)($,b),(0,t.mount_component)(k,b,null),(0,t.append)($,y),(0,t.append)($,T),(0,t.append)(T,w);for(let t=0;t<O.length;t+=1)O[t].m(w,null);(0,t.append)(w,q),C&&C.m(w,null),(0,t.append)(w,S);for(let t=0;t<M.length;t+=1)M[t].m(w,null);x=!0},p(e,[n]){if(1&n){let r;for(P=e[0].filter(f).sort(d),r=0;r<P.length;r+=1){const o=i(e,P,r);O[r]?(O[r].p(o,n),(0,t.transition_in)(O[r],1)):(O[r]=c(o),O[r].c(),(0,t.transition_in)(O[r],1),O[r].m(w,q))}for((0,t.group_outros)(),r=P.length;r<O.length;r+=1)B(r);(0,t.check_outros)()}if(e[1].length>0?C||((C=p(e)).c(),C.m(w,S)):C&&(C.d(1),C=null),2&n){let r;for(E=e[1].filter(_),r=0;r<E.length;r+=1){const o=a(e,E,r);M[r]?(M[r].p(o,n),(0,t.transition_in)(M[r],1)):(M[r]=u(o),M[r].c(),(0,t.transition_in)(M[r],1),M[r].m(w,null))}for((0,t.group_outros)(),r=E.length;r<M.length;r+=1)N(r);(0,t.check_outros)()}},i(e){if(!x){(0,t.transition_in)(s.$$.fragment,e),(0,t.transition_in)(g.$$.fragment,e),(0,t.transition_in)(k.$$.fragment,e);for(let e=0;e<P.length;e+=1)(0,t.transition_in)(O[e]);for(let e=0;e<E.length;e+=1)(0,t.transition_in)(M[e]);x=!0}},o(e){(0,t.transition_out)(s.$$.fragment,e),(0,t.transition_out)(g.$$.fragment,e),(0,t.transition_out)(k.$$.fragment,e),O=O.filter(Boolean);for(let n=0;n<O.length;n+=1)(0,t.transition_out)(O[n]);M=M.filter(Boolean);for(let n=0;n<M.length;n+=1)(0,t.transition_out)(M[n]);x=!1},d(e){(0,t.destroy_component)(s,e),e&&(0,t.detach)(l),e&&(0,t.detach)(m),(0,t.destroy_component)(g),e&&(0,t.detach)(h),e&&(0,t.detach)($),(0,t.destroy_component)(k),(0,t.destroy_each)(O,e),C&&C.d(),(0,t.destroy_each)(M,e)}}}const f=t=>!t.outOfTheater,d=(t,e)=>e.partnerTeam?(t.partnerTeam,-1):1,_=t=>!t.outOfTheater;function v(n,r,o){let s,l;return(0,t.component_subscribe)(n,e.teamScripts,t=>o(0,s=t)),(0,t.component_subscribe)(n,e.silentPartnerScripts,t=>o(1,l=t)),[s,l]}class g extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,v,m,t.safe_not_equal,{})}}var h=g;exports.default=h;
},{"svelte/internal":"YkLP","../..":"QCba","../phase-status/PhaseStatus.svelte":"p9ZA","../misc/TotalScore.svelte":"fd11","../talent/TalentTabs.svelte":"AfmO","../assembly/ScriptDetail.svelte":"q6hA"}],"pzcK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.wait=void 0;var e=function(e){return new Promise(function(t){setTimeout(t,e)})};exports.wait=e;
},{}],"Ajqk":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,r,t,n){return new(t||(t=Promise))(function(o,a){function i(e){try{s(n.next(e))}catch(r){a(r)}}function u(e){try{s(n.throw(e))}catch(r){a(r)}}function s(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(i,u)}s((n=n.apply(e,r||[])).next())})},r=this&&this.__generator||function(e,r){var t,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=r.call(e,i)}catch(u){a=[6,u],n=0}finally{t=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.retry=void 0;var t=require("./wait"),n=function(n,o,a){return e(void 0,void 0,Promise,function(){var e,i;return r(this,function(r){switch(r.label){case 0:n--,r.label=1;case 1:return r.trys.push([1,3,,8]),[4,a()];case 2:return[2,r.sent()];case 3:if(e=r.sent(),0==n)return[2,Promise.reject(e)];r.label=4;case 4:return r.trys.push([4,6,,7]),[4,(0,t.wait)(o)];case 5:return r.sent(),[3,7];case 6:return i=r.sent(),console.error("wait error",i),[3,7];case 7:return[2,(0,exports.retry)(n,o,a)];case 8:return[2]}})})};exports.retry=n;
},{"./wait":"pzcK"}],"jS5D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fadeAndFly=void 0;var t=require("svelte/easing"),e=function(e,o){var n=o.delay,a=void 0===n?0:n,r=o.duration,i=void 0===r?400:r,c=o.easing,d=void 0===c?t.cubicOut:c,s=o.x,u=void 0===s?0:s,v=o.y,p=void 0===v?0:v,y=o.opacity,l=void 0===y?0:y,f=getComputedStyle(e),x=+f.opacity,g=x*(1-l),m="none"===f.transform?"":f.transform;return{delay:a,duration:i,easing:d,css:function(t,e){return"\n    opacity: ".concat(x-g*e,";\n    transform: ").concat(m," translate(").concat((1-t)*u,"px, ").concat((1-t)*p,"px);\n      ")}}};exports.fadeAndFly=e;
},{"svelte/easing":"FEIa"}],"bfFa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pop=void 0;var t=require("svelte/easing"),e=function(e,n){var o=n.duration,r=void 0===o?400:o,a=n.delay,s=void 0===a?0:a,i=getComputedStyle(e),c="none"===i.transform?"":i.transform;return{delay:s,duration:r,easing:t.quintOut,css:function(t){return"\n\t\t\t\t\ttransform: ".concat(c," scale(").concat(t,");\n\t\t\t\t\topacity: ").concat(t,";\n\t\t\t\t")}}};exports.pop=e;
},{"svelte/easing":"FEIa"}],"zBaE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.derived=o,Object.defineProperty(exports,"get",{enumerable:!0,get:function(){return e.get_store_value}}),exports.readable=n,exports.writable=r;var e=require("../internal/index.mjs");const t=[];function n(e,t){return{subscribe:r(e,t).subscribe}}function r(n,r=e.noop){let o;const s=new Set;function u(r){if((0,e.safe_not_equal)(n,r)&&(n=r,o)){const e=!t.length;for(const r of s)r[1](),t.push(r,n);if(e){for(let e=0;e<t.length;e+=2)t[e][0](t[e+1]);t.length=0}}}return{set:u,update:function(e){u(e(n))},subscribe:function(t,i=e.noop){const c=[t,i];return s.add(c),1===s.size&&(o=r(u)||e.noop),t(n),()=>{s.delete(c),0===s.size&&(o(),o=null)}}}}function o(t,r,o){const s=!Array.isArray(t),u=s?[t]:t,i=r.length<2;return n(o,t=>{let n=!1;const o=[];let c=0,l=e.noop;const f=()=>{if(c)return;l();const n=r(s?o[0]:o,t);i?t(n):l=(0,e.is_function)(n)?n:e.noop},a=u.map((t,r)=>(0,e.subscribe)(t,e=>{o[r]=e,c&=~(1<<r),n&&f()},()=>{c|=1<<r}));return n=!0,f(),function(){(0,e.run_all)(a),l()}})}
},{"../internal/index.mjs":"YkLP"}],"hjyi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spring=o,exports.tweened=a;var e=require("../store/index.mjs"),t=require("../internal/index.mjs"),r=require("../easing/index.mjs");function n(e){return"[object Date]"===Object.prototype.toString.call(e)}function s(e,t,r,o){if("number"==typeof r||n(r)){const s=o-r,i=(r-t)/(e.dt||1/60),a=(i+(e.opts.stiffness*s-e.opts.damping*i)*e.inv_mass)*e.dt;return Math.abs(a)<e.opts.precision&&Math.abs(s)<e.opts.precision?o:(e.settled=!1,n(r)?new Date(r.getTime()+a):r+a)}if(Array.isArray(r))return r.map((n,i)=>s(e,t[i],r[i],o[i]));if("object"==typeof r){const n={};for(const i in r)n[i]=s(e,t[i],r[i],o[i]);return n}throw new Error(`Cannot spring ${typeof r} values`)}function o(r,n={}){const o=(0,e.writable)(r),{stiffness:i=.15,damping:a=.8,precision:u=.01}=n;let f,c,l,p=r,b=r,m=1,d=0,y=!1;function w(e,n={}){b=e;const i=l={};if(null==r||n.hard||g.stiffness>=1&&g.damping>=1)return y=!0,f=(0,t.now)(),p=e,o.set(r=b),Promise.resolve();if(n.soft){const e=!0===n.soft?.5:+n.soft;d=1/(60*e),m=0}return c||(f=(0,t.now)(),y=!1,c=(0,t.loop)(e=>{if(y)return y=!1,c=null,!1;const t={inv_mass:m=Math.min(m+d,1),opts:g,settled:!0,dt:60*(e-f)/1e3},n=s(t,p,r,b);return f=e,p=r,o.set(r=n),t.settled&&(c=null),!t.settled})),new Promise(e=>{c.promise.then(()=>{i===l&&e()})})}const g={set:w,update:(e,t)=>w(e(b,r),t),subscribe:o.subscribe,stiffness:i,damping:a,precision:u};return g}function i(e,t){if(e===t||e!=e)return()=>e;const r=typeof e;if(r!==typeof t||Array.isArray(e)!==Array.isArray(t))throw new Error("Cannot interpolate values of different type");if(Array.isArray(e)){const r=t.map((t,r)=>i(e[r],t));return e=>r.map(t=>t(e))}if("object"===r){if(!e||!t)throw new Error("Object cannot be null");if(n(e)&&n(t)){e=e.getTime();const r=(t=t.getTime())-e;return t=>new Date(e+t*r)}const r=Object.keys(t),s={};return r.forEach(r=>{s[r]=i(e[r],t[r])}),e=>{const t={};return r.forEach(r=>{t[r]=s[r](e)}),t}}if("number"===r){const r=t-e;return t=>e+t*r}throw new Error(`Cannot interpolate ${r} values`)}function a(n,s={}){const o=(0,e.writable)(n);let a,u=n;function f(e,f){if(null==n)return o.set(n=e),Promise.resolve();u=e;let c=a,l=!1,{delay:p=0,duration:b=400,easing:m=r.linear,interpolate:d=i}=(0,t.assign)((0,t.assign)({},s),f);if(0===b)return c&&(c.abort(),c=null),o.set(n=u),Promise.resolve();const y=(0,t.now)()+p;let w;return(a=(0,t.loop)(t=>{if(t<y)return!0;l||(w=d(n,e),"function"==typeof b&&(b=b(n,e)),l=!0),c&&(c.abort(),c=null);const r=t-y;return r>b?(o.set(n=e),!1):(o.set(n=w(m(r/b))),!0)})).promise}return{set:f,update:(e,t)=>f(e(u,n),t),subscribe:o.subscribe}}
},{"../store/index.mjs":"zBaE","../internal/index.mjs":"YkLP","../easing/index.mjs":"FEIa"}],"WQ8O":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSlide=void 0;var e=require("svelte/motion"),t=require("svelte/easing"),r=function(){return(0,e.tweened)()},i=function(r,i){return void 0===i&&(i=200),(0,e.tweened)(r,{duration:i,easing:t.cubicOut})};exports.createSlide=i;
},{"svelte/motion":"hjyi","svelte/easing":"FEIa"}],"s2T4":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),r=this&&this.__exportStar||function(r,t){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||e(t,r,i)};Object.defineProperty(exports,"__esModule",{value:!0}),r(require("./retry"),exports),r(require("./wait"),exports),r(require("./fadeAndFly"),exports),r(require("./pop"),exports),r(require("./slide"),exports);
},{"./retry":"Ajqk","./wait":"pzcK","./fadeAndFly":"jS5D","./pop":"bfFa","./slide":"WQ8O"}],"r3Z3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=require("../../../../server/src/rooms/schema/Bid"),i=require("../../colors"),r=p(require("../script-stats/Equity.svelte")),s=p(require("../script-stats/Buzz.svelte")),a=p(require("../script-stats/Genre.svelte")),o=p(require("../script-stats/Rating.svelte")),l=p(require("../script-stats/TeamAndBid.svelte")),c=require("../../utils/index");function p(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n){const i=t.slice();return i[18]=e[n],i[20]=n,i}function d(e){let n,i;return{c(){n=(0,t.element)("div"),(0,t.attr)(n,"class","timer svelte-1pd0inp"),(0,t.attr)(n,"style",i=`width: ${e[6]}%`)},m(e,i){(0,t.insert)(e,n,i)},p(e,r){64&r&&i!==(i=`width: ${e[6]}%`)&&(0,t.attr)(n,"style",i)},d(e){e&&(0,t.detach)(n)}}}function m(e){let n,i;return{c(){n=(0,t.element)("div"),(0,t.attr)(n,"class","owner svelte-1pd0inp"),(0,t.attr)(n,"style",i=`background-color: ${e[11]()}; box-shadow: 0 0 7px ${e[11](!0)};`)},m(e,i){(0,t.insert)(e,n,i)},p:t.noop,d(e){e&&(0,t.detach)(n)}}}function f(e){let n,i;return n=new l.default({props:{team:e[18].team,amt:e[18].amt,hideColor:0===e[20]&&e[5].length>2}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),i=!0},p(t,e){const i={};32&e&&(i.team=t[18].team),32&e&&(i.amt=t[18].amt),32&e&&(i.hideColor=0===t[20]&&t[5].length>2),n.$set(i)},i(e){i||((0,t.transition_in)(n.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),i=!1},d(e){(0,t.destroy_component)(n,e)}}}function _(e){let n,i,r;return{c(){n=(0,t.element)("input"),(0,t.attr)(n,"placeholder","TYPE BID"),(0,t.attr)(n,"min","0"),(0,t.attr)(n,"type","number"),(0,t.attr)(n,"class","svelte-1pd0inp")},m(s,a){(0,t.insert)(s,n,a),e[14](n),(0,t.set_input_value)(n,e[4]),i||(r=[(0,t.listen)(n,"keydown",e[15]),(0,t.listen)(n,"keyup",e[10]),(0,t.listen)(n,"input",e[16])],i=!0)},p(e,i){16&i&&(0,t.to_number)(n.value)!==e[4]&&(0,t.set_input_value)(n,e[4])},d(s){s&&(0,t.detach)(n),e[14](null),i=!1,(0,t.run_all)(r)}}}function g(e){let n,i,l,c,p,g,v,$,h,y,b,w,q,k,B,P,x,A,E,I,C,D,S,z,M,T,j,G,N,O=e[0].title+"";function R(t,e){return t[0].timer<0?m:d}let W=R(e),Y=W(e),F=e[5],H=[];for(let t=0;t<F.length;t+=1)H[t]=f(u(e,F,t));const J=e=>(0,t.transition_out)(H[e],1,1,()=>{H[e]=null});q=new a.default({props:{genre:e[7].genre}}),P=new o.default({props:{rating:e[7].rating}}),E=new s.default({props:{script:e[7]}}),D=new r.default({props:{controllingPartner:e[2]&&e[2].team,silentPartner:e[3]&&e[3].team,directorEquity:0}});let K=e[0].timer>0&&_(e);return{c(){n=(0,t.element)("div"),i=(0,t.element)("div"),Y.c(),l=(0,t.space)(),c=(0,t.element)("div"),p=(0,t.element)("div"),g=(0,t.element)("div");for(let t=0;t<H.length;t+=1)H[t].c();v=(0,t.space)(),$=(0,t.element)("div"),h=(0,t.element)("h1"),y=(0,t.text)(O),b=(0,t.space)(),w=(0,t.element)("div"),(0,t.create_component)(q.$$.fragment),k=(0,t.space)(),B=(0,t.element)("div"),(0,t.create_component)(P.$$.fragment),x=(0,t.space)(),A=(0,t.element)("div"),(0,t.create_component)(E.$$.fragment),I=(0,t.space)(),C=(0,t.element)("div"),(0,t.create_component)(D.$$.fragment),M=(0,t.space)(),K&&K.c(),T=(0,t.empty)(),(0,t.attr)(i,"class","owner-wrapper svelte-1pd0inp"),(0,t.attr)(g,"class","bids svelte-1pd0inp"),(0,t.attr)(p,"class","left svelte-1pd0inp"),(0,t.attr)(h,"class","svelte-1pd0inp"),(0,t.attr)(w,"class","detail svelte-1pd0inp"),(0,t.attr)(B,"class","detail svelte-1pd0inp"),(0,t.attr)(A,"class","detail svelte-1pd0inp"),(0,t.attr)($,"class","center svelte-1pd0inp"),(0,t.attr)(c,"class",S="script "+(e[0].timer>0?"":"over")+" svelte-1pd0inp"),(0,t.attr)(n,"class",z="wrapper "+(e[0].timer>0?"selectable":"fade")+" svelte-1pd0inp")},m(r,s){(0,t.insert)(r,n,s),(0,t.append)(n,i),Y.m(i,null),(0,t.append)(n,l),(0,t.append)(n,c),(0,t.append)(c,p),(0,t.append)(p,g);for(let t=0;t<H.length;t+=1)H[t].m(g,null);(0,t.append)(c,v),(0,t.append)(c,$),(0,t.append)($,h),(0,t.append)(h,y),(0,t.append)($,b),(0,t.append)($,w),(0,t.mount_component)(q,w,null),(0,t.append)($,k),(0,t.append)($,B),(0,t.mount_component)(P,B,null),(0,t.append)($,x),(0,t.append)($,A),(0,t.mount_component)(E,A,null),(0,t.append)($,I),(0,t.append)($,C),(0,t.mount_component)(D,C,null),(0,t.insert)(r,M,s),K&&K.m(r,s),(0,t.insert)(r,T,s),j=!0,G||(N=(0,t.listen)(n,"click",e[13]),G=!0)},p(e,[r]){if(W===(W=R(e))&&Y?Y.p(e,r):(Y.d(1),(Y=W(e))&&(Y.c(),Y.m(i,null))),32&r){let n;for(F=e[5],n=0;n<F.length;n+=1){const i=u(e,F,n);H[n]?(H[n].p(i,r),(0,t.transition_in)(H[n],1)):(H[n]=f(i),H[n].c(),(0,t.transition_in)(H[n],1),H[n].m(g,null))}for((0,t.group_outros)(),n=F.length;n<H.length;n+=1)J(n);(0,t.check_outros)()}(!j||1&r)&&O!==(O=e[0].title+"")&&(0,t.set_data)(y,O);const s={};128&r&&(s.genre=e[7].genre),q.$set(s);const a={};128&r&&(a.rating=e[7].rating),P.$set(a);const o={};128&r&&(o.script=e[7]),E.$set(o);const l={};4&r&&(l.controllingPartner=e[2]&&e[2].team),8&r&&(l.silentPartner=e[3]&&e[3].team),D.$set(l),(!j||1&r&&S!==(S="script "+(e[0].timer>0?"":"over")+" svelte-1pd0inp"))&&(0,t.attr)(c,"class",S),(!j||1&r&&z!==(z="wrapper "+(e[0].timer>0?"selectable":"fade")+" svelte-1pd0inp"))&&(0,t.attr)(n,"class",z),e[0].timer>0?K?K.p(e,r):((K=_(e)).c(),K.m(T.parentNode,T)):K&&(K.d(1),K=null)},i(e){if(!j){for(let e=0;e<F.length;e+=1)(0,t.transition_in)(H[e]);(0,t.transition_in)(q.$$.fragment,e),(0,t.transition_in)(P.$$.fragment,e),(0,t.transition_in)(E.$$.fragment,e),(0,t.transition_in)(D.$$.fragment,e),j=!0}},o(e){H=H.filter(Boolean);for(let n=0;n<H.length;n+=1)(0,t.transition_out)(H[n]);(0,t.transition_out)(q.$$.fragment,e),(0,t.transition_out)(P.$$.fragment,e),(0,t.transition_out)(E.$$.fragment,e),(0,t.transition_out)(D.$$.fragment,e),j=!1},d(e){e&&(0,t.detach)(n),Y.d(),(0,t.destroy_each)(H,e),(0,t.destroy_component)(q),(0,t.destroy_component)(P),(0,t.destroy_component)(E),(0,t.destroy_component)(D),e&&(0,t.detach)(M),K&&K.d(e),e&&(0,t.detach)(T),G=!1,N()}}}function v(r,s,a){let o,l,p,u;(0,t.component_subscribe)(r,e.gamestate,t=>a(12,o=t)),(0,t.component_subscribe)(r,e.team,t=>a(17,l=t));let{auctionItem:d}=s;const m=(0,e.script)(d.title);let f,_,g;(0,t.component_subscribe)(r,m,t=>a(7,u=t));let v,$=(0,c.createSlide)(d.timer/o.settings.scottishAuctionBidDuration*100,200);(0,t.component_subscribe)(r,$,t=>a(6,p=t));let h=[];return r.$$set=(t=>{"auctionItem"in t&&a(0,d=t.auctionItem)}),r.$$.update=(()=>{4097&r.$$.dirty&&(a(2,_=(0,n.getWinningBid)({auction:o.scottishAuction,title:d.title})),a(3,g=(0,n.getSecondPlaceBid)({auction:o.scottishAuction,title:d.title})),$.set(d.timer/o.settings.scottishAuctionBidDuration*100)),4097&r.$$.dirty&&(a(5,h=(0,n.getBids)({auction:o.scottishAuction,title:d.title})),o.scottishAuction.bids)}),[d,f,_,g,v,h,p,u,m,$,function(t){"Enter"===t.key&&(_&&v<=_.amt||_&&_.team===l.color||((0,e.emit)("scottishBid",{title:d.title,amt:v}),a(4,v=null)))},(t=!0)=>(null==_?void 0:_.team)&&d.timer<0?(0,i.getPlayerColor)(_.team,!1,t):"none",o,()=>{f&&f.focus()},function(e){t.binding_callbacks[e?"unshift":"push"](()=>{a(1,f=e)})},t=>{("."===t.key||"-"===t.key||v&&v.toString().length>=3&&"Backspace"!=t.key)&&t.preventDefault(),"Enter"===t.key&&t.stopPropagation()},function(){v=(0,t.to_number)(this.value),a(4,v)}]}class $ extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,v,g,t.safe_not_equal,{auctionItem:0})}}var h=$;exports.default=h;
},{"svelte/internal":"YkLP","../..":"QCba","../../../../server/src/rooms/schema/Bid":"MZ8i","../../colors":"Td8d","../script-stats/Equity.svelte":"pk7U","../script-stats/Buzz.svelte":"jFKW","../script-stats/Genre.svelte":"DCT3","../script-stats/Rating.svelte":"SNIV","../script-stats/TeamAndBid.svelte":"E0Ix","../../utils/index":"s2T4"}],"w7Va":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../..");function n(t){let n,o,r;return{c(){n=(0,e.element)("div"),o=(0,e.text)("BIDS REMAINING: "),r=(0,e.text)(t[0])},m(t,s){(0,e.insert)(t,n,s),(0,e.append)(n,o),(0,e.append)(n,r)},p(t,n){1&n&&(0,e.set_data)(r,t[0])},d(t){t&&(0,e.detach)(n)}}}function o(t){let o,r=t[1].color&&n(t);return{c(){r&&r.c(),o=(0,e.empty)()},m(t,n){r&&r.m(t,n),(0,e.insert)(t,o,n)},p(e,[t]){e[1].color?r?r.p(e,t):((r=n(e)).c(),r.m(o.parentNode,o)):r&&(r.d(1),r=null)},i:e.noop,o:e.noop,d(t){r&&r.d(t),t&&(0,e.detach)(o)}}}function r(n,o,r){let s,i;var d;(0,e.component_subscribe)(n,t.team,e=>r(1,s=e)),(0,e.component_subscribe)(n,t.gamestate,e=>r(3,i=e));let a=i.settings.bids;return n.$$.update=(()=>{15&n.$$.dirty&&(r(0,a=i.settings.bids-((null===r(2,d=i.teams.get(s.color))||void 0===d?void 0:d.bids)||0)),a<0&&r(0,a=0))}),[a,s,d,i]}class s extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,r,o,e.safe_not_equal,{})}}var i=s;exports.default=i;
},{"svelte/internal":"YkLP","../..":"QCba"}],"ruTA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=r(require("../auction/ScottishAuctionScript.svelte")),o=r(require("../misc/BidsRemaining.svelte")),i=r(require("../phase-status/PhaseStatus.svelte"));function r(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n){const o=t.slice();return o[1]=e[n],o}function a(e){let o,i;return o=new n.default({props:{auctionItem:e[1]}}),{c(){(0,t.create_component)(o.$$.fragment)},m(e,n){(0,t.mount_component)(o,e,n),i=!0},p(t,e){const n={};1&e&&(n.auctionItem=t[1]),o.$set(n)},i(e){i||((0,t.transition_in)(o.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),i=!1},d(e){(0,t.destroy_component)(o,e)}}}function c(e){let n,o,i,r=e[1].active&&a(e);return{c(){n=(0,t.element)("div"),r&&r.c(),o=(0,t.space)(),(0,t.attr)(n,"class","script svelte-1cwgam3")},m(e,s){(0,t.insert)(e,n,s),r&&r.m(n,null),(0,t.append)(n,o),i=!0},p(e,i){e[1].active?r?(r.p(e,i),1&i&&(0,t.transition_in)(r,1)):((r=a(e)).c(),(0,t.transition_in)(r,1),r.m(n,o)):r&&((0,t.group_outros)(),(0,t.transition_out)(r,1,1,()=>{r=null}),(0,t.check_outros)())},i(e){i||((0,t.transition_in)(r),i=!0)},o(e){(0,t.transition_out)(r),i=!1},d(e){e&&(0,t.detach)(n),r&&r.d()}}}function l(e){let n,r,a,l,u,m,p,_;r=new i.default({props:{hideTimer:!0}}),u=new o.default({});let f=e[0].scottishAuction.items,d=[];for(let t=0;t<f.length;t+=1)d[t]=c(s(e,f,t));const g=e=>(0,t.transition_out)(d[e],1,1,()=>{d[e]=null});return{c(){n=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),a=(0,t.space)(),l=(0,t.element)("div"),(0,t.create_component)(u.$$.fragment),m=(0,t.space)(),p=(0,t.element)("div");for(let t=0;t<d.length;t+=1)d[t].c();(0,t.attr)(l,"class","bids-left svelte-1cwgam3"),(0,t.attr)(n,"class","status svelte-1cwgam3"),(0,t.attr)(p,"class","scripts svelte-1cwgam3")},m(e,o){(0,t.insert)(e,n,o),(0,t.mount_component)(r,n,null),(0,t.append)(n,a),(0,t.append)(n,l),(0,t.mount_component)(u,l,null),(0,t.insert)(e,m,o),(0,t.insert)(e,p,o);for(let t=0;t<d.length;t+=1)d[t].m(p,null);_=!0},p(e,[n]){if(1&n){let o;for(f=e[0].scottishAuction.items,o=0;o<f.length;o+=1){const i=s(e,f,o);d[o]?(d[o].p(i,n),(0,t.transition_in)(d[o],1)):(d[o]=c(i),d[o].c(),(0,t.transition_in)(d[o],1),d[o].m(p,null))}for((0,t.group_outros)(),o=f.length;o<d.length;o+=1)g(o);(0,t.check_outros)()}},i(e){if(!_){(0,t.transition_in)(r.$$.fragment,e),(0,t.transition_in)(u.$$.fragment,e);for(let e=0;e<f.length;e+=1)(0,t.transition_in)(d[e]);_=!0}},o(e){(0,t.transition_out)(r.$$.fragment,e),(0,t.transition_out)(u.$$.fragment,e),d=d.filter(Boolean);for(let n=0;n<d.length;n+=1)(0,t.transition_out)(d[n]);_=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(r),(0,t.destroy_component)(u),e&&(0,t.detach)(m),e&&(0,t.detach)(p),(0,t.destroy_each)(d,e)}}}function u(n,o,i){let r;return(0,t.component_subscribe)(n,e.gamestate,t=>i(0,r=t)),[r]}class m extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,u,l,t.safe_not_equal,{})}}var p=m;exports.default=p;
},{"svelte/internal":"YkLP","../..":"QCba","../auction/ScottishAuctionScript.svelte":"r3Z3","../misc/BidsRemaining.svelte":"w7Va","../phase-status/PhaseStatus.svelte":"p9ZA"}],"MqBl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../.."),n=i(require("../flashes/Flashes.svelte"));require("../misc/Headline.svelte");var o=i(require("../misc/Poster.svelte")),r=i(require("../misc/TotalScore.svelte")),s=i(require("../phase-status/PhaseStatus.svelte"));function i(t){return t&&t.__esModule?t:{default:t}}function a(t,e,n){const o=t.slice();return o[1]=e[n],o}function c(e){let n;return{c(){(n=(0,t.element)("div")).textContent="NO FILMS RELEASED THIS SEASON",(0,t.attr)(n,"class","title svelte-wdk1ub")},m(e,o){(0,t.insert)(e,n,o)},p:t.noop,i:t.noop,o:t.noop,d(e){e&&(0,t.detach)(n)}}}function l(e){let o,r;return o=new n.default({props:{$$slots:{default:[p]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(o.$$.fragment)},m(e,n){(0,t.mount_component)(o,e,n),r=!0},p(t,e){const n={};17&e&&(n.$$scope={dirty:e,ctx:t}),o.$set(n)},i(e){r||((0,t.transition_in)(o.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(o,e)}}}function u(e){let n,r,s,i;return r=new o.default({props:{script:e[1],width:180,showGenre:!0}}),{c(){n=(0,t.element)("div"),(0,t.create_component)(r.$$.fragment),s=(0,t.space)(),(0,t.attr)(n,"class","script svelte-wdk1ub")},m(e,o){(0,t.insert)(e,n,o),(0,t.mount_component)(r,n,null),(0,t.append)(n,s),i=!0},p(t,e){const n={};1&e&&(n.script=t[1]),r.$set(n)},i(e){i||((0,t.transition_in)(r.$$.fragment,e),i=!0)},o(e){(0,t.transition_out)(r.$$.fragment,e),i=!1},d(e){e&&(0,t.detach)(n),(0,t.destroy_component)(r)}}}function p(e){let n,o,r,s,i,c,l,p=e[0][0].releaseSeason.toUpperCase()+"",d=e[0],m=[];for(let t=0;t<d.length;t+=1)m[t]=u(a(e,d,t));const f=e=>(0,t.transition_out)(m[e],1,1,()=>{m[e]=null});return{c(){n=(0,t.element)("div"),o=(0,t.text)("COMING TO A THEATER NEAR YOU THIS "),r=(0,t.text)(p),s=(0,t.text)("\n      SEASON"),i=(0,t.space)(),c=(0,t.element)("div");for(let t=0;t<m.length;t+=1)m[t].c();(0,t.attr)(n,"class","title svelte-wdk1ub"),(0,t.attr)(c,"class","wrapper svelte-wdk1ub")},m(e,a){(0,t.insert)(e,n,a),(0,t.append)(n,o),(0,t.append)(n,r),(0,t.append)(n,s),(0,t.insert)(e,i,a),(0,t.insert)(e,c,a);for(let t=0;t<m.length;t+=1)m[t].m(c,null);l=!0},p(e,n){if((!l||1&n)&&p!==(p=e[0][0].releaseSeason.toUpperCase()+"")&&(0,t.set_data)(r,p),1&n){let o;for(d=e[0],o=0;o<d.length;o+=1){const r=a(e,d,o);m[o]?(m[o].p(r,n),(0,t.transition_in)(m[o],1)):(m[o]=u(r),m[o].c(),(0,t.transition_in)(m[o],1),m[o].m(c,null))}for((0,t.group_outros)(),o=d.length;o<m.length;o+=1)f(o);(0,t.check_outros)()}},i(e){if(!l){for(let e=0;e<d.length;e+=1)(0,t.transition_in)(m[e]);l=!0}},o(e){m=m.filter(Boolean);for(let n=0;n<m.length;n+=1)(0,t.transition_out)(m[n]);l=!1},d(e){e&&(0,t.detach)(n),e&&(0,t.detach)(i),e&&(0,t.detach)(c),(0,t.destroy_each)(m,e)}}}function d(e){let n,o,i,a,u,p,d,m;n=new s.default({}),i=new r.default({});const f=[l,c],_=[];function $(t,e){return t[0].length>0?0:1}return u=$(e),p=_[u]=f[u](e),{c(){(0,t.create_component)(n.$$.fragment),o=(0,t.space)(),(0,t.create_component)(i.$$.fragment),a=(0,t.space)(),p.c(),d=(0,t.empty)()},m(e,r){(0,t.mount_component)(n,e,r),(0,t.insert)(e,o,r),(0,t.mount_component)(i,e,r),(0,t.insert)(e,a,r),_[u].m(e,r),(0,t.insert)(e,d,r),m=!0},p(e,[n]){let o=u;(u=$(e))===o?_[u].p(e,n):((0,t.group_outros)(),(0,t.transition_out)(_[o],1,1,()=>{_[o]=null}),(0,t.check_outros)(),(p=_[u])?p.p(e,n):(p=_[u]=f[u](e)).c(),(0,t.transition_in)(p,1),p.m(d.parentNode,d))},i(e){m||((0,t.transition_in)(n.$$.fragment,e),(0,t.transition_in)(i.$$.fragment,e),(0,t.transition_in)(p),m=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),(0,t.transition_out)(i.$$.fragment,e),(0,t.transition_out)(p),m=!1},d(e){(0,t.destroy_component)(n,e),e&&(0,t.detach)(o),(0,t.destroy_component)(i,e),e&&(0,t.detach)(a),_[u].d(e),e&&(0,t.detach)(d)}}}function m(n,o,r){let s;return(0,t.component_subscribe)(n,e.releaseScripts,t=>r(0,s=t)),[s]}class f extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,m,d,t.safe_not_equal,{})}}var _=f;exports.default=_;
},{"svelte/internal":"YkLP","../..":"QCba","../flashes/Flashes.svelte":"TSuT","../misc/Headline.svelte":"CRTR","../misc/Poster.svelte":"JAzh","../misc/TotalScore.svelte":"fd11","../phase-status/PhaseStatus.svelte":"p9ZA"}],"YvHn":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../../../server/src/shared/GamePhase"),n=require(".."),o=_(require("./phases/7GameOver.svelte")),r=_(require("./phases/6Release.svelte")),a=_(require("./misc/Fade.svelte")),i=_(require("./phases/1MysteryAuction.svelte")),s=_(require("./phases/0Welcome.svelte")),m=_(require("./phases/2MysteryAuctionResults.svelte")),c=_(require("./phases/5AssembleScripts.svelte")),u=_(require("./phases/4Shop.svelte")),$=_(require("./phases/3ScottishAuction.svelte")),p=_(require("./phases/6PreviewSeason.svelte"));function _(t){return t&&t.__esModule?t:{default:t}}function f(n){let o,r,a,i;const s=[P,G,w,v,y,h,g,d,l],m=[];function c(t,n){return t[3]===e.GamePhase.Welcome?0:t[3]===e.GamePhase.MysteryAuction?1:t[3]===e.GamePhase.MysteryAuctionResults?2:t[3]===e.GamePhase.ScottishAuction?3:t[3]===e.GamePhase.Shopping?4:t[3]===e.GamePhase.SpringAssembly||t[3]===e.GamePhase.SummerAssembly||t[3]===e.GamePhase.HolidayAssembly?5:t[3]===e.GamePhase.Spring||t[3]===e.GamePhase.Summer||t[3]===e.GamePhase.Holiday?6:t[3]===e.GamePhase.GameOver?7:8}return o=c(n),r=m[o]=s[o](n),{c(){r.c(),a=(0,t.empty)()},m(e,n){m[o].m(e,n),(0,t.insert)(e,a,n),i=!0},p(e,n){let i=o;(o=c(e))!==i&&((0,t.group_outros)(),(0,t.transition_out)(m[i],1,1,()=>{m[i]=null}),(0,t.check_outros)(),(r=m[o])||(r=m[o]=s[o](e)).c(),(0,t.transition_in)(r,1),r.m(a.parentNode,a))},i(e){i||((0,t.transition_in)(r),i=!0)},o(e){(0,t.transition_out)(r),i=!1},d(e){m[o].d(e),e&&(0,t.detach)(a)}}}function l(e){let n,o;return n=new p.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function d(e){let n,r;return n=new o.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function g(e){let n,o;return n=new a.default({props:{$$slots:{default:[q]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function h(e){let n,o;return n=new a.default({props:{$$slots:{default:[b]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function y(e){let n,o;return n=new a.default({props:{$$slots:{default:[x]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function v(e){let n,o;return n=new a.default({props:{$$slots:{default:[S]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function w(e){let n,o;return n=new a.default({props:{$$slots:{default:[A]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function G(e){let n,o;return n=new a.default({props:{$$slots:{default:[M]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function P(e){let n,o;return n=new a.default({props:{$$slots:{default:[O]},$$scope:{ctx:e}}}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function q(e){let n,o;return n=new r.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function b(e){let n,o;return n=new c.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function x(e){let n,o;return n=new u.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function S(e){let n,o;return n=new $.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function A(e){let n,o;return n=new m.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function M(e){let n,o;return n=new i.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function O(e){let n,o;return n=new s.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,r){(0,t.mount_component)(n,e,r),o=!0},i(e){o||((0,t.transition_in)(n.$$.fragment,e),o=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),o=!1},d(e){(0,t.destroy_component)(n,e)}}}function R(e){let n,o,r=(e[0]||e[1])&&e[2]&&f(e);return{c(){r&&r.c(),n=(0,t.empty)()},m(e,a){r&&r.m(e,a),(0,t.insert)(e,n,a),o=!0},p(e,[o]){(e[0]||e[1])&&e[2]?r?(r.p(e,o),7&o&&(0,t.transition_in)(r,1)):((r=f(e)).c(),(0,t.transition_in)(r,1),r.m(n.parentNode,n)):r&&((0,t.group_outros)(),(0,t.transition_out)(r,1,1,()=>{r=null}),(0,t.check_outros)())},i(e){o||((0,t.transition_in)(r),o=!0)},o(e){(0,t.transition_out)(r),o=!1},d(e){r&&r.d(e),e&&(0,t.detach)(n)}}}function k(e,o,r){let a,i,s,m;return(0,t.component_subscribe)(e,n.team,t=>r(0,a=t)),(0,t.component_subscribe)(e,n.admin,t=>r(1,i=t)),(0,t.component_subscribe)(e,n.gamestate,t=>r(2,s=t)),(0,t.component_subscribe)(e,n.phase,t=>r(3,m=t)),[a,i,s,m]}class H extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,k,R,t.safe_not_equal,{})}}var N=H;exports.default=N;
},{"svelte/internal":"YkLP","../../../server/src/shared/GamePhase":"wedU","..":"QCba","./phases/7GameOver.svelte":"hbiE","./phases/6Release.svelte":"buXl","./misc/Fade.svelte":"waso","./phases/1MysteryAuction.svelte":"G2da","./phases/0Welcome.svelte":"dVfP","./phases/2MysteryAuctionResults.svelte":"Ak19","./phases/5AssembleScripts.svelte":"Gwuj","./phases/4Shop.svelte":"BiWn","./phases/3ScottishAuction.svelte":"ruTA","./phases/6PreviewSeason.svelte":"MqBl"}],"GeSp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("svelte/internal"),t=require("../../"),n=require("../../../../server/src/rooms/schema/talent/Talent"),a=require("../../../../server/src/shared/GamePhase"),s=require("../../../../server/src/shared/genre"),l=require("../../index"),r=c(require("../GameBoard.svelte")),i=c(require("../script-stats/Genre.svelte"));function c(e){return e&&e.__esModule?e:{default:e}}const{Map:o}=e.globals;function d(e,t,n){const a=e.slice();return a[18]=t[n].key,a[19]=t[n].text,a[20]=t[n].value,a}function p(e,t,n){const a=e.slice();return a[23]=t[n],a}function u(e,t,n){const a=e.slice();return a[26]=t[n],a}function m(t){let n,a,s,r;return{c(){n=(0,e.element)("button"),a=(0,e.text)(t[4]),(0,e.attr)(n,"class","svelte-1alm19u")},m(t,i){(0,e.insert)(t,n,i),(0,e.append)(n,a),s||(r=(0,e.listen)(n,"click",(0,l.getEmitFn)("pause")),s=!0)},p(t,n){16&n&&(0,e.set_data)(a,t[4])},d(t){t&&(0,e.detach)(n),s=!1,r()}}}function v(t){let n,s,r;return{c(){(n=(0,e.element)("button")).textContent="Start",(0,e.attr)(n,"class","svelte-1alm19u")},m(t,i){(0,e.insert)(t,n,i),s||(r=(0,e.listen)(n,"click",(0,l.getEmitFn)("changePhase",a.GamePhase.MysteryAuction)),s=!0)},p:e.noop,d(t){t&&(0,e.detach)(n),s=!1,r()}}}function h(t){let a,s,l,r,i,c,o,d,p,u=(0,n.capitalize)(t[26].color)+"";return{c(){a=(0,e.element)("input"),r=(0,e.space)(),i=(0,e.element)("label"),c=(0,e.text)(u),(0,e.attr)(a,"type","radio"),a.__value=s=t[26].color,a.value=a.__value,(0,e.attr)(a,"id",l=`radio-${t[26].color}`),(0,e.attr)(a,"class","svelte-1alm19u"),t[9][0].push(a),(0,e.attr)(i,"for",o=`radio-${t[26].color}`),(0,e.attr)(i,"class","svelte-1alm19u")},m(n,s){(0,e.insert)(n,a,s),a.checked=a.__value===t[0],(0,e.insert)(n,r,s),(0,e.insert)(n,i,s),(0,e.append)(i,c),d||(p=(0,e.listen)(a,"change",t[10]),d=!0)},p(t,r){2&r&&s!==(s=t[26].color)&&(a.__value=s,a.value=a.__value),2&r&&l!==(l=`radio-${t[26].color}`)&&(0,e.attr)(a,"id",l),1&r&&(a.checked=a.__value===t[0]),2&r&&u!==(u=(0,n.capitalize)(t[26].color)+"")&&(0,e.set_data)(c,u),2&r&&o!==(o=`radio-${t[26].color}`)&&(0,e.attr)(i,"for",o)},d(n){n&&(0,e.detach)(a),t[9][0].splice(t[9][0].indexOf(a),1),n&&(0,e.detach)(r),n&&(0,e.detach)(i),d=!1,p()}}}function g(t){let n,a,s,l,r,c,o,d,p;function u(){return t[11](t[23])}return r=new i.default({props:{genre:t[23]}}),{c(){n=(0,e.element)("div"),a=(0,e.element)("input"),(0,e.create_component)(r.$$.fragment),c=(0,e.space)(),(0,e.attr)(a,"type","checkbox"),a.disabled=t[3],(0,e.attr)(a,"name",s=t[23]),a.checked=l=t[1].settings.genres.includes(t[23]),(0,e.attr)(n,"class","genre svelte-1alm19u")},m(t,s){(0,e.insert)(t,n,s),(0,e.append)(n,a),(0,e.mount_component)(r,n,null),(0,e.append)(n,c),o=!0,d||(p=(0,e.listen)(a,"click",u),d=!0)},p(e,n){t=e,(!o||8&n)&&(a.disabled=t[3]),(!o||2&n&&l!==(l=t[1].settings.genres.includes(t[23])))&&(a.checked=l)},i(t){o||((0,e.transition_in)(r.$$.fragment,t),o=!0)},o(t){(0,e.transition_out)(r.$$.fragment,t),o=!1},d(t){t&&(0,e.detach)(n),(0,e.destroy_component)(r),d=!1,p()}}}function _(t){let n,a,s,l,r,i,c,o,d,p,u=t[19]+"";function m(...e){return t[12](t[18],...e)}return{c(){n=(0,e.element)("div"),a=(0,e.element)("div"),s=(0,e.text)(u),l=(0,e.space)(),r=(0,e.element)("input"),o=(0,e.space)(),(0,e.attr)(a,"class","key"),r.disabled=t[3],(0,e.attr)(r,"type","number"),(0,e.attr)(r,"id",i=t[18]),r.value=c=t[20],(0,e.attr)(n,"class","setting svelte-1alm19u")},m(t,i){(0,e.insert)(t,n,i),(0,e.append)(n,a),(0,e.append)(a,s),(0,e.append)(n,l),(0,e.append)(n,r),(0,e.append)(n,o),d||(p=(0,e.listen)(r,"input",m),d=!0)},p(n,a){t=n,32&a&&u!==(u=t[19]+"")&&(0,e.set_data)(s,u),8&a&&(r.disabled=t[3]),32&a&&i!==(i=t[18])&&(0,e.attr)(r,"id",i),32&a&&c!==(c=t[20])&&r.value!==c&&(r.value=c)},d(t){t&&(0,e.detach)(n),d=!1,p()}}}function f(t,n){let a,s,l="number"==typeof n[20]&&_(n);return{key:t,first:null,c(){a=(0,e.empty)(),l&&l.c(),s=(0,e.empty)(),this.first=a},m(t,n){(0,e.insert)(t,a,n),l&&l.m(t,n),(0,e.insert)(t,s,n)},p(e,t){"number"==typeof(n=e)[20]?l?l.p(n,t):((l=_(n)).c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(t){t&&(0,e.detach)(a),l&&l.d(t),t&&(0,e.detach)(s)}}}function y(t){let n,i,c,_,y,b,x,$,k,G,q,P,C,w,M,O,T,S,j,A,E,F,W,z,B,I,N,R,U,V,D,H,J,K,L,Q,X,Y,Z,ee,te,ne=[],ae=new o;function se(e,t){return e[1].phase===a.GamePhase.Welcome?v:m}let le=se(t),re=le(t),ie=Array.from(t[1].teams.values()),ce=[];for(let e=0;e<ie.length;e+=1)ce[e]=h(u(t,ie,e));let oe=Object.values(s.Genre),de=[];for(let e=0;e<oe.length;e+=1)de[e]=g(p(t,oe,e));const pe=t=>(0,e.transition_out)(de[t],1,1,()=>{de[t]=null});let ue=t[5];const me=e=>e[18];for(let e=0;e<ue.length;e+=1){let n=d(t,ue,e),a=me(n);ae.set(a,ne[e]=f(a,n))}return Y=new r.default({}),{c(){n=(0,e.element)("div"),i=(0,e.element)("div"),c=(0,e.element)("div"),_=(0,e.space)(),y=(0,e.element)("div"),b=(0,e.space)(),x=(0,e.element)("div"),$=(0,e.element)("div"),k=(0,e.element)("div"),(G=(0,e.element)("div")).textContent="Simulation",q=(0,e.space)(),P=(0,e.element)("div"),re.c(),C=(0,e.space)(),(w=(0,e.element)("button")).textContent="Reset",M=(0,e.space)(),(O=(0,e.element)("div")).textContent="Teams",T=(0,e.space)(),S=(0,e.element)("div"),j=(0,e.element)("input"),F=(0,e.space)(),(W=(0,e.element)("label")).textContent="none",B=(0,e.space)();for(let e=0;e<ce.length;e+=1)ce[e].c();I=(0,e.space)(),(N=(0,e.element)("div")).textContent="Genres",R=(0,e.space)(),U=(0,e.element)("div");for(let e=0;e<de.length;e+=1)de[e].c();V=(0,e.space)(),D=(0,e.element)("div"),H=(0,e.element)("div");for(let e=0;e<ne.length;e+=1)ne[e].c();J=(0,e.space)(),K=(0,e.element)("br"),X=(0,e.space)(),(0,e.create_component)(Y.$$.fragment),(0,e.attr)(c,"class","chevron left svelte-1alm19u"),(0,e.set_style)(c,"--degrees",t[2]?"-135deg":"-45deg"),(0,e.set_style)(c,"--pixels",t[2]?"0":"15px"),(0,e.attr)(y,"class","chevron right svelte-1alm19u"),(0,e.set_style)(y,"--degrees",t[2]?"135deg":"45deg"),(0,e.set_style)(y,"--pixels",t[2]?"0":"15px"),(0,e.attr)(i,"class","chevron-wrapper svelte-1alm19u"),(0,e.attr)(n,"class","toggle svelte-1alm19u"),(0,e.attr)(w,"class","svelte-1alm19u"),(0,e.attr)(j,"type","radio"),j.__value=A="admin",j.value=j.__value,(0,e.attr)(j,"id",E="radio-none"),(0,e.attr)(j,"class","svelte-1alm19u"),t[9][0].push(j),(0,e.attr)(W,"for",z="radio-none"),(0,e.attr)(W,"class","svelte-1alm19u"),(0,e.attr)(S,"class","teams"),(0,e.attr)(U,"class","genres svelte-1alm19u"),(0,e.attr)(k,"class","buttons svelte-1alm19u"),(0,e.attr)(H,"class","number-settings svelte-1alm19u"),(0,e.attr)(D,"class",L="settings "+(t[3]?"disabled":"")+" svelte-1alm19u"),(0,e.attr)($,"class","buttons-and-settings svelte-1alm19u"),(0,e.attr)(x,"class",Q="panel "+(t[2]?"":"hide")+" svelte-1alm19u")},m(s,r){(0,e.insert)(s,n,r),(0,e.append)(n,i),(0,e.append)(i,c),(0,e.append)(i,_),(0,e.append)(i,y),(0,e.insert)(s,b,r),(0,e.insert)(s,x,r),(0,e.append)(x,$),(0,e.append)($,k),(0,e.append)(k,G),(0,e.append)(k,q),(0,e.append)(k,P),re.m(P,null),(0,e.append)(P,C),(0,e.append)(P,w),(0,e.append)(k,M),(0,e.append)(k,O),(0,e.append)(k,T),(0,e.append)(k,S),(0,e.append)(S,j),j.checked=j.__value===t[0],(0,e.append)(S,F),(0,e.append)(S,W),(0,e.append)(S,B);for(let e=0;e<ce.length;e+=1)ce[e].m(S,null);(0,e.append)(k,I),(0,e.append)(k,N),(0,e.append)(k,R),(0,e.append)(k,U);for(let e=0;e<de.length;e+=1)de[e].m(U,null);(0,e.append)($,V),(0,e.append)($,D),(0,e.append)(D,H);for(let e=0;e<ne.length;e+=1)ne[e].m(H,null);(0,e.append)(D,J),(0,e.append)(D,K),(0,e.insert)(s,X,r),(0,e.mount_component)(Y,s,r),Z=!0,ee||(te=[(0,e.listen)(i,"click",t[7]),(0,e.listen)(w,"click",(0,l.getEmitFn)("changePhase",a.GamePhase.Welcome)),(0,e.listen)(j,"change",t[8])],ee=!0)},p(t,[n]){if((!Z||4&n)&&(0,e.set_style)(c,"--degrees",t[2]?"-135deg":"-45deg"),(!Z||4&n)&&(0,e.set_style)(c,"--pixels",t[2]?"0":"15px"),(!Z||4&n)&&(0,e.set_style)(y,"--degrees",t[2]?"135deg":"45deg"),(!Z||4&n)&&(0,e.set_style)(y,"--pixels",t[2]?"0":"15px"),le===(le=se(t))&&re?re.p(t,n):(re.d(1),(re=le(t))&&(re.c(),re.m(P,C))),1&n&&(j.checked=j.__value===t[0]),3&n){let e;for(ie=Array.from(t[1].teams.values()),e=0;e<ie.length;e+=1){const a=u(t,ie,e);ce[e]?ce[e].p(a,n):(ce[e]=h(a),ce[e].c(),ce[e].m(S,null))}for(;e<ce.length;e+=1)ce[e].d(1);ce.length=ie.length}if(10&n){let a;for(oe=Object.values(s.Genre),a=0;a<oe.length;a+=1){const s=p(t,oe,a);de[a]?(de[a].p(s,n),(0,e.transition_in)(de[a],1)):(de[a]=g(s),de[a].c(),(0,e.transition_in)(de[a],1),de[a].m(U,null))}for((0,e.group_outros)(),a=oe.length;a<de.length;a+=1)pe(a);(0,e.check_outros)()}104&n&&(ue=t[5],ne=(0,e.update_keyed_each)(ne,n,me,1,t,ue,ae,H,e.destroy_block,f,null,d)),(!Z||8&n&&L!==(L="settings "+(t[3]?"disabled":"")+" svelte-1alm19u"))&&(0,e.attr)(D,"class",L),(!Z||4&n&&Q!==(Q="panel "+(t[2]?"":"hide")+" svelte-1alm19u"))&&(0,e.attr)(x,"class",Q)},i(t){if(!Z){for(let t=0;t<oe.length;t+=1)(0,e.transition_in)(de[t]);(0,e.transition_in)(Y.$$.fragment,t),Z=!0}},o(t){de=de.filter(Boolean);for(let n=0;n<de.length;n+=1)(0,e.transition_out)(de[n]);(0,e.transition_out)(Y.$$.fragment,t),Z=!1},d(a){a&&(0,e.detach)(n),a&&(0,e.detach)(b),a&&(0,e.detach)(x),re.d(),t[9][0].splice(t[9][0].indexOf(j),1),(0,e.destroy_each)(ce,a),(0,e.destroy_each)(de,a);for(let e=0;e<ne.length;e+=1)ne[e].d();a&&(0,e.detach)(X),(0,e.destroy_component)(Y,a),ee=!1,(0,e.run_all)(te)}}}function b(n,s,r){let i,c,o,d,p;(0,e.component_subscribe)(n,l.sessionId,e=>r(13,o=e)),(0,e.component_subscribe)(n,l.gamestate,e=>r(1,d=e)),(0,e.component_subscribe)(n,l.settings,e=>r(5,p=e));let u=!0,m="admin";const v=new Map,h=(e,n)=>{(0,t.emit)("updateSettings",{[e]:n})},g=(e,t)=>{((e,[t,n],a=500)=>{const s=v.get(t);s&&clearTimeout(s),v.set(t,setTimeout(()=>{e(t,n)},a))})(h,[e,+t.value])};return n.$$.update=(()=>{1&n.$$.dirty&&(e=>{(0,t.emit)("changeView",{teamColor:e,sessionId:o})})(m),2&n.$$.dirty&&r(4,i=d.pause?"Unpause":"Pause"),2&n.$$.dirty&&r(3,c=d.phase!==a.GamePhase.Welcome)}),[m,d,u,c,i,p,g,()=>r(2,u=!u),function(){m=this.__value,r(0,m)},[[]],function(){m=this.__value,r(0,m)},e=>(0,t.emit)("updateGenres",e),(e,t)=>g(e,t.currentTarget)]}class x extends e.SvelteComponent{constructor(t){super(),(0,e.init)(this,t,b,y,e.safe_not_equal,{})}}var $=x;exports.default=$;
},{"svelte/internal":"YkLP","../../":"QCba","../../../../server/src/rooms/schema/talent/Talent":"NzKw","../../../../server/src/shared/GamePhase":"wedU","../../../../server/src/shared/genre":"jt3s","../../index":"QCba","../GameBoard.svelte":"YvHn","../script-stats/Genre.svelte":"DCT3"}],"HjHG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("svelte/internal"),e=require("../index"),n=r(require("./admin/Admin.svelte")),o=r(require("./GameBoard.svelte"));function r(t){return t&&t.__esModule?t:{default:t}}function i(e){let n,r;return n=new o.default({}),{c(){(0,t.create_component)(n.$$.fragment)},m(e,o){(0,t.mount_component)(n,e,o),r=!0},i(e){r||((0,t.transition_in)(n.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(n.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(n,e)}}}function u(e){let o,r;return o=new n.default({}),{c(){(0,t.create_component)(o.$$.fragment)},m(e,n){(0,t.mount_component)(o,e,n),r=!0},i(e){r||((0,t.transition_in)(o.$$.fragment,e),r=!0)},o(e){(0,t.transition_out)(o.$$.fragment,e),r=!1},d(e){(0,t.destroy_component)(o,e)}}}function a(e){let n,o,r,a;const s=[u,i],c=[];function m(t,e){return t[0]?0:1}return n=m(e),o=c[n]=s[n](e),{c(){o.c(),r=(0,t.empty)()},m(e,o){c[n].m(e,o),(0,t.insert)(e,r,o),a=!0},p(e,[i]){let u=n;(n=m(e))!==u&&((0,t.group_outros)(),(0,t.transition_out)(c[u],1,1,()=>{c[u]=null}),(0,t.check_outros)(),(o=c[n])||(o=c[n]=s[n](e)).c(),(0,t.transition_in)(o,1),o.m(r.parentNode,r))},i(e){a||((0,t.transition_in)(o),a=!0)},o(e){(0,t.transition_out)(o),a=!1},d(e){c[n].d(e),e&&(0,t.detach)(r)}}}function s(n,o,r){let i;return(0,t.component_subscribe)(n,e.admin,t=>r(0,i=t)),[i]}class c extends t.SvelteComponent{constructor(e){super(),(0,t.init)(this,e,s,a,t.safe_not_equal,{})}}var m=c;exports.default=m;
},{"svelte/internal":"YkLP","../index":"QCba","./admin/Admin.svelte":"GeSp","./GameBoard.svelte":"YvHn"}],"dP8p":[function(require,module,exports) {
var define;
var global = arguments[3];
var e,t=arguments[3];!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof e&&e.amd?e("colyseus.js",["exports"],n):n((t="undefined"!=typeof globalThis?globalThis:t||self).Colyseus={})}(this,function(e){"use strict";ArrayBuffer.isView||(ArrayBuffer.isView=function(e){return null!==e&&"object"==typeof e&&e.buffer instanceof ArrayBuffer}),"undefined"==typeof globalThis&&"undefined"!=typeof window&&(window.globalThis=window);var n=function(e,t){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}function r(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{h(i.next(e))}catch(t){o(t)}}function a(e){try{h(i.throw(e))}catch(t){o(t)}}function h(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(s,a)}h((i=i.apply(e,t||[])).next())})}function o(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function s(e,t){t.headers=e.headers||{},t.statusMessage=e.statusText,t.statusCode=e.status,t.data=e.response}function a(e,t,n){return new Promise(function(i,r){n=n||{};var o,a,h,f=new XMLHttpRequest,c=n.body,u=n.headers||{};for(o in n.timeout&&(f.timeout=n.timeout),f.ontimeout=f.onerror=function(e){e.timeout="timeout"==e.type,r(e)},f.open(e,t.href||t),f.onload=function(){for(h=f.getAllResponseHeaders().trim().split(/[\r\n]+/),s(f,f);a=h.shift();)a=a.split(": "),f.headers[a.shift().toLowerCase()]=a.join(": ");if((a=f.headers["content-type"])&&~a.indexOf("application/json"))try{f.data=JSON.parse(f.data,n.reviver)}catch(e){return s(f,e),r(e)}(f.status>=400?r:i)(f)},typeof FormData<"u"&&c instanceof FormData||c&&"object"==typeof c&&(u["content-type"]="application/json",c=JSON.stringify(c)),f.withCredentials=!!n.withCredentials,u)f.setRequestHeader(o,u[o]);f.send(c)})}var h=a.bind(a,"GET"),f=a.bind(a,"POST"),c=a.bind(a,"PATCH"),u=a.bind(a,"DELETE"),d=h,p=c,l=f,v=a.bind(a,"PUT"),y=a,g={del:u,get:d,patch:p,post:l,put:v,send:y},m=Object.freeze(Object.assign(Object.create(null),g,{default:g,del:u,get:d,patch:p,post:l,put:v,send:y})),_=function(e){function t(t,n){var i=e.call(this,n)||this;return i.name="ServerError",i.code=t,i}return i(t,e),t}(Error);function w(e,t){if(this._offset=t,e instanceof ArrayBuffer)this._buffer=e,this._view=new DataView(this._buffer);else{if(!ArrayBuffer.isView(e))throw new Error("Invalid argument");this._buffer=e.buffer,this._view=new DataView(this._buffer,e.byteOffset,e.byteLength)}}function A(e,t,n){for(var i=0,r=0,o=n.length;r<o;r++)(i=n.charCodeAt(r))<128?e.setUint8(t++,i):i<2048?(e.setUint8(t++,192|i>>6),e.setUint8(t++,128|63&i)):i<55296||i>=57344?(e.setUint8(t++,224|i>>12),e.setUint8(t++,128|i>>6&63),e.setUint8(t++,128|63&i)):(r++,i=65536+((1023&i)<<10|1023&n.charCodeAt(r)),e.setUint8(t++,240|i>>18),e.setUint8(t++,128|i>>12&63),e.setUint8(t++,128|i>>6&63),e.setUint8(t++,128|63&i))}function $(e){var t=[],n=[],i=function e(t,n,i){var r=typeof i,o=0,s=0,a=0,h=0,f=0,c=0;if("string"===r){if((f=function(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++)(t=e.charCodeAt(i))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(i))<32)t.push(160|f),c=1;else if(f<256)t.push(217,f),c=2;else if(f<65536)t.push(218,f>>8,f),c=3;else{if(!(f<4294967296))throw new Error("String too long");t.push(219,f>>24,f>>16,f>>8,f),c=5}return n.push({_str:i,_length:f,_offset:t.length}),c+f}if("number"===r)return Math.floor(i)===i&&isFinite(i)?i>=0?i<128?(t.push(i),1):i<256?(t.push(204,i),2):i<65536?(t.push(205,i>>8,i),3):i<4294967296?(t.push(206,i>>24,i>>16,i>>8,i),5):(a=i/Math.pow(2,32)>>0,h=i>>>0,t.push(207,a>>24,a>>16,a>>8,a,h>>24,h>>16,h>>8,h),9):i>=-32?(t.push(i),1):i>=-128?(t.push(208,i),2):i>=-32768?(t.push(209,i>>8,i),3):i>=-2147483648?(t.push(210,i>>24,i>>16,i>>8,i),5):(a=Math.floor(i/Math.pow(2,32)),h=i>>>0,t.push(211,a>>24,a>>16,a>>8,a,h>>24,h>>16,h>>8,h),9):(t.push(203),n.push({_float:i,_length:8,_offset:t.length}),9);if("object"===r){if(null===i)return t.push(192),1;if(Array.isArray(i)){if((f=i.length)<16)t.push(144|f),c=1;else if(f<65536)t.push(220,f>>8,f),c=3;else{if(!(f<4294967296))throw new Error("Array too large");t.push(221,f>>24,f>>16,f>>8,f),c=5}for(o=0;o<f;o++)c+=e(t,n,i[o]);return c}if(i instanceof Date){var u=i.getTime();return a=Math.floor(u/Math.pow(2,32)),h=u>>>0,t.push(215,0,a>>24,a>>16,a>>8,a,h>>24,h>>16,h>>8,h),10}if(i instanceof ArrayBuffer){if((f=i.byteLength)<256)t.push(196,f),c=2;else if(f<65536)t.push(197,f>>8,f),c=3;else{if(!(f<4294967296))throw new Error("Buffer too large");t.push(198,f>>24,f>>16,f>>8,f),c=5}return n.push({_bin:i,_length:f,_offset:t.length}),c+f}if("function"==typeof i.toJSON)return e(t,n,i.toJSON());var d=[],p="",l=Object.keys(i);for(o=0,s=l.length;o<s;o++)"function"!=typeof i[p=l[o]]&&d.push(p);if((f=d.length)<16)t.push(128|f),c=1;else if(f<65536)t.push(222,f>>8,f),c=3;else{if(!(f<4294967296))throw new Error("Object too large");t.push(223,f>>24,f>>16,f>>8,f),c=5}for(o=0;o<f;o++)c+=e(t,n,p=d[o]),c+=e(t,n,i[p]);return c}if("boolean"===r)return t.push(i?195:194),1;if("undefined"===r)return t.push(212,0,0),3;throw new Error("Could not encode")}(t,n,e),r=new ArrayBuffer(i),o=new DataView(r),s=0,a=0,h=-1;n.length>0&&(h=n[0]._offset);for(var f,c=0,u=0,d=0,p=t.length;d<p;d++)if(o.setUint8(a+d,t[d]),d+1===h){if(c=(f=n[s])._length,u=a+h,f._bin)for(var l=new Uint8Array(f._bin),v=0;v<c;v++)o.setUint8(u+v,l[v]);else f._str?A(o,u,f._str):void 0!==f._float&&o.setFloat64(u,f._float);a+=c,n[++s]&&(h=n[s]._offset)}return r}w.prototype._array=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=this._parse();return t},w.prototype._map=function(e){for(var t={},n=0;n<e;n++)t[this._parse()]=this._parse();return t},w.prototype._str=function(e){var t=function(e,t,n){for(var i="",r=0,o=t,s=t+n;o<s;o++){var a=e.getUint8(o);if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(r=(7&a)<<18|(63&e.getUint8(++o))<<12|(63&e.getUint8(++o))<<6|(63&e.getUint8(++o))<<0)>=65536?(r-=65536,i+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):i+=String.fromCharCode(r)}else i+=String.fromCharCode((15&a)<<12|(63&e.getUint8(++o))<<6|(63&e.getUint8(++o))<<0);else i+=String.fromCharCode((31&a)<<6|63&e.getUint8(++o));else i+=String.fromCharCode(a)}return i}(this._view,this._offset,e);return this._offset+=e,t},w.prototype._bin=function(e){var t=this._buffer.slice(this._offset,this._offset+e);return this._offset+=e,t},w.prototype._parse=function(){var e,t=this._view.getUint8(this._offset++),n=0,i=0,r=0,o=0;if(t<192)return t<128?t:t<144?this._map(15&t):t<160?this._array(15&t):this._str(31&t);if(t>223)return-1*(255-t+1);switch(t){case 192:return null;case 194:return!1;case 195:return!0;case 196:return n=this._view.getUint8(this._offset),this._offset+=1,this._bin(n);case 197:return n=this._view.getUint16(this._offset),this._offset+=2,this._bin(n);case 198:return n=this._view.getUint32(this._offset),this._offset+=4,this._bin(n);case 199:return n=this._view.getUint8(this._offset),i=this._view.getInt8(this._offset+1),this._offset+=2,[i,this._bin(n)];case 200:return n=this._view.getUint16(this._offset),i=this._view.getInt8(this._offset+2),this._offset+=3,[i,this._bin(n)];case 201:return n=this._view.getUint32(this._offset),i=this._view.getInt8(this._offset+4),this._offset+=5,[i,this._bin(n)];case 202:return e=this._view.getFloat32(this._offset),this._offset+=4,e;case 203:return e=this._view.getFloat64(this._offset),this._offset+=8,e;case 204:return e=this._view.getUint8(this._offset),this._offset+=1,e;case 205:return e=this._view.getUint16(this._offset),this._offset+=2,e;case 206:return e=this._view.getUint32(this._offset),this._offset+=4,e;case 207:return r=this._view.getUint32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,r+o;case 208:return e=this._view.getInt8(this._offset),this._offset+=1,e;case 209:return e=this._view.getInt16(this._offset),this._offset+=2,e;case 210:return e=this._view.getInt32(this._offset),this._offset+=4,e;case 211:return r=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,r+o;case 212:return i=this._view.getInt8(this._offset),this._offset+=1,0===i?void(this._offset+=1):[i,this._bin(1)];case 213:return i=this._view.getInt8(this._offset),this._offset+=1,[i,this._bin(2)];case 214:return i=this._view.getInt8(this._offset),this._offset+=1,[i,this._bin(4)];case 215:return i=this._view.getInt8(this._offset),this._offset+=1,0===i?(r=this._view.getInt32(this._offset)*Math.pow(2,32),o=this._view.getUint32(this._offset+4),this._offset+=8,new Date(r+o)):[i,this._bin(8)];case 216:return i=this._view.getInt8(this._offset),this._offset+=1,[i,this._bin(16)];case 217:return n=this._view.getUint8(this._offset),this._offset+=1,this._str(n);case 218:return n=this._view.getUint16(this._offset),this._offset+=2,this._str(n);case 219:return n=this._view.getUint32(this._offset),this._offset+=4,this._str(n);case 220:return n=this._view.getUint16(this._offset),this._offset+=2,this._array(n);case 221:return n=this._view.getUint32(this._offset),this._offset+=4,this._array(n);case 222:return n=this._view.getUint16(this._offset),this._offset+=2,this._map(n);case 223:return n=this._view.getUint32(this._offset),this._offset+=4,this._map(n)}throw new Error("Could not parse")};var E,O,I=globalThis.WebSocket||function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")},b=function(){function e(e){this.events=e}return e.prototype.send=function(e){e instanceof ArrayBuffer?this.ws.send(e):Array.isArray(e)&&this.ws.send(new Uint8Array(e).buffer)},e.prototype.connect=function(e){this.ws=new I(e,this.protocols),this.ws.binaryType="arraybuffer",this.ws.onopen=this.events.onopen,this.ws.onmessage=this.events.onmessage,this.ws.onclose=this.events.onclose,this.ws.onerror=this.events.onerror},e.prototype.close=function(e,t){this.ws.close(e,t)},e}(),x=function(){function e(){this.events={},this.transport=new b(this.events)}return e.prototype.send=function(e){this.transport.send(e)},e.prototype.connect=function(e){this.transport.connect(e)},e.prototype.close=function(e,t){this.transport.close(e,t)},e}(),R={};function T(e,t){R[e]=t}function C(e){var t=R[e];if(!t)throw new Error("missing serializer: "+e);return t}e.Protocol=void 0,(E=e.Protocol||(e.Protocol={}))[E.HANDSHAKE=9]="HANDSHAKE",E[E.JOIN_ROOM=10]="JOIN_ROOM",E[E.ERROR=11]="ERROR",E[E.LEAVE_ROOM=12]="LEAVE_ROOM",E[E.ROOM_DATA=13]="ROOM_DATA",E[E.ROOM_STATE=14]="ROOM_STATE",E[E.ROOM_STATE_PATCH=15]="ROOM_STATE_PATCH",E[E.ROOM_DATA_SCHEMA=16]="ROOM_DATA_SCHEMA",e.ErrorCode=void 0,(O=e.ErrorCode||(e.ErrorCode={}))[O.MATCHMAKE_NO_HANDLER=4210]="MATCHMAKE_NO_HANDLER",O[O.MATCHMAKE_INVALID_CRITERIA=4211]="MATCHMAKE_INVALID_CRITERIA",O[O.MATCHMAKE_INVALID_ROOM_ID=4212]="MATCHMAKE_INVALID_ROOM_ID",O[O.MATCHMAKE_UNHANDLED=4213]="MATCHMAKE_UNHANDLED",O[O.MATCHMAKE_EXPIRED=4214]="MATCHMAKE_EXPIRED",O[O.AUTH_FAILED=4215]="AUTH_FAILED",O[O.APPLICATION_ERROR=4216]="APPLICATION_ERROR";let P=()=>({events:{},emit(e,...t){(this.events[e]||[]).forEach(e=>e(...t))},on(e,t){return(this.events[e]=this.events[e]||[]).push(t),()=>this.events[e]=(this.events[e]||[]).filter(e=>e!==t)}});var S=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.handlers.forEach(function(n){return n.apply(e,t)})},e.prototype.invokeAsync=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return Promise.all(this.handlers.map(function(n){return n.apply(e,t)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}();function N(){var e=new S;function t(t){return e.register(t,null===this)}return t.once=function(t){var n=function(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];t.apply(this,i),e.remove(n)};e.register(n)},t.remove=function(t){return e.remove(t)},t.invoke=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invoke.apply(e,t)},t.invokeAsync=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.invokeAsync.apply(e,t)},t.clear=function(){return e.clear()},t}"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==t||"undefined"!=typeof self&&self;var D,M,k=(function(e,t){!function(e){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,n)};function n(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}function i(e,t,n,i){var r,o=arguments.length,s=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,i);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,n,s):r(t,n))||s);return o>3&&s&&Object.defineProperty(t,n,s),s}function r(e,t){for(var n=0,i=t.length,r=e.length;n<i;n++,r++)e[r]=t[n];return e}var o,s=255;e.OPERATION=void 0,(o=e.OPERATION||(e.OPERATION={}))[o.ADD=128]="ADD",o[o.REPLACE=0]="REPLACE",o[o.DELETE=64]="DELETE",o[o.DELETE_AND_ADD=192]="DELETE_AND_ADD",o[o.TOUCH=1]="TOUCH",o[o.CLEAR=10]="CLEAR";var a=function(){function e(){this.refs=new Map,this.refCounts={},this.deletedRefs=new Set,this.nextUniqueId=0}return e.prototype.getNextUniqueId=function(){return this.nextUniqueId++},e.prototype.addRef=function(e,t,n){void 0===n&&(n=!0),this.refs.set(e,t),n&&(this.refCounts[e]=(this.refCounts[e]||0)+1)},e.prototype.removeRef=function(e){this.refCounts[e]=this.refCounts[e]-1,this.deletedRefs.add(e)},e.prototype.clearRefs=function(){this.refs.clear(),this.deletedRefs.clear(),this.refCounts={}},e.prototype.garbageCollectDeletedRefs=function(){var e=this;this.deletedRefs.forEach(function(t){if(e.refCounts[t]<=0){var n=e.refs.get(t);if(n instanceof fe)for(var i in n._definition.schema)"string"!=typeof n._definition.schema[i]&&n[i]&&n[i].$changes&&e.removeRef(n[i].$changes.refId);else{var r=n.$changes.parent._definition,o=r.schema[r.fieldsByIndex[n.$changes.parentIndex]];"function"==typeof Object.values(o)[0]&&Array.from(n.values()).forEach(function(t){return e.removeRef(t.$changes.refId)})}e.refs.delete(t),delete e.refCounts[t]}}),this.deletedRefs.clear()},e}(),h=function(){function t(e,t,n){this.changed=!1,this.changes=new Map,this.allChanges=new Set,this.caches={},this.currentCustomOperation=0,this.ref=e,this.setParent(t,n)}return t.prototype.setParent=function(e,t,n){var i=this;if(this.indexes||(this.indexes=this.ref instanceof fe?this.ref._definition.indexes:{}),this.parent=e,this.parentIndex=n,t)if(this.root=t,this.ref instanceof fe){var r=this.ref._definition;for(var o in r.schema){var s=this.ref[o];if(s&&s.$changes){var a=r.indexes[o];s.$changes.setParent(this.ref,t,a)}}}else"object"==typeof this.ref&&this.ref.forEach(function(e,t){if(e instanceof fe){var n=e.$changes,r=i.ref.$changes.indexes[t];n.setParent(i.ref,i.root,r)}})},t.prototype.operation=function(e){this.changes.set(--this.currentCustomOperation,e)},t.prototype.change=function(t,n){void 0===n&&(n=e.OPERATION.ADD);var i="number"==typeof t?t:this.indexes[t];this.assertValidIndex(i,t);var r=this.changes.get(i);r&&r.op!==e.OPERATION.DELETE&&r.op!==e.OPERATION.TOUCH||this.changes.set(i,{op:r&&r.op===e.OPERATION.DELETE?e.OPERATION.DELETE_AND_ADD:n,index:i}),this.allChanges.add(i),this.changed=!0,this.touchParents()},t.prototype.touch=function(t){var n="number"==typeof t?t:this.indexes[t];this.assertValidIndex(n,t),this.changes.has(n)||this.changes.set(n,{op:e.OPERATION.TOUCH,index:n}),this.allChanges.add(n),this.touchParents()},t.prototype.touchParents=function(){this.parent&&this.parent.$changes.touch(this.parentIndex)},t.prototype.getType=function(e){if(this.ref._definition){var t=this.ref._definition;return t.schema[t.fieldsByIndex[e]]}var t=this.parent._definition,n=t.schema[t.fieldsByIndex[this.parentIndex]];return Object.values(n)[0]},t.prototype.getChildrenFilter=function(){var e=this.parent._definition.childFilters;return e&&e[this.parentIndex]},t.prototype.getValue=function(e){return this.ref.getByIndex(e)},t.prototype.delete=function(t){var n="number"==typeof t?t:this.indexes[t];if(void 0!==n){var i=this.getValue(n);this.changes.set(n,{op:e.OPERATION.DELETE,index:n}),this.allChanges.delete(n),delete this.caches[n],i&&i.$changes&&(i.$changes.parent=void 0),this.changed=!0,this.touchParents()}else console.warn("@colyseus/schema "+this.ref.constructor.name+": trying to delete non-existing index: "+t+" ("+n+")")},t.prototype.discard=function(t,n){var i=this;void 0===t&&(t=!1),void 0===n&&(n=!1),this.ref instanceof fe||this.changes.forEach(function(t){if(t.op===e.OPERATION.DELETE){var n=i.ref.getIndex(t.index);delete i.indexes[n]}}),this.changes.clear(),this.changed=t,n&&this.allChanges.clear(),this.currentCustomOperation=0},t.prototype.discardAll=function(){var e=this;this.changes.forEach(function(t){var n=e.getValue(t.index);n&&n.$changes&&n.$changes.discardAll()}),this.discard()},t.prototype.cache=function(e,t){this.caches[e]=t},t.prototype.clone=function(){return new t(this.ref,this.parent,this.root)},t.prototype.ensureRefId=function(){void 0===this.refId&&(this.refId=this.root.getNextUniqueId())},t.prototype.assertValidIndex=function(e,t){if(void 0===e)throw new Error('ChangeTree: missing index for field "'+t+'"')},t}(),f=function(e,t){var n=e.toString(),i=t.toString();return n<i?-1:n>i?1:0};function c(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"==typeof t||isNaN(t)?e[t]:e.at(t)},set:function(e,t,n){if("symbol"==typeof t||isNaN(t))e[t]=n;else{var i=Array.from(e.$items.keys()),r=parseInt(i[t]||t);null==n?e.deleteAt(r):e.setAt(r,n)}return!0},deleteProperty:function(e,t){return"number"==typeof t?e.deleteAt(t):delete e[t],!0}})}var u=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.$changes=new h(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,this.push.apply(this,e)}return t.is=function(e){return Array.isArray(e)||void 0!==e.array},Object.defineProperty(t.prototype,"length",{get:function(){return this.$items.size},set:function(e){0===e?this.clear():this.splice(e,this.length-e)},enumerable:!1,configurable:!0}),t.prototype.push=function(){for(var e,t=this,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return n.forEach(function(n){e=t.$refId++,t.setAt(e,n)}),e},t.prototype.pop=function(){var e=Array.from(this.$indexes.values()).pop();if(void 0!==e){this.$changes.delete(e),this.$indexes.delete(e);var t=this.$items.get(e);return this.$items.delete(e),t}},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.setAt=function(t,n){var i,r;void 0!==n.$changes&&n.$changes.setParent(this,this.$changes.root,t);var o=null!==(r=null===(i=this.$changes.indexes[t])||void 0===i?void 0:i.op)&&void 0!==r?r:e.OPERATION.ADD;this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,n),this.$changes.change(t,o)},t.prototype.deleteAt=function(e){var t=Array.from(this.$items.keys())[e];return void 0!==t&&this.$deleteAt(t)},t.prototype.$deleteAt=function(e){return this.$changes.delete(e),this.$indexes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.concat=function(){for(var e,n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return new(t.bind.apply(t,r([void 0],(e=Array.from(this.$items.values())).concat.apply(e,n))))},t.prototype.join=function(e){return Array.from(this.$items.values()).join(e)},t.prototype.reverse=function(){var e=this,t=Array.from(this.$items.keys()),n=Array.from(this.$items.values()).reverse();return n.forEach(function(n,i){e.setAt(t[i],n)}),this},t.prototype.shift=function(){var e=Array.from(this.$items.keys()),t=e.shift();if(void 0!==t){var n=this.$items.get(t);return this.$deleteAt(t),n}},t.prototype.slice=function(e,n){return new(t.bind.apply(t,r([void 0],Array.from(this.$items.values()).slice(e,n))))},t.prototype.sort=function(e){var t=this;void 0===e&&(e=f);var n=Array.from(this.$items.keys()),i=Array.from(this.$items.values()).sort(e);return i.forEach(function(e,i){t.setAt(n[i],e)}),this},t.prototype.splice=function(e,t){void 0===t&&(t=this.length-e);for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];for(var r=Array.from(this.$items.keys()),o=[],s=e;s<e+t;s++)o.push(this.$items.get(r[s])),this.$deleteAt(r[s]);return o},t.prototype.unshift=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var i=this.length,r=t.length,o=Array.from(this.$items.values());return t.forEach(function(t,n){e.setAt(n,t)}),o.forEach(function(t,n){e.setAt(r+n,t)}),i+r},t.prototype.indexOf=function(e,t){return Array.from(this.$items.values()).indexOf(e,t)},t.prototype.lastIndexOf=function(e,t){return void 0===t&&(t=this.length-1),Array.from(this.$items.values()).lastIndexOf(e,t)},t.prototype.every=function(e,t){return Array.from(this.$items.values()).every(e,t)},t.prototype.some=function(e,t){return Array.from(this.$items.values()).some(e,t)},t.prototype.forEach=function(e,t){Array.from(this.$items.values()).forEach(e,t)},t.prototype.map=function(e,t){return Array.from(this.$items.values()).map(e,t)},t.prototype.filter=function(e,t){return Array.from(this.$items.values()).filter(e,t)},t.prototype.reduce=function(e,t){return Array.from(this.$items.values()).reduce(e,t)},t.prototype.reduceRight=function(e,t){return Array.from(this.$items.values()).reduceRight(e,t)},t.prototype.find=function(e,t){return Array.from(this.$items.values()).find(e,t)},t.prototype.findIndex=function(e,t){return Array.from(this.$items.values()).findIndex(e,t)},t.prototype.fill=function(e,t,n){throw new Error("ArraySchema#fill() not implemented")},t.prototype.copyWithin=function(e,t,n){throw new Error("ArraySchema#copyWithin() not implemented")},t.prototype.toString=function(){return this.$items.toString()},t.prototype.toLocaleString=function(){return this.$items.toLocaleString()},t.prototype[Symbol.iterator]=function(){return Array.from(this.$items.values())[Symbol.iterator]()},t.prototype[Symbol.unscopables]=function(){return this.$items[Symbol.unscopables]()},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},t.prototype.includes=function(e,t){return Array.from(this.$items.values()).includes(e,t)},t.prototype.flatMap=function(e,t){throw new Error("ArraySchema#flatMap() is not supported.")},t.prototype.flat=function(e){throw new Error("ArraySchema#flat() is not supported.")},t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){return this.toArray().map(function(e){return"function"==typeof e.toJSON?e.toJSON():e})},t.prototype.clone=function(e){return e?new(t.bind.apply(t,r([void 0],Array.from(this.$items.values())))):new(t.bind.apply(t,r([void 0],this.map(function(e){return e.$changes?e.clone():e}))))},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}();function d(e){return e.$proxy=!0,e=new Proxy(e,{get:function(e,t){return"symbol"!=typeof t&&void 0===e[t]?e.get(t):e[t]},set:function(e,t,n){return"symbol"!=typeof t&&-1===t.indexOf("$")&&"onAdd"!==t&&"onRemove"!==t&&"onChange"!==t?e.set(t,n):e[t]=n,!0},deleteProperty:function(e,t){return e.delete(t),!0}})}var p=function(){function t(e){var t=this;if(this.$changes=new h(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e)if(e instanceof Map)e.forEach(function(e,n){return t.set(n,e)});else for(var n in e)this.set(n,e[n])}return t.is=function(e){return void 0!==e.map},t.prototype[Symbol.iterator]=function(){return this.$items[Symbol.iterator]()},Object.defineProperty(t.prototype,Symbol.toStringTag,{get:function(){return this.$items[Symbol.toStringTag]},enumerable:!1,configurable:!0}),t.prototype.set=function(t,n){if(null==n)throw new Error("MapSchema#set('"+t+"', "+n+"): trying to set "+n+" value on '"+t+"'.");var i=void 0!==this.$changes.indexes[t],r=i?this.$changes.indexes[t]:this.$refId++,o=i?e.OPERATION.REPLACE:e.OPERATION.ADD,s=void 0!==n.$changes;return s&&n.$changes.setParent(this,this.$changes.root,r),i?s&&this.$items.get(t)!==n&&(o=e.OPERATION.ADD):(this.$changes.indexes[t]=r,this.$indexes.set(r,t)),this.$items.set(t,n),this.$changes.change(t,o),this},t.prototype.get=function(e){return this.$items.get(e)},t.prototype.delete=function(e){return this.$changes.delete(e),this.$items.delete(e)},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return this.$items.has(e)},t.prototype.forEach=function(e){this.$items.forEach(e)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.keys=function(){return this.$items.keys()},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toJSON=function(){var e={};return this.forEach(function(t,n){e[n]="function"==typeof t.toJSON?t.toJSON():t}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e,t){e.$changes?n.set(t,e.clone()):n.set(t,e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),l={};function v(e,t){l[e]=t}function y(e){return l[e]}var g=function(){function e(){this.indexes={},this.fieldsByIndex={},this.deprecated={},this.descriptors={}}return e.create=function(t){var n=new e;return n.schema=Object.assign({},t&&t.schema||{}),n.indexes=Object.assign({},t&&t.indexes||{}),n.fieldsByIndex=Object.assign({},t&&t.fieldsByIndex||{}),n.descriptors=Object.assign({},t&&t.descriptors||{}),n.deprecated=Object.assign({},t&&t.deprecated||{}),n},e.prototype.addField=function(e,t){var n=this.getNextFieldIndex();this.fieldsByIndex[n]=e,this.indexes[e]=n,this.schema[e]=Array.isArray(t)?{array:t[0]}:t},e.prototype.addFilter=function(e,t){return this.filters||(this.filters={},this.indexesWithFilters=[]),this.filters[this.indexes[e]]=t,this.indexesWithFilters.push(this.indexes[e]),!0},e.prototype.addChildrenFilter=function(e,t){var n=this.indexes[e],i=this.schema[e];if(y(Object.keys(i)[0]))return this.childFilters||(this.childFilters={}),this.childFilters[n]=t,!0;console.warn("@filterChildren: field '"+e+"' can't have children. Ignoring filter.")},e.prototype.getChildrenFilter=function(e){return this.childFilters&&this.childFilters[this.indexes[e]]},e.prototype.getNextFieldIndex=function(){return Object.keys(this.schema||{}).length},e}(),m=function(){function e(){this.types={},this.schemas=new Map,this.useFilters=!1}return e.prototype.has=function(e){return this.schemas.has(e)},e.prototype.get=function(e){return this.types[e]},e.prototype.add=function(e,t){void 0===t&&(t=this.schemas.size),e._definition=g.create(e._definition),e._typeid=t,this.types[t]=e,this.schemas.set(e,t)},e.create=function(t){return void 0===t&&(t=new e),function(e){return w(e,t)}},e}(),_=new m;function w(e,t){return void 0===t&&(t=_),function(n,i){var o=n.constructor;o._context=t,t.has(o)||t.add(o);var s=o._definition;if(s.addField(i,e),s.descriptors[i]){if(s.deprecated[i])return;try{throw new Error("@colyseus/schema: Duplicate '"+i+"' definition on '"+o.name+"'.\nCheck @type() annotation")}catch(y){var a=y.stack.split("\n")[4].trim();throw new Error(y.message+" "+a)}}var h=u.is(e),f=!h&&p.is(e);if("string"!=typeof e&&!fe.is(e)){var l=Object.values(e)[0];"string"==typeof l||t.has(l)||t.add(l)}var v="_"+i;s.descriptors[v]={enumerable:!1,configurable:!1,writable:!0},s.descriptors[i]={get:function(){return this[v]},set:function(e){e!==this[v]&&(null!=e?(!h||e instanceof u||(e=new(u.bind.apply(u,r([void 0],e)))),!f||e instanceof p||(e=new p(e)),void 0===e.$proxy&&(f?e=d(e):h&&(e=c(e))),this.$changes.change(i),e.$changes&&e.$changes.setParent(this,this.$changes.root,this._definition.indexes[i])):this.$changes.delete(i),this[v]=e)},enumerable:!0,configurable:!0}}}function A(e,t,n){for(var i=0,r=0,o=n.length;r<o;r++)(i=n.charCodeAt(r))<128?e[t++]=i:i<2048?(e[t++]=192|i>>6,e[t++]=128|63&i):i<55296||i>=57344?(e[t++]=224|i>>12,e[t++]=128|i>>6&63,e[t++]=128|63&i):(r++,i=65536+((1023&i)<<10|1023&n.charCodeAt(r)),e[t++]=240|i>>18,e[t++]=128|i>>12&63,e[t++]=128|i>>6&63,e[t++]=128|63&i)}function $(e,t){e.push(255&t)}function E(e,t){e.push(255&t)}function O(e,t){e.push(255&t),e.push(t>>8&255)}function I(e,t){e.push(255&t),e.push(t>>8&255)}function b(e,t){e.push(255&t),e.push(t>>8&255),e.push(t>>16&255),e.push(t>>24&255)}function x(e,t){var n=t>>24,i=t>>16,r=t>>8,o=t;e.push(255&o),e.push(255&r),e.push(255&i),e.push(255&n)}function R(e,t){var n=Math.floor(t/Math.pow(2,32)),i=t>>>0;x(e,i),x(e,n)}function T(e,t){var n=t/Math.pow(2,32)>>0,i=t>>>0;x(e,i),x(e,n)}var C=new Int32Array(2),P=new Float32Array(C.buffer),S=new Float64Array(C.buffer);function N(e,t){P[0]=t,b(e,C[0])}function D(e,t){S[0]=t,b(e,C[0]),b(e,C[1])}function M(e,t){t||(t="");var n=function(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++)(t=e.charCodeAt(i))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(t),i=0;if(n<32)e.push(160|n),i=1;else if(n<256)e.push(217),E(e,n),i=2;else if(n<65536)e.push(218),I(e,n),i=3;else{if(!(n<4294967296))throw new Error("String too long");e.push(219),x(e,n),i=5}return A(e,e.length,t),i+n}function k(e,t){return isNaN(t)?k(e,0):isFinite(t)?t!==(0|t)?(e.push(203),D(e,t),9):t>=0?t<128?(E(e,t),1):t<256?(e.push(204),E(e,t),2):t<65536?(e.push(205),I(e,t),3):t<4294967296?(e.push(206),x(e,t),5):(e.push(207),T(e,t),9):t>=-32?(e.push(224|t+32),1):t>=-128?(e.push(208),$(e,t),2):t>=-32768?(e.push(209),O(e,t),3):t>=-2147483648?(e.push(210),b(e,t),5):(e.push(211),R(e,t),9):k(e,t>0?Number.MAX_SAFE_INTEGER:-Number.MAX_SAFE_INTEGER)}var j=Object.freeze({__proto__:null,utf8Write:A,int8:$,uint8:E,int16:O,uint16:I,int32:b,uint32:x,int64:R,uint64:T,float32:function(e,t){N(e,t)},float64:function(e,t){D(e,t)},writeFloat32:N,writeFloat64:D,boolean:function(e,t){return E(e,t?1:0)},string:M,number:k});function U(e,t){return L(e,t)<<24>>24}function L(e,t){return e[t.offset++]}function F(e,t){return H(e,t)<<16>>16}function H(e,t){return e[t.offset++]|e[t.offset++]<<8}function B(e,t){return e[t.offset++]|e[t.offset++]<<8|e[t.offset++]<<16|e[t.offset++]<<24}function V(e,t){return B(e,t)>>>0}function z(e,t){var n=V(e,t),i=B(e,t)*Math.pow(2,32);return i+n}function q(e,t){var n=V(e,t),i=V(e,t)*Math.pow(2,32);return i+n}var J=new Int32Array(2),K=new Float32Array(J.buffer),W=new Float64Array(J.buffer);function X(e,t){return J[0]=B(e,t),K[0]}function G(e,t){return J[0]=B(e,t),J[1]=B(e,t),W[0]}function Q(e,t){var n,i=e[t.offset++];i<192?n=31&i:217===i?n=L(e,t):218===i?n=H(e,t):219===i&&(n=V(e,t));var r=function(e,t,n){for(var i="",r=0,o=t,s=t+n;o<s;o++){var a=e[o];0!=(128&a)?192!=(224&a)?224!=(240&a)?240!=(248&a)?console.error("Invalid byte "+a.toString(16)):(r=(7&a)<<18|(63&e[++o])<<12|(63&e[++o])<<6|(63&e[++o])<<0)>=65536?(r-=65536,i+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):i+=String.fromCharCode(r):i+=String.fromCharCode((15&a)<<12|(63&e[++o])<<6|(63&e[++o])<<0):i+=String.fromCharCode((31&a)<<6|63&e[++o]):i+=String.fromCharCode(a)}return i}(e,t.offset,n);return t.offset+=n,r}function Y(e,t){var n=e[t.offset++];return n<128?n:202===n?X(e,t):203===n?G(e,t):204===n?L(e,t):205===n?H(e,t):206===n?V(e,t):207===n?q(e,t):208===n?U(e,t):209===n?F(e,t):210===n?B(e,t):211===n?z(e,t):n>223?-1*(255-n+1):void 0}function Z(e,t){return e[t.offset-1]===s&&(e[t.offset]<128||e[t.offset]>=202&&e[t.offset]<=211)}var ee=Object.freeze({__proto__:null,int8:U,uint8:L,int16:F,uint16:H,int32:B,uint32:V,float32:function(e,t){return X(e,t)},float64:function(e,t){return G(e,t)},int64:z,uint64:q,readFloat32:X,readFloat64:G,boolean:function(e,t){return L(e,t)>0},string:Q,stringCheck:function(e,t){var n=e[t.offset];return n<192&&n>160||217===n||218===n||219===n},number:Y,numberCheck:function(e,t){var n=e[t.offset];return n<128||n>=202&&n<=211},arrayCheck:function(e,t){return e[t.offset]<160},switchStructureCheck:Z}),te=function(){function t(e){var t=this;this.$changes=new h(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.is=function(e){return void 0!==e.collection},t.prototype.add=function(e){var t=this.$refId++,n=void 0!==e.$changes;return n&&e.$changes.setParent(this,this.$changes.root,t),this.$changes.indexes[t]=t,this.$indexes.set(t,t),this.$items.set(t,e),this.$changes.change(t),t},t.prototype.at=function(e){var t=Array.from(this.$items.keys())[e];return this.$items.get(t)},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,i=this.$items.entries();(n=i.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){return Array.from(this.$items.values()).some(function(t){return t===e})},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,i,r){return e(n,i,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),ne=function(){function t(e){var t=this;this.$changes=new h(this),this.$items=new Map,this.$indexes=new Map,this.$refId=0,e&&e.forEach(function(e){return t.add(e)})}return t.is=function(e){return void 0!==e.set},t.prototype.add=function(t){var n,i;if(this.has(t))return!1;var r=this.$refId++;void 0!==t.$changes&&t.$changes.setParent(this,this.$changes.root,r);var o=null!==(i=null===(n=this.$changes.indexes[r])||void 0===n?void 0:n.op)&&void 0!==i?i:e.OPERATION.ADD;return this.$changes.indexes[r]=r,this.$indexes.set(r,r),this.$items.set(r,t),this.$changes.change(r,o),r},t.prototype.entries=function(){return this.$items.entries()},t.prototype.delete=function(e){for(var t,n,i=this.$items.entries();(n=i.next())&&!n.done;)if(e===n.value[1]){t=n.value[0];break}return void 0!==t&&(this.$changes.delete(t),this.$indexes.delete(t),this.$items.delete(t))},t.prototype.clear=function(t){var n=this;this.$changes.discard(!0,!0),this.$changes.indexes={},this.$indexes.clear(),t&&"string"!=typeof this.$changes.getType()&&this.$items.forEach(function(e){n.$changes.root.removeRef(e.$changes.refId)}),this.$items.clear(),this.$changes.operation({index:0,op:e.OPERATION.CLEAR}),this.$changes.touchParents()},t.prototype.has=function(e){for(var t,n=this.$items.values(),i=!1;(t=n.next())&&!t.done;)if(e===t.value){i=!0;break}return i},t.prototype.forEach=function(e){var t=this;this.$items.forEach(function(n,i,r){return e(n,i,t)})},t.prototype.values=function(){return this.$items.values()},Object.defineProperty(t.prototype,"size",{get:function(){return this.$items.size},enumerable:!1,configurable:!0}),t.prototype.setIndex=function(e,t){this.$indexes.set(e,t)},t.prototype.getIndex=function(e){return this.$indexes.get(e)},t.prototype.getByIndex=function(e){return this.$items.get(this.$indexes.get(e))},t.prototype.deleteByIndex=function(e){var t=this.$indexes.get(e);this.$items.delete(t),this.$indexes.delete(e)},t.prototype.toArray=function(){return Array.from(this.$items.values())},t.prototype.toJSON=function(){var e=[];return this.forEach(function(t,n){e.push("function"==typeof t.toJSON?t.toJSON():t)}),e},t.prototype.clone=function(e){var n;return e?n=Object.assign(new t,this):(n=new t,this.forEach(function(e){e.$changes?n.add(e.clone()):n.add(e)})),n},t.prototype.triggerAll=function(){fe.prototype.triggerAll.apply(this)},t}(),ie=function(){function e(){this.handlers=[]}return e.prototype.register=function(e,t){return this.handlers.push(e),this},e.prototype.invoke=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.handlers.forEach(function(t){return t.apply(void 0,e)})},e.prototype.invokeAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Promise.all(this.handlers.map(function(t){return t.apply(void 0,e)}))},e.prototype.remove=function(e){var t=this.handlers.indexOf(e);this.handlers[t]=this.handlers[this.handlers.length-1],this.handlers.pop()},e.prototype.clear=function(){this.handlers=[]},e}(),re=function(){function e(){this.refIds=new WeakSet,this.containerIndexes=new WeakMap}return e.prototype.addRefId=function(e){this.refIds.has(e)||(this.refIds.add(e),this.containerIndexes.set(e,new Set))},e.get=function(t){return void 0===t.$filterState&&(t.$filterState=new e),t.$filterState},e}(),oe=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(Error);function se(e,t,n,i){if(!(e instanceof t))throw new oe("a '"+t.name+"' was expected, but '"+e.constructor.name+"' was provided in "+n.constructor.name+"#"+i)}function ae(e,t,n,i,r){!function(e,t,n,i){var r,o=!1;switch(t){case"number":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":case"int64":case"uint64":case"float32":case"float64":r="number",isNaN(e)&&console.log('trying to encode "NaN" in '+n.constructor.name+"#"+i);break;case"string":r="string",o=!0;break;case"boolean":return}if(typeof e!==r&&(!o||o&&null!==e)){var s="'"+JSON.stringify(e)+"'"+(e&&e.constructor&&" ("+e.constructor.name+")"||"");throw new oe("a '"+r+"' was expected, but "+s+" was provided in "+n.constructor.name+"#"+i)}}(n,e,i,r);var o=j[e];if(!o)throw new oe("a '"+e+"' was expected, but "+n+" was provided in "+i.constructor.name+"#"+r);o(t,n)}function he(e,t,n){return ee[e](t,n)}var fe=function(){function t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];Object.defineProperties(this,{$changes:{value:new h(this,void 0,new a),enumerable:!1,writable:!0},$listeners:{value:{},enumerable:!1,writable:!0}});var n=this._definition.descriptors;n&&Object.defineProperties(this,n),e[0]&&this.assign(e[0])}return t.onError=function(e){console.error(e)},t.is=function(e){return e._definition&&void 0!==e._definition.schema},t.prototype.assign=function(e){return Object.assign(this,e),this},Object.defineProperty(t.prototype,"_definition",{get:function(){return this.constructor._definition},enumerable:!1,configurable:!0}),t.prototype.listen=function(e,t){var n=this;return this.$listeners[e]||(this.$listeners[e]=new ie),this.$listeners[e].register(t),function(){return n.$listeners[e].remove(t)}},t.prototype.decode=function(n,i,r,o){void 0===i&&(i={offset:0}),void 0===r&&(r=this),void 0===o&&(o=new Map);var a=this.$changes.root,h=n.length,f=0,c=[];for(a.refs.set(f,this),o.set(f,c);i.offset<h;){var d=n[i.offset++];if(d!=s){var l=r.$changes,v=void 0!==r._definition,g=v?d>>6<<6:d;if(g!==e.OPERATION.CLEAR){var m=v?d%(g||255):Y(n,i),_=v?r._definition.fieldsByIndex[m]:"",w=l.getType(m),A=void 0,$=void 0,E=void 0;if(v?$=r["_"+_]:($=r.getByIndex(m),(g&e.OPERATION.ADD)===e.OPERATION.ADD?(E=r instanceof p?Q(n,i):m,r.setIndex(m,E)):E=r.getIndex(m)),(g&e.OPERATION.DELETE)===e.OPERATION.DELETE&&(g!==e.OPERATION.DELETE_AND_ADD&&r.deleteByIndex(m),$&&$.$changes&&a.removeRef($.$changes.refId),A=null),void 0!==_){if(g===e.OPERATION.DELETE);else if(t.is(w)){var O=Y(n,i);if(A=a.refs.get(O),g!==e.OPERATION.REPLACE){var I=this.getSchemaType(n,i,w);A||((A=this.createTypeInstance(I)).$changes.refId=O,$&&(A.onChange=$.onChange,A.onRemove=$.onRemove,A.$listeners=$.$listeners,$.$changes.refId&&O!==$.$changes.refId&&a.removeRef($.$changes.refId))),a.addRef(O,A,A!==$)}}else if("string"==typeof w)A=he(w,n,i);else{var b=y(Object.keys(w)[0]),x=Y(n,i),R=a.refs.has(x)?$||a.refs.get(x):new b.constructor;if((A=R.clone(!0)).$changes.refId=x,$&&(A.onAdd=$.onAdd,A.onRemove=$.onRemove,A.onChange=$.onChange,$.$changes.refId&&x!==$.$changes.refId)){a.removeRef($.$changes.refId);for(var T=[],C=$.entries(),P=void 0;(P=C.next())&&!P.done;){var S=P.value,N=S[0],D=S[1];T.push({op:e.OPERATION.DELETE,field:N,value:void 0,previousValue:D})}o.set($.$changes.refId,T)}a.addRef(x,A,R!==$),b.getProxy&&(A=b.getProxy(A))}var M=$!==A;if(null!=A)if(A.$changes&&A.$changes.setParent(l.ref,l.root,m),r instanceof t)r[_]=A;else if(r instanceof p){var N=E;r.$items.set(N,A)}else if(r instanceof u)r.setAt(m,A);else if(r instanceof te){var k=r.add(A);r.setIndex(m,k)}else if(r instanceof ne){var k=r.add(A);!1!==k&&r.setIndex(m,k)}M&&c.push({op:g,field:_,dynamicIndex:E,value:A,previousValue:$})}else{console.warn("@colyseus/schema: definition mismatch");for(var j={offset:i.offset};i.offset<h&&(!Z(n,i)||(j.offset=i.offset+1,!a.refs.has(Y(n,j))));)i.offset++}}else r.clear(!0)}else{f=Y(n,i);var U=a.refs.get(f);if(!U)throw new Error('"refId" not found: '+f);r=U,c=[],o.set(f,c)}}return this._triggerChanges(o),a.garbageCollectDeletedRefs(),o},t.prototype.encode=function(n,i,r){void 0===n&&(n=!1),void 0===i&&(i=[]),void 0===r&&(r=!1);for(var o=this.$changes,a=new WeakSet,h=[o],f=1,c=0;c<f;c++){var u=h[c],d=u.ref,l=d instanceof t;u.ensureRefId(),a.add(u),u!==o&&(u.changed||n)&&(E(i,s),k(i,u.refId));for(var v=n?Array.from(u.allChanges):Array.from(u.changes.values()),g=0,m=v.length;g<m;g++){var _=n?{op:e.OPERATION.ADD,index:v[g]}:v[g],w=_.index,A=l?d._definition.fieldsByIndex&&d._definition.fieldsByIndex[w]:w,$=i.length;if(_.op!==e.OPERATION.TOUCH)if(l)E(i,w|_.op);else{if(E(i,_.op),_.op===e.OPERATION.CLEAR)continue;k(i,w)}if(!l&&(_.op&e.OPERATION.ADD)==e.OPERATION.ADD&&d instanceof p){var O=u.ref.$indexes.get(w);M(i,O)}if(_.op!==e.OPERATION.DELETE){var I=u.getType(w),b=u.getValue(w);if(b&&b.$changes&&!a.has(b.$changes)&&(h.push(b.$changes),b.$changes.ensureRefId(),f++),_.op!==e.OPERATION.TOUCH){if(t.is(I))se(b,I,d,A),k(i,b.$changes.refId),(_.op&e.OPERATION.ADD)===e.OPERATION.ADD&&this.tryEncodeTypeId(i,I,b.constructor);else if("string"==typeof I)ae(I,i,b,d,A);else{var x=y(Object.keys(I)[0]);se(d["_"+A],x.constructor,d,A),k(i,b.$changes.refId)}r&&u.cache(w,i.slice($))}}}n||r||u.discard()}return i},t.prototype.encodeAll=function(e){return this.encode(!0,[],e)},t.prototype.applyFilters=function(n,i){var r,o;void 0===i&&(i=!1);for(var a=this,h=new Set,f=re.get(n),c=[this.$changes],u=1,d=[],l=function(l){var v=c[l];if(h.has(v.refId))return"continue";var y=v.ref,g=y instanceof t;E(d,s),k(d,v.refId);var m=f.refIds.has(v),_=i||!m;f.addRefId(v);var w=f.containerIndexes.get(v),A=_?Array.from(v.allChanges):Array.from(v.changes.values());if(!i&&g&&y._definition.indexesWithFilters){var $=y._definition.indexesWithFilters;$.forEach(function(t){!w.has(t)&&v.allChanges.has(t)&&(_?A.push(t):A.push({op:e.OPERATION.ADD,index:t}))})}for(var O=0,I=A.length;O<I;O++){var b=_?{op:e.OPERATION.ADD,index:A[O]}:A[O];if(b.op!==e.OPERATION.CLEAR){var x=b.index;if(b.op!==e.OPERATION.DELETE){var R=v.getValue(x),T=v.getType(x);if(g){var C=y._definition.filters&&y._definition.filters[x];if(C&&!C.call(y,n,R,a)){R&&R.$changes&&h.add(R.$changes.refId);continue}}else{var P=v.parent,C=v.getChildrenFilter();if(C&&!C.call(P,n,y.$indexes.get(x),R,a)){R&&R.$changes&&h.add(R.$changes.refId);continue}}if(R.$changes&&(c.push(R.$changes),u++),b.op!==e.OPERATION.TOUCH)if(b.op===e.OPERATION.ADD||g)d.push.apply(d,null!==(r=v.caches[x])&&void 0!==r?r:[]),w.add(x);else if(w.has(x))d.push.apply(d,null!==(o=v.caches[x])&&void 0!==o?o:[]);else{if(w.add(x),E(d,e.OPERATION.ADD),k(d,x),y instanceof p){var S=v.ref.$indexes.get(x);M(d,S)}R.$changes?k(d,R.$changes.refId):j[T](d,R)}else if(R.$changes&&!g){if(E(d,e.OPERATION.ADD),k(d,x),y instanceof p){var S=v.ref.$indexes.get(x);M(d,S)}k(d,R.$changes.refId)}}else g?E(d,b.op|x):(E(d,b.op),k(d,x))}else E(d,b.op)}},v=0;v<u;v++)l(v);return d},t.prototype.clone=function(){var e=new this.constructor,t=this._definition.schema;for(var n in t)"object"==typeof this[n]&&"function"==typeof this[n].clone?e[n]=this[n].clone():e[n]=this[n];return e},t.prototype.triggerAll=function(){if(0!==this.$changes.root.refs.size){var e=new Map;t.prototype._triggerAllFillChanges.call(this,this,e);try{t.prototype._triggerChanges.call(this,e)}catch(n){t.onError(n)}}},t.prototype.toJSON=function(){var e=this._definition.schema,t=this._definition.deprecated,n={};for(var i in e)t[i]||null===this[i]||void 0===this[i]||(n[i]="function"==typeof this[i].toJSON?this[i].toJSON():this["_"+i]);return n},t.prototype.discardAllChanges=function(){this.$changes.discardAll()},t.prototype.getByIndex=function(e){return this[this._definition.fieldsByIndex[e]]},t.prototype.deleteByIndex=function(e){this[this._definition.fieldsByIndex[e]]=void 0},t.prototype.tryEncodeTypeId=function(e,t,n){t._typeid!==n._typeid&&(E(e,213),k(e,n._typeid))},t.prototype.getSchemaType=function(e,t,n){var i;return 213===e[t.offset]&&(t.offset++,i=this.constructor._context.get(Y(e,t))),i||n},t.prototype.createTypeInstance=function(e){var t=new e;return t.$changes.root=this.$changes.root,t},t.prototype._triggerAllFillChanges=function(n,i){if(!i.has(n.$changes.refId)){var r=[];if(i.set(n.$changes.refId||0,r),n instanceof t){var o=n._definition.schema;for(var s in o){var a="_"+s,h=n[a];void 0!==h&&(r.push({op:e.OPERATION.ADD,field:s,value:h,previousValue:void 0}),void 0!==h.$changes&&t.prototype._triggerAllFillChanges.call(this,h,i))}}else for(var f=n.entries(),c=void 0;(c=f.next())&&!c.done;){var u=c.value,d=u[0],h=u[1];r.push({op:e.OPERATION.ADD,field:d,dynamicIndex:d,value:h,previousValue:void 0}),void 0!==h.$changes&&t.prototype._triggerAllFillChanges.call(this,h,i)}}},t.prototype._triggerChanges=function(n){var i=this;n.forEach(function(n,r){var o,s,a,h,f,c,u,d,p,l,v,y;if(n.length>0){for(var g=i.$changes.root.refs.get(r),m=g instanceof t,_=0;_<n.length;_++){var w=n[_],A=g.$listeners&&g.$listeners[w.field];if(m||(w.op===e.OPERATION.ADD&&void 0===w.previousValue?null===(s=(o=g).onAdd)||void 0===s||s.call(o,w.value,null!==(a=w.dynamicIndex)&&void 0!==a?a:w.field):w.op===e.OPERATION.DELETE?void 0!==w.previousValue&&(null===(f=(h=g).onRemove)||void 0===f||f.call(h,w.previousValue,null!==(c=w.dynamicIndex)&&void 0!==c?c:w.field)):w.op===e.OPERATION.DELETE_AND_ADD?(void 0!==w.previousValue&&(null===(d=(u=g).onRemove)||void 0===d||d.call(u,w.previousValue,w.dynamicIndex)),null===(l=(p=g).onAdd)||void 0===l||l.call(p,w.value,w.dynamicIndex)):w.op!==e.OPERATION.REPLACE&&w.value===w.previousValue||null===(y=(v=g).onChange)||void 0===y||y.call(v,w.value,w.dynamicIndex)),(w.op&e.OPERATION.DELETE)===e.OPERATION.DELETE&&w.previousValue instanceof t&&w.previousValue.onRemove&&w.previousValue.onRemove(),A)try{A.invoke(w.value,w.previousValue)}catch($){t.onError($)}}if(m&&g.onChange)try{g.onChange(n)}catch($){t.onError($)}}})},t._definition=g.create(),t}(),ce=new m,ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),i([w("string",ce)],t.prototype,"name",void 0),i([w("string",ce)],t.prototype,"type",void 0),i([w("number",ce)],t.prototype,"referencedType",void 0),t}(fe),de=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.fields=new u,t}return n(t,e),i([w("number",ce)],t.prototype,"id",void 0),i([w([ue],ce)],t.prototype,"fields",void 0),t}(fe),pe=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.types=new u,t}return n(t,e),t.encode=function(e){var n=e.constructor,i=new t;i.rootType=n._typeid;var r=function(e,t){for(var n in t){var r=new ue;r.name=n;var o=void 0;if("string"==typeof t[n])o=t[n];else{var s=t[n],a=void 0;fe.is(s)?(o="ref",a=t[n]):(o=Object.keys(s)[0],"string"==typeof s[o]?o+=":"+s[o]:a=s[o]),r.referencedType=a?a._typeid:-1}r.type=o,e.fields.push(r)}i.types.push(e)},o=n._context.types;for(var s in o){var a=new de;a.id=Number(s),r(a,o[s]._definition.schema)}return i.encodeAll()},t.decode=function(e,i){var r=new m,o=new t;o.decode(e,i);var s=o.types.reduce(function(e,t){var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return n(t,e),t}(fe),o=t.id;return e[o]=i,r.add(i,o),e},{});o.types.forEach(function(e){var t=s[e.id];e.fields.forEach(function(e){var n;if(void 0!==e.referencedType){var i=e.type,o=s[e.referencedType];if(!o){var a=e.type.split(":");i=a[0],o=a[1]}"ref"===i?w(o,r)(t.prototype,e.name):w(((n={})[i]=o,n),r)(t.prototype,e.name)}else w(e.type,r)(t.prototype,e.name)})});var a=s[o.rootType],h=new a;for(var f in a._definition.schema){var c=a._definition.schema[f];"string"!=typeof c&&(h[f]="function"==typeof c?new c:new(y(Object.keys(c)[0]).constructor))}return h},i([w([de],ce)],t.prototype,"types",void 0),i([w("number",ce)],t.prototype,"rootType",void 0),t}(fe);v("map",{constructor:p,getProxy:d}),v("array",{constructor:u,getProxy:c}),v("set",{constructor:ne}),v("collection",{constructor:te}),e.ArraySchema=u,e.CollectionSchema=te,e.Context=m,e.MapSchema=p,e.Reflection=pe,e.ReflectionField=ue,e.ReflectionType=de,e.Schema=fe,e.SchemaDefinition=g,e.SetSchema=ne,e.decode=ee,e.defineTypes=function(e,t,n){for(var i in void 0===n&&(n=e._context||_),t)w(t[i],n)(e.prototype,i);return e},e.deprecated=function(e,t){return void 0===e&&(e=!0),function(t,n){var i=t.constructor,r=i._definition;r.deprecated[n]=!0,e&&(r.descriptors[n]={get:function(){throw new Error(n+" is deprecated.")},set:function(e){},enumerable:!1,configurable:!0})}},e.dumpChanges=function(e){for(var t=[e.$changes],n={},i=n,r=function(e){var n=t[e];n.changes.forEach(function(e){var t=n.ref,r=e.index,o=t._definition?t._definition.fieldsByIndex[r]:t.$indexes.get(r);i[o]=n.getValue(r)})},o=0;o<1;o++)r(o);return n},e.encode=j,e.filter=function(e){return function(t,n){var i=t.constructor,r=i._definition;r.addFilter(n,e)&&(i._context.useFilters=!0)}},e.filterChildren=function(e){return function(t,n){var i=t.constructor,r=i._definition;r.addChildrenFilter(n,e)&&(i._context.useFilters=!0)}},e.hasFilter=function(e){return e._context&&e._context.useFilters},e.registerType=v,e.type=w,Object.defineProperty(e,"__esModule",{value:!0})}(t)}(D={exports:{}},D.exports),D.exports),j=function(){function t(e,t){var n=this;this.onStateChange=N(),this.onError=N(),this.onLeave=N(),this.onJoin=N(),this.hasJoined=!1,this.onMessageHandlers=P(),this.id=null,this.name=e,t&&(this.serializer=new(C("schema")),this.rootSchema=t,this.serializer.state=new t),this.onError(function(e,t){return console.warn("colyseus.js - onError => ("+e+") "+t)}),this.onLeave(function(){return n.removeAllListeners()})}return t.prototype.connect=function(e){var t=this;this.connection=new x,this.connection.events.onmessage=this.onMessageCallback.bind(this),this.connection.events.onclose=function(e){if(!t.hasJoined)return console.warn("Room connection was closed unexpectedly ("+e.code+"): "+e.reason),void t.onError.invoke(e.code,e.reason);t.onLeave.invoke(e.code),t.destroy()},this.connection.events.onerror=function(e){console.warn("Room, onError ("+e.code+"): "+e.reason),t.onError.invoke(e.code,e.reason)},this.connection.connect(e)},t.prototype.leave=function(t){var n=this;return void 0===t&&(t=!0),new Promise(function(i){n.onLeave(function(e){return i(e)}),n.connection?t?n.connection.send([e.Protocol.LEAVE_ROOM]):n.connection.close():n.onLeave.invoke(4e3)})},t.prototype.onMessage=function(e,t){return this.onMessageHandlers.on(this.getMessageHandlerKey(e),t)},t.prototype.send=function(t,n){var i,r=[e.Protocol.ROOM_DATA];if("string"==typeof t?k.encode.string(r,t):k.encode.number(r,t),void 0!==n){var o=$(n);(i=new Uint8Array(r.length+o.byteLength)).set(new Uint8Array(r),0),i.set(new Uint8Array(o),r.length)}else i=new Uint8Array(r);this.connection.send(i.buffer)},Object.defineProperty(t.prototype,"state",{get:function(){return this.serializer.getState()},enumerable:!1,configurable:!0}),t.prototype.removeAllListeners=function(){this.onJoin.clear(),this.onStateChange.clear(),this.onError.clear(),this.onLeave.clear(),this.onMessageHandlers.events={}},t.prototype.onMessageCallback=function(t){var n=Array.from(new Uint8Array(t.data)),i=n[0];if(i===e.Protocol.JOIN_ROOM){var r=1;if(this.serializerId=function(e,t){for(var n=e[t++],i="",r=0,o=t,s=t+n;o<s;o++){var a=e[o];if(0!=(128&a))if(192!=(224&a))if(224!=(240&a)){if(240!=(248&a))throw new Error("Invalid byte "+a.toString(16));(r=(7&a)<<18|(63&e[++o])<<12|(63&e[++o])<<6|(63&e[++o])<<0)>=65536?(r-=65536,i+=String.fromCharCode(55296+(r>>>10),56320+(1023&r))):i+=String.fromCharCode(r)}else i+=String.fromCharCode((15&a)<<12|(63&e[++o])<<6|(63&e[++o])<<0);else i+=String.fromCharCode((31&a)<<6|63&e[++o]);else i+=String.fromCharCode(a)}return i}(n,r),r+=function(e){void 0===e&&(e="");for(var t=0,n=0,i=0,r=e.length;i<r;i++)(t=e.charCodeAt(i))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n+1}(this.serializerId),!this.serializer){var o=C(this.serializerId);this.serializer=new o}n.length>r&&this.serializer.handshake&&this.serializer.handshake(n,{offset:r}),this.hasJoined=!0,this.onJoin.invoke(),this.connection.send([e.Protocol.JOIN_ROOM])}else if(i===e.Protocol.ERROR){var s={offset:1},a=k.decode.number(n,s),h=k.decode.string(n,s);this.onError.invoke(a,h)}else if(i===e.Protocol.LEAVE_ROOM)this.leave();else if(i===e.Protocol.ROOM_DATA_SCHEMA){var f={offset:1};(h=new(u=this.serializer.getState().constructor._context.get(k.decode.number(n,f)))).decode(n,f),this.dispatchMessage(u,h)}else if(i===e.Protocol.ROOM_STATE)n.shift(),this.setState(n);else if(i===e.Protocol.ROOM_STATE_PATCH)n.shift(),this.patch(n);else if(i===e.Protocol.ROOM_DATA){var c={offset:1},u=k.decode.stringCheck(n,c)?k.decode.string(n,c):k.decode.number(n,c);h=n.length>c.offset?function(e,t){void 0===t&&(t=0);var n=new w(e,t),i=n._parse();if(n._offset!==e.byteLength)throw new Error(e.byteLength-n._offset+" trailing bytes");return i}(t.data,c.offset):void 0;this.dispatchMessage(u,h)}},t.prototype.setState=function(e){this.serializer.setState(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.patch=function(e){this.serializer.patch(e),this.onStateChange.invoke(this.serializer.getState())},t.prototype.dispatchMessage=function(e,t){var n=this.getMessageHandlerKey(e);this.onMessageHandlers.events[n]?this.onMessageHandlers.emit(n,t):this.onMessageHandlers.events["*"]?this.onMessageHandlers.emit("*",e,t):console.warn("colyseus.js: onMessage() not registered for type '"+e+"'.")},t.prototype.destroy=function(){this.serializer&&this.serializer.teardown()},t.prototype.getMessageHandlerKey=function(e){switch(typeof e){case"function":return"$"+e._typeid;case"string":return e;case"number":return"i"+e;default:throw new Error("invalid message type.")}},t}();function U(){return M||(M="undefined"!=typeof cc&&cc.sys&&cc.sys.localStorage?cc.sys.localStorage:"undefined"!=typeof window&&window.localStorage?window.localStorage:{cache:{},setItem:function(e,t){this.cache[e]=t},getItem:function(e){this.cache[e]},removeItem:function(e){delete this.cache[e]}}),M}var L,F="colyseus-auth-token";e.Platform=void 0,(L=e.Platform||(e.Platform={})).ios="ios",L.android="android";var H,B=function(){function e(e){var t,n,i,r=this;this._id=void 0,this.username=void 0,this.displayName=void 0,this.avatarUrl=void 0,this.isAnonymous=void 0,this.email=void 0,this.lang=void 0,this.location=void 0,this.timezone=void 0,this.metadata=void 0,this.devices=void 0,this.facebookId=void 0,this.twitterId=void 0,this.googleId=void 0,this.gameCenterId=void 0,this.steamId=void 0,this.friendIds=void 0,this.blockedUserIds=void 0,this.createdAt=void 0,this.updatedAt=void 0,this.token=void 0,this.endpoint=e.replace("ws","http"),t=F,n=function(e){return r.token=e},i=U().getItem(t),"undefined"!=typeof Promise&&i instanceof Promise?i.then(function(e){return n(e)}):n(i)}return Object.defineProperty(e.prototype,"hasToken",{get:function(){return!!this.token},enumerable:!1,configurable:!0}),e.prototype.login=function(e){return void 0===e&&(e={}),r(this,void 0,void 0,function(){var t,n,i;return o(this,function(r){switch(r.label){case 0:return t=Object.assign({},e),this.hasToken&&(t.token=this.token),[4,this.request("post","/auth",t)];case 1:for(i in n=r.sent(),this.token=n.token,o=F,s=this.token,U().setItem(o,s),n)this.hasOwnProperty(i)&&(this[i]=n[i]);return this.registerPingService(),[2,this]}var o,s})})},e.prototype.save=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.request("put","/auth",{},{username:this.username,displayName:this.displayName,avatarUrl:this.avatarUrl,lang:this.lang,location:this.location,timezone:this.timezone})];case 1:return e.sent(),[2,this]}})})},e.prototype.getFriends=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/all")];case 1:return[2,e.sent()]}})})},e.prototype.getOnlineFriends=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/online")];case 1:return[2,e.sent()]}})})},e.prototype.getFriendRequests=function(){return r(this,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,this.request("get","/friends/requests")];case 1:return[2,e.sent()]}})})},e.prototype.sendFriendRequest=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.acceptFriendRequest=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.declineFriendRequest=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.request("del","/friends/requests",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.blockUser=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.request("post","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.unblockUser=function(e){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:return[4,this.request("put","/friends/block",{userId:e})];case 1:return[2,t.sent()]}})})},e.prototype.request=function(e,t,n,i,s){return void 0===n&&(n={}),void 0===s&&(s={}),r(this,void 0,void 0,function(){var r,a,h,f;return o(this,function(o){switch(o.label){case 0:for(a in s.Accept="application/json",this.hasToken&&(s.Authorization="Bearer "+this.token),r=[],n)r.push(a+"="+n[a]);return h=r.length>0?"?"+r.join("&"):"",f={headers:s},i&&(f.body=i),[4,m[e](""+this.endpoint+t+h,f)];case 1:return[2,o.sent().data]}})})},e.prototype.logout=function(){var e;this.token=void 0,e=F,U().removeItem(e),this.unregisterPingService()},e.prototype.registerPingService=function(e){var t=this;void 0===e&&(e=15e3),this.unregisterPingService(),this.keepOnlineInterval=setInterval(function(){return t.request("get","/auth")},e)},e.prototype.unregisterPingService=function(){clearInterval(this.keepOnlineInterval)},e}(),V=function(e){function t(n,i){var r=e.call(this,n)||this;return r.code=i,Object.setPrototypeOf(r,t.prototype),r}return i(t,e),t}(Error),z="undefined"!=typeof window&&void 0!==(null===(H=null===window||void 0===window?void 0:window.location)||void 0===H?void 0:H.hostname)?window.location.protocol.replace("http","ws")+"//"+window.location.hostname+(window.location.port&&":"+window.location.port):"ws://127.0.0.1:2567",q=function(){function e(e){void 0===e&&(e=z),this.endpoint=e}return Object.defineProperty(e.prototype,"auth",{get:function(){return this._auth||(this._auth=new B(this.endpoint)),this._auth},enumerable:!1,configurable:!0}),e.prototype.joinOrCreate=function(e,t,n){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,this.createMatchMakeRequest("joinOrCreate",e,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.create=function(e,t,n){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,this.createMatchMakeRequest("create",e,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.join=function(e,t,n){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,this.createMatchMakeRequest("join",e,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.joinById=function(e,t,n){return void 0===t&&(t={}),r(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,t,n)];case 1:return[2,i.sent()]}})})},e.prototype.reconnect=function(e,t,n){return r(this,void 0,void 0,function(){return o(this,function(i){switch(i.label){case 0:return[4,this.createMatchMakeRequest("joinById",e,{sessionId:t},n)];case 1:return[2,i.sent()]}})})},e.prototype.getAvailableRooms=function(e){return void 0===e&&(e=""),r(this,void 0,void 0,function(){var t;return o(this,function(n){switch(n.label){case 0:return t=this.endpoint.replace("ws","http")+"/matchmake/"+e,[4,d(t,{headers:{Accept:"application/json"}})];case 1:return[2,n.sent().data]}})})},e.prototype.consumeSeatReservation=function(e,t){return r(this,void 0,void 0,function(){var n;return o(this,function(i){return(n=this.createRoom(e.room.name,t)).id=e.room.roomId,n.sessionId=e.sessionId,n.connect(this.buildEndpoint(e.room,{sessionId:n.sessionId})),[2,new Promise(function(e,t){var i=function(e,n){return t(new _(e,n))};n.onError.once(i),n.onJoin.once(function(){n.onError.remove(i),e(n)})})]})})},e.prototype.createMatchMakeRequest=function(e,t,n,i){return void 0===n&&(n={}),r(this,void 0,void 0,function(){var r,s;return o(this,function(o){switch(o.label){case 0:return r=this.endpoint.replace("ws","http")+"/matchmake/"+e+"/"+t,this._auth&&this._auth.hasToken&&(n.token=this._auth.token),[4,l(r,{headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)})];case 1:if((s=o.sent().data).error)throw new V(s.error,s.code);return[2,this.consumeSeatReservation(s,i)]}})})},e.prototype.createRoom=function(e,t){return new j(e,t)},e.prototype.buildEndpoint=function(e,t){void 0===t&&(t={});var n=[];for(var i in t)t.hasOwnProperty(i)&&n.push(i+"="+t[i]);return this.endpoint+"/"+e.processId+"/"+e.roomId+"?"+n.join("&")},e}(),J=function(){function e(){}return e.prototype.setState=function(e){this.state.decode(e)},e.prototype.getState=function(){return this.state},e.prototype.patch=function(e){this.state.decode(e)},e.prototype.teardown=function(){var e,t;null===(t=null===(e=this.state)||void 0===e?void 0:e.$changes)||void 0===t||t.root.clearRefs()},e.prototype.handshake=function(e,t){this.state?(new k.Reflection).decode(e,t):this.state=k.Reflection.decode(e,t)},e}(),K=function(){function e(){}return e.prototype.setState=function(e){},e.prototype.getState=function(){return null},e.prototype.patch=function(e){},e.prototype.teardown=function(){},e.prototype.handshake=function(e){},e}();T("schema",J),T("none",K),e.Auth=B,e.Client=q,e.Room=j,e.SchemaSerializer=J,e.registerSerializer=T,Object.defineProperty(e,"__esModule",{value:!0})});
},{}],"PuRK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.client=void 0;var n=require("colyseus.js"),o=a(),t=r(),c=s(),e=l(),i=c?"".concat(t,"://").concat(o,":").concat(c).concat(e):"".concat(t,"://").concat(o).concat(e);function a(){return window.location.hostname}function r(){return"http:"===window.location.protocol?"ws":"wss"}function s(){return window.location.port}function l(){return window.location.pathname.substring(0,location.pathname.lastIndexOf("/"))}console.log("endpoint",i),exports.client=new n.Client(i);
},{"colyseus.js":"dP8p"}],"Zerw":[function(require,module,exports) {
"use strict";function e(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isBrowserBundle=e;
},{}],"pBGv":[function(require,module,exports) {

var t,e,n=module.exports={};function r(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function i(e){if(t===setTimeout)return setTimeout(e,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}function u(t){if(e===clearTimeout)return clearTimeout(t);if((e===o||!e)&&clearTimeout)return e=clearTimeout,clearTimeout(t);try{return e(t)}catch(n){try{return e.call(null,t)}catch(n){return e.call(this,t)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:r}catch(n){t=r}try{e="function"==typeof clearTimeout?clearTimeout:o}catch(n){e=o}}();var c,s=[],l=!1,a=-1;function f(){l&&c&&(l=!1,c.length?s=c.concat(s):a=-1,s.length&&h())}function h(){if(!l){var t=i(f);l=!0;for(var e=s.length;e;){for(c=s,s=[];++a<e;)c&&c[a].run();a=-1,e=s.length}c=null,l=!1,u(t)}}function m(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];s.push(new m(t,e)),1!==s.length||l||i(h)},m.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0};
},{}],"LRch":[function(require,module,exports) {
var process = require("process");
var e=require("process");Object.defineProperty(exports,"__esModule",{value:!0}),exports.dynamicRequire=t,exports.isNodeEnv=o,exports.loadModule=u;var r=require("./env.js");function o(){return!(0,r.isBrowserBundle)()&&"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)}function t(e,r){return e.require(r)}function u(e){let r;try{r=t(module,e)}catch(o){}try{const{cwd:u}=t(module,"process");r=t(module,`${u()}/node_modules/${e}`)}catch(o){}return r}
},{"./env.js":"Zerw","process":"pBGv"}],"C01w":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.getGlobalObject=t,exports.getGlobalSingleton=r;var n=require("./node.js"),o={};function t(){return(0,n.isNodeEnv)()?e:"undefined"!=typeof window?window:"undefined"!=typeof self?self:o}function r(e,n,o){var r=o||t(),d=r.__SENTRY__=r.__SENTRY__||{};return d[e]||(d[e]=n())}
},{"./node.js":"LRch"}],"cixp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isDOMError=o,exports.isDOMException=i,exports.isElement=f,exports.isError=e,exports.isErrorEvent=r,exports.isEvent=p,exports.isInstanceOf=v,exports.isNaN=l,exports.isPlainObject=s,exports.isPrimitive=c,exports.isRegExp=E,exports.isString=u,exports.isSyntheticEvent=a,exports.isThenable=x;var t=Object.prototype.toString;function e(e){switch(t.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return v(e,Error)}}function n(e,n){return t.call(e)===`[object ${n}]`}function r(t){return n(t,"ErrorEvent")}function o(t){return n(t,"DOMError")}function i(t){return n(t,"DOMException")}function u(t){return n(t,"String")}function c(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function s(t){return n(t,"Object")}function p(t){return"undefined"!=typeof Event&&v(t,Event)}function f(t){return"undefined"!=typeof Element&&v(t,Element)}function E(t){return n(t,"RegExp")}function x(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function a(t){return s(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function l(t){return"number"==typeof t&&t!=t}function v(t,e){try{return t instanceof e}catch(n){return!1}}
},{}],"wNCt":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLocationHref=a,exports.htmlTreeAsString=n;var t=require("./global.js"),r=require("./is.js");function n(e,t){try{let u=e;var r=[];let i=0,o=0;var n=" > ".length;let s;for(;u&&i++<5&&!("html"===(s=l(u,t))||i>1&&o+r.length*n+s.length>=80);)r.push(s),o+=s.length,u=u.parentNode;return r.reverse().join(" > ")}catch(a){return"<unknown>"}}function l(e,t){var n=e,l=[];let a,u,i,o,s;if(!n||!n.tagName)return"";l.push(n.tagName.toLowerCase());var h=t&&t.length?t.filter(e=>n.getAttribute(e)).map(e=>[e,n.getAttribute(e)]):null;if(h&&h.length)h.forEach(e=>{l.push(`[${e[0]}="${e[1]}"]`)});else if(n.id&&l.push(`#${n.id}`),(a=n.className)&&(0,r.isString)(a))for(u=a.split(/\s+/),s=0;s<u.length;s++)l.push(`.${u[s]}`);var g=["type","name","title","alt"];for(s=0;s<g.length;s++)i=g[s],(o=n.getAttribute(i))&&l.push(`[${i}="${o}"]`);return l.join("")}function a(){var e=(0,t.getGlobalObject)();try{return e.document.location.href}catch(r){return""}}
},{"./global.js":"C01w","./is.js":"cixp"}],"IhUY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SentryError=void 0;class e extends Error{constructor(e){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype)}}exports.SentryError=e;
},{}],"au1D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dsnFromString=e,exports.dsnToString=n,exports.makeDsn=i;var r=require("./error.js"),t=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function o(r){return"http"===r||"https"===r}function n(r,t=!1){const{host:o,path:n,pass:e,port:p,projectId:s,protocol:i,publicKey:c}=r;return`${i}://${c}${t&&e?`:${e}`:""}`+`@${o}${p?`:${p}`:""}/${n?`${n}/`:n}${s}`}function e(o){var n=t.exec(o);if(!n)throw new r.SentryError(`Invalid Sentry Dsn: ${o}`);const[e,s,i="",c,a="",l]=n.slice(1);let d="",u=l;var h=u.split("/");if(h.length>1&&(d=h.slice(0,-1).join("/"),u=h.pop()),u){var f=u.match(/^\d+/);f&&(u=f[0])}return p({host:c,pass:i,path:d,projectId:u,port:a,protocol:e,publicKey:s})}function p(r){return{protocol:r.protocol,publicKey:r.publicKey||"",pass:r.pass||"",host:r.host,port:r.port||"",path:r.path||"",projectId:r.projectId}}function s(t){if("undefined"!=typeof __SENTRY_DEBUG__&&!__SENTRY_DEBUG__)return;const{port:n,projectId:e,protocol:p}=t;if(["protocol","publicKey","host","projectId"].forEach(o=>{if(!t[o])throw new r.SentryError(`Invalid Sentry Dsn: ${o} missing`)}),!e.match(/^\d+$/))throw new r.SentryError(`Invalid Sentry Dsn: Invalid projectId ${e}`);if(!o(p))throw new r.SentryError(`Invalid Sentry Dsn: Invalid protocol ${p}`);if(n&&isNaN(parseInt(n,10)))throw new r.SentryError(`Invalid Sentry Dsn: Invalid port ${n}`);return!0}function i(r){var t="string"==typeof r?e(r):p(r);return s(t),t}
},{"./error.js":"IhUY"}],"ZYOL":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CONSOLE_LEVELS=void 0,exports.consoleSandbox=l,exports.logger=void 0;var e=require("./global.js"),o=(0,e.getGlobalObject)(),r="Sentry Logger ",t=["debug","info","warn","error","log","assert","trace"];function l(o){var r=(0,e.getGlobalObject)();if(!("console"in r))return o();var l=r.console,n={};t.forEach(e=>{var o=l[e]&&l[e].__sentry_original__;e in r.console&&o&&(n[e]=l[e],l[e]=o)});try{return o()}finally{Object.keys(n).forEach(e=>{l[e]=n[e]})}}function n(){let e=!1;var n={enable:()=>{e=!0},disable:()=>{e=!1}};return"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?t.forEach(t=>{n[t]=((...n)=>{e&&l(()=>{o.console[t](`${r}[${t}]:`,...n)})})}):t.forEach(e=>{n[e]=(()=>void 0)}),n}let _;exports.CONSOLE_LEVELS=t,exports.logger=_,"undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?exports.logger=_=(0,e.getGlobalSingleton)("logger",n):exports.logger=_=n();
},{"./global.js":"C01w"}],"EomM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.escapeStringForRegex=s,exports.isMatchingPattern=i,exports.safeJoin=n,exports.snipLine=r,exports.truncate=t;var e=require("./is.js");function t(e,t=0){return"string"!=typeof e||0===t?e:e.length<=t?e:`${e.substr(0,t)}...`}function r(e,t){let r=e;var n=r.length;if(n<=150)return r;t>n&&(t=n);let i=Math.max(t-60,0);i<5&&(i=0);let s=Math.min(i+140,n);return s>n-5&&(s=n),s===n&&(i=Math.max(s-140,0)),r=r.slice(i,s),i>0&&(r=`'{snip} ${r}`),s<n&&(r+=" {snip}"),r}function n(e,t){if(!Array.isArray(e))return"";var r=[];for(let s=0;s<e.length;s++){var n=e[s];try{r.push(String(n))}catch(i){r.push("[value cannot be serialized]")}}return r.join(t)}function i(t,r){return!!(0,e.isString)(t)&&((0,e.isRegExp)(r)?r.test(t):"string"==typeof r&&-1!==t.indexOf(r))}function s(e){return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}
},{"./is.js":"cixp"}],"f2BT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addNonEnumerableProperty=o,exports.convertToPlainObject=u,exports.dropUndefinedKeys=l,exports.extractExceptionKeysForMessage=p,exports.fill=n,exports.getOriginalFunction=a,exports.markFunctionWrapped=i,exports.objectify=g,exports.urlEncode=s;var e=require("./browser.js"),t=require("./is.js"),r=require("./string.js");function n(e,t,r){if(t in e){var n=e[t],o=r(n);if("function"==typeof o)try{i(o,n)}catch(a){}e[t]=o}}function o(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,configurable:!0})}function i(e,t){var r=t.prototype||{};e.prototype=t.prototype=r,o(e,"__sentry_original__",t)}function a(e){return e.__sentry_original__}function s(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function u(e){if((0,t.isError)(e))return{message:e.message,name:e.name,stack:e.stack,...f(e)};if((0,t.isEvent)(e)){var r={type:e.type,target:c(e.target),currentTarget:c(e.currentTarget),...f(e)};return"undefined"!=typeof CustomEvent&&(0,t.isInstanceOf)(e,CustomEvent)&&(r.detail=e.detail),r}return e}function c(r){try{return(0,t.isElement)(r)?(0,e.htmlTreeAsString)(r):Object.prototype.toString.call(r)}catch(n){return"<unknown>"}}function f(e){if("object"==typeof e&&null!==e){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}return{}}function p(e,t=40){var n=Object.keys(u(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return(0,r.truncate)(n[0],t);for(let i=n.length;i>0;i--){var o=n.slice(0,i).join(", ");if(!(o.length>t))return i===n.length?o:(0,r.truncate)(o,t)}return""}function l(e){return y(e,new Map)}function y(e,r){if((0,t.isPlainObject)(e)){if(void 0!==(i=r.get(e)))return i;var n={};for(var o of(r.set(e,n),Object.keys(e)))void 0!==e[o]&&(n[o]=y(e[o],r));return n}if(Array.isArray(e)){var i;if(void 0!==(i=r.get(e)))return i;n=[];return r.set(e,n),e.forEach(e=>{n.push(y(e,r))}),n}return e}function g(e){let r;switch(!0){case null==e:r=new String(e);break;case"symbol"==typeof e||"bigint"==typeof e:r=Object(e);break;case(0,t.isPrimitive)(e):r=new e.constructor(e);break;default:r=e}return r}
},{"./browser.js":"wNCt","./is.js":"cixp","./string.js":"EomM"}],"ip2k":[function(require,module,exports) {
"use strict";function e(e,t){return null!=e?e:t()}Object.defineProperty(exports,"__esModule",{value:!0}),exports._nullishCoalesce=e;
},{}],"PaWq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._asyncNullishCoalesce=s;var e=require("./_nullishCoalesce.js");async function s(s,l){return(0,e._nullishCoalesce)(s,l)}
},{"./_nullishCoalesce.js":"ip2k"}],"qNeG":[function(require,module,exports) {
"use strict";async function a(a){let l=void 0,t=a[0],e=1;for(;e<a.length;){var o=a[e],n=a[e+1];if(e+=2,("optionalAccess"===o||"optionalCall"===o)&&null==t)return;"access"===o||"optionalAccess"===o?(l=t,t=await n(t)):"call"!==o&&"optionalCall"!==o||(t=await n((...a)=>t.call(l,...a)),l=void 0)}return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports._asyncOptionalChain=a;
},{}],"wLOr":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._asyncOptionalChainDelete=a;var e=require("./_asyncOptionalChain.js");async function a(a){var n=await(0,e._asyncOptionalChain)(a);return null==n||n}
},{"./_asyncOptionalChain.js":"qNeG"}],"ydoj":[function(require,module,exports) {
"use strict";function e(e,t,r){exports[t]=e[r]}Object.defineProperty(exports,"__esModule",{value:!0}),exports._createNamedExportFrom=e;
},{}],"ISBW":[function(require,module,exports) {
"use strict";function e(e){Object.keys(e).filter(e=>"default"!==e&&"__esModule"!==e&&!(e in exports)).forEach(t=>exports[t]=e[t])}Object.defineProperty(exports,"__esModule",{value:!0}),exports._createStarExport=e;
},{}],"DODB":[function(require,module,exports) {
"use strict";function e(e){return e.__esModule?e.default:e}Object.defineProperty(exports,"__esModule",{value:!0}),exports._interopDefault=e;
},{}],"YPFb":[function(require,module,exports) {
"use strict";function e(e){return e.__esModule?e:{...e,default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports._interopNamespace=e;
},{}],"QWYN":[function(require,module,exports) {
"use strict";function e(e){return{__proto__:null,default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports._interopNamespaceDefaultOnly=e;
},{}],"tM79":[function(require,module,exports) {
"use strict";function e(e){return e.__esModule?e:{default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports._interopRequireDefault=e;
},{}],"bmje":[function(require,module,exports) {
"use strict";function e(e){return e.__esModule?e:{...e,default:e}}Object.defineProperty(exports,"__esModule",{value:!0}),exports._interopRequireWildcard=e;
},{}],"gJuN":[function(require,module,exports) {
"use strict";function l(l){let o=void 0,e=l[0],t=1;for(;t<l.length;){var a=l[t],n=l[t+1];if(t+=2,("optionalAccess"===a||"optionalCall"===a)&&null==e)return;"access"===a||"optionalAccess"===a?(o=e,e=n(e)):"call"!==a&&"optionalCall"!==a||(e=n((...l)=>e.call(o,...l)),o=void 0)}return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports._optionalChain=l;
},{}],"yQaU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._optionalChainDelete=t;var e=require("./_optionalChain.js");function t(t){var n=(0,e._optionalChain)(t);return null==n||n}
},{"./_optionalChain.js":"gJuN"}],"Xsdc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"_asyncNullishCoalesce",{enumerable:!0,get:function(){return e._asyncNullishCoalesce}}),Object.defineProperty(exports,"_asyncOptionalChain",{enumerable:!0,get:function(){return r._asyncOptionalChain}}),Object.defineProperty(exports,"_asyncOptionalChainDelete",{enumerable:!0,get:function(){return t._asyncOptionalChainDelete}}),Object.defineProperty(exports,"_createNamedExportFrom",{enumerable:!0,get:function(){return n._createNamedExportFrom}}),Object.defineProperty(exports,"_createStarExport",{enumerable:!0,get:function(){return i._createStarExport}}),Object.defineProperty(exports,"_interopDefault",{enumerable:!0,get:function(){return a._interopDefault}}),Object.defineProperty(exports,"_interopNamespace",{enumerable:!0,get:function(){return o._interopNamespace}}),Object.defineProperty(exports,"_interopNamespaceDefaultOnly",{enumerable:!0,get:function(){return u._interopNamespaceDefaultOnly}}),Object.defineProperty(exports,"_interopRequireDefault",{enumerable:!0,get:function(){return p._interopRequireDefault}}),Object.defineProperty(exports,"_interopRequireWildcard",{enumerable:!0,get:function(){return l._interopRequireWildcard}}),Object.defineProperty(exports,"_nullishCoalesce",{enumerable:!0,get:function(){return c._nullishCoalesce}}),Object.defineProperty(exports,"_optionalChain",{enumerable:!0,get:function(){return s._optionalChain}}),Object.defineProperty(exports,"_optionalChainDelete",{enumerable:!0,get:function(){return _._optionalChainDelete}});var e=require("./_asyncNullishCoalesce.js"),r=require("./_asyncOptionalChain.js"),t=require("./_asyncOptionalChainDelete.js"),n=require("./_createNamedExportFrom.js"),i=require("./_createStarExport.js"),a=require("./_interopDefault.js"),o=require("./_interopNamespace.js"),u=require("./_interopNamespaceDefaultOnly.js"),p=require("./_interopRequireDefault.js"),l=require("./_interopRequireWildcard.js"),c=require("./_nullishCoalesce.js"),s=require("./_optionalChain.js"),_=require("./_optionalChainDelete.js");
},{"./_asyncNullishCoalesce.js":"PaWq","./_asyncOptionalChain.js":"qNeG","./_asyncOptionalChainDelete.js":"wLOr","./_createNamedExportFrom.js":"ydoj","./_createStarExport.js":"ISBW","./_interopDefault.js":"DODB","./_interopNamespace.js":"YPFb","./_interopNamespaceDefaultOnly.js":"QWYN","./_interopRequireDefault.js":"tM79","./_interopRequireWildcard.js":"bmje","./_nullishCoalesce.js":"ip2k","./_optionalChain.js":"gJuN","./_optionalChainDelete.js":"yQaU"}],"xhfg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStackParser=n,exports.getFunctionName=s,exports.nodeStackLineParser=u,exports.stackParserFromStackParserOptions=t,exports.stripSentryFramesAndReverse=i;var e=require("./buildPolyfills"),r=50;function n(...e){var r=e.sort((e,r)=>e[0]-r[0]).map(e=>e[1]);return(e,n=0)=>{var t=[];for(var a of e.split("\n").slice(n))for(var s of r){var o=s(a);if(o){t.push(o);break}}return i(t)}}function t(e){return Array.isArray(e)?n(...e):e}function i(e){if(!e.length)return[];let n=e;var t=n[0].function||"",i=n[n.length-1].function||"";return-1===t.indexOf("captureMessage")&&-1===t.indexOf("captureException")||(n=n.slice(1)),-1!==i.indexOf("sentryWrapped")&&(n=n.slice(0,-1)),n.slice(0,r).map(e=>({...e,filename:e.filename||n[0].filename,function:e.function||"?"})).reverse()}var a="<anonymous>";function s(e){try{return e&&"function"==typeof e&&e.name||a}catch(r){return a}}function o(r){var n=/^\s*[-]{4,}$/,t=/at (?:async )?(?:(.+?)\s+\()?(?:(.+?):(\d+)(?::(\d+))?|([^)]+))\)?/;return i=>{if(i.match(n))return{filename:i};var a=i.match(t);if(!a)return;let s,o,u,c,f;if(a[1]){let e=(u=a[1]).lastIndexOf(".");if("."===u[e-1]&&e--,e>0){s=u.substr(0,e),o=u.substr(e+1);var l=s.indexOf(".Module");l>0&&(u=u.substr(l+1),s=s.substr(0,l))}c=void 0}o&&(c=s,f=o),"<anonymous>"===o&&(f=void 0,u=void 0),void 0===u&&(f=f||"<anonymous>",u=c?`${c}.${f}`:f);var p=(0,e._optionalChain)([a,"access",e=>e[2],"optionalAccess",e=>e.startsWith,"call",e=>e("file://")])?a[2].substr(7):a[2],d=!("native"===a[5]||p&&!p.startsWith("/")&&!p.startsWith(".")&&1!==p.indexOf(":\\"))&&void 0!==p&&!p.includes("node_modules/");return{filename:p,module:(0,e._optionalChain)([r,"optionalCall",e=>e(p)]),function:u,lineno:parseInt(a[3],10)||void 0,colno:parseInt(a[4],10)||void 0,in_app:d}}}function u(e){return[90,o(e)]}
},{"./buildPolyfills":"Xsdc"}],"shUJ":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNativeFetch=u,exports.supportsDOMError=o,exports.supportsDOMException=c,exports.supportsErrorEvent=n,exports.supportsFetch=i,exports.supportsHistory=f,exports.supportsNativeFetch=s,exports.supportsReferrerPolicy=a,exports.supportsReportingObserver=p;var t=require("./global.js"),r=require("./logger.js");function n(){try{return new ErrorEvent(""),!0}catch(e){return!1}}function o(){try{return new DOMError(""),!0}catch(e){return!1}}function c(){try{return new DOMException(""),!0}catch(e){return!1}}function i(){if(!("fetch"in(0,t.getGlobalObject)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function u(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function s(){if(!i())return!1;var e=(0,t.getGlobalObject)();if(u(e.fetch))return!0;let n=!1;var o=e.document;if(o&&"function"==typeof o.createElement)try{var c=o.createElement("iframe");c.hidden=!0,o.head.appendChild(c),c.contentWindow&&c.contentWindow.fetch&&(n=u(c.contentWindow.fetch)),o.head.removeChild(c)}catch(s){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",s)}return n}function p(){return"ReportingObserver"in(0,t.getGlobalObject)()}function a(){if(!i())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}function f(){var e=(0,t.getGlobalObject)(),r=e.chrome,n=r&&r.app&&r.app.runtime,o="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&o}
},{"./global.js":"C01w","./logger.js":"ZYOL"}],"Sn6H":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addInstrumentationHandler=l;var t=require("./global.js"),e=require("./is.js"),n=require("./logger.js"),r=require("./object.js"),i=require("./stacktrace.js"),o=require("./supports.js"),a=(0,t.getGlobalObject)(),s={},u={};function c(t){if(!u[t])switch(u[t]=!0,t){case"console":h();break;case"dom":j();break;case"xhr":y();break;case"fetch":p();break;case"history":g();break;case"error":q();break;case"unhandledrejection":D();break;default:return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("unknown instrumentation type:",t))}}function l(t,e){s[t]=s[t]||[],s[t].push(e),c(t)}function f(t,e){if(t&&s[t])for(var r of s[t]||[])try{r(e)}catch(o){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error(`Error while triggering instrumentation handler.\nType: ${t}\nName: ${(0,i.getFunctionName)(r)}\nError:`,o)}}function h(){"console"in a&&n.CONSOLE_LEVELS.forEach(function(t){t in a.console&&(0,r.fill)(a.console,t,function(e){return function(...n){f("console",{args:n,level:t}),e&&e.apply(a.console,n)}})})}function p(){(0,o.supportsNativeFetch)()&&(0,r.fill)(a,"fetch",function(t){return function(...e){var n={args:e,fetchData:{method:d(e),url:_(e)},startTimestamp:Date.now()};return f("fetch",{...n}),t.apply(a,e).then(t=>(f("fetch",{...n,endTimestamp:Date.now(),response:t}),t),t=>{throw f("fetch",{...n,endTimestamp:Date.now(),error:t}),t})}})}function d(t=[]){return"Request"in a&&(0,e.isInstanceOf)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function _(t=[]){return"string"==typeof t[0]?t[0]:"Request"in a&&(0,e.isInstanceOf)(t[0],Request)?t[0].url:String(t[0])}function y(){if("XMLHttpRequest"in a){var t=XMLHttpRequest.prototype;(0,r.fill)(t,"open",function(t){return function(...n){var i=this,o=n[1],a=i.__sentry_xhr__={method:(0,e.isString)(n[0])?n[0].toUpperCase():n[0],url:n[1]};(0,e.isString)(o)&&"POST"===a.method&&o.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var s=function(){if(4===i.readyState){try{a.status_code=i.status}catch(t){}f("xhr",{args:n,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?(0,r.fill)(i,"onreadystatechange",function(t){return function(...e){return s(),t.apply(i,e)}}):i.addEventListener("readystatechange",s),t.apply(i,n)}}),(0,r.fill)(t,"send",function(t){return function(...e){return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),f("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}})}}let m;function g(){if((0,o.supportsHistory)()){var t=a.onpopstate;a.onpopstate=function(...e){var n=a.location.href,r=m;if(m=n,f("history",{from:r,to:n}),t)try{return t.apply(this,e)}catch(i){}},(0,r.fill)(a.history,"pushState",e),(0,r.fill)(a.history,"replaceState",e)}function e(t){return function(...e){var n=e.length>2?e[2]:void 0;if(n){var r=m,i=String(n);m=i,f("history",{from:r,to:i})}return t.apply(this,e)}}}var v=1e3;let E,k;function T(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}function b(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}function S(t,e=!1){return n=>{if(n&&k!==n&&!b(n)){var r="keypress"===n.type?"input":n.type;void 0===E?(t({event:n,name:r,global:e}),k=n):T(k,n)&&(t({event:n,name:r,global:e}),k=n),clearTimeout(E),E=a.setTimeout(()=>{E=void 0},v)}}}function j(){if("document"in a){var t=f.bind(null,"dom"),e=S(t,!0);a.document.addEventListener("click",e,!1),a.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(e=>{var n=a[e]&&a[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,r.fill)(n,"addEventListener",function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=S(t);a.handler=s,e.call(this,n,s,i)}a.refCount+=1}catch(u){}return e.call(this,n,r,i)}}),(0,r.fill)(n,"removeEventListener",function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this.__sentry_instrumentation_handlers__||{},o=i[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,r),o.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete this.__sentry_instrumentation_handlers__)}catch(a){}return t.call(this,e,n,r)}}))})}}let w=null;function q(){w=a.onerror,a.onerror=function(t,e,n,r,i){return f("error",{column:r,error:i,line:n,msg:t,url:e}),!!w&&w.apply(this,arguments)}}let N=null;function D(){N=a.onunhandledrejection,a.onunhandledrejection=function(t){return f("unhandledrejection",t),!N||N.apply(this,arguments)}}
},{"./global.js":"C01w","./is.js":"cixp","./logger.js":"ZYOL","./object.js":"f2BT","./stacktrace.js":"xhfg","./supports.js":"shUJ"}],"dPzZ":[function(require,module,exports) {
"use strict";function e(){var e="function"==typeof WeakSet,t=e?new WeakSet:[];return[function(r){if(e)return!!t.has(r)||(t.add(r),!1);for(let e=0;e<t.length;e++)if(t[e]===r)return!0;return t.push(r),!1},function(r){if(e)t.delete(r);else for(let e=0;e<t.length;e++)if(t[e]===r){t.splice(e,1);break}}]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.memoBuilder=e;
},{}],"CNBN":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.addContextToFrame=l,exports.addExceptionMechanism=u,exports.addExceptionTypeValue=s,exports.checkOrSetAlreadyCaught=m,exports.getEventDescription=p,exports.parseSemver=d,exports.parseUrl=i,exports.stripUrlQueryAndFragment=v,exports.uuid4=n;var t=require("./global.js"),r=require("./object.js"),a=require("./string.js");function n(){var e=(0,t.getGlobalObject)(),r=e.crypto||e.msCrypto;if(r&&r.randomUUID)return r.randomUUID().replace(/-/g,"");var a=r&&r.getRandomValues?()=>r.getRandomValues(new Uint8Array(1))[0]:()=>16*Math.random();return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,e=>(e^(15&a())>>e/4).toString(16))}function i(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var r=t[6]||"",a=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+r+a}}function o(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function p(e){const{message:t,event_id:r}=e;if(t)return t;var a=o(e);return a?a.type&&a.value?`${a.type}: ${a.value}`:a.type||a.value||r||"<unknown>":r||"<unknown>"}function s(e,t,r){var a=e.exception=e.exception||{},n=a.values=a.values||[],i=n[0]=n[0]||{};i.value||(i.value=t||""),i.type||(i.type=r||"Error")}function u(e,t){var r=o(e);if(r){var a=r.mechanism;if(r.mechanism={type:"generic",handled:!0,...a,...t},t&&"data"in t){var n={...a&&a.data,...t.data};r.mechanism.data=n}}}var c=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function d(e){var t=e.match(c)||[],r=parseInt(t[1],10),a=parseInt(t[2],10),n=parseInt(t[3],10);return{buildmetadata:t[5],major:isNaN(r)?void 0:r,minor:isNaN(a)?void 0:a,patch:isNaN(n)?void 0:n,prerelease:t[4]}}function l(e,t,r=5){var n=t.lineno||0,i=e.length,o=Math.max(Math.min(i,n-1),0);t.pre_context=e.slice(Math.max(0,o-r),o).map(e=>(0,a.snipLine)(e,0)),t.context_line=(0,a.snipLine)(e[Math.min(i-1,o)],t.colno||0),t.post_context=e.slice(Math.min(o+1,i),o+1+r).map(e=>(0,a.snipLine)(e,0))}function v(e){return e.split(/[\?#]/,1)[0]}function m(e){if(e&&e.__sentry_captured__)return!0;try{(0,r.addNonEnumerableProperty)(e,"__sentry_captured__",!0)}catch(t){}return!1}
},{"./global.js":"C01w","./object.js":"f2BT","./string.js":"EomM"}],"Lnz1":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.normalize=i,exports.normalizeToSize=a,exports.walk=u;var t=require("./is.js"),r=require("./memo.js"),n=require("./object.js"),o=require("./stacktrace.js");function i(e,t=1/0,r=1/0){try{return u("",e,t,r)}catch(n){return{ERROR:`**non-serializable** (${n})`}}}function a(e,t=3,r=102400){var n=i(e,t);return s(n)>r?a(e,t-1,r):n}function u(e,o,i=1/0,a=1/0,f=(0,r.memoBuilder)()){const[s,l]=f;if(null===o||["number","boolean","string"].includes(typeof o)&&!(0,t.isNaN)(o))return o;var y=c(e,o);if(!y.startsWith("[object "))return y;if(o.__sentry_skip_normalization__)return o;if(0===i)return y.replace("object ","");if(s(o))return"[Circular ~]";var m=o;if(m&&"function"==typeof m.toJSON)try{return u("",m.toJSON(),i-1,a,f)}catch(g){}var p=Array.isArray(o)?[]:{};let d=0;var b=(0,n.convertToPlainObject)(o);for(var v in b)if(Object.prototype.hasOwnProperty.call(b,v)){if(d>=a){p[v]="[MaxProperties ~]";break}var j=b[v];p[v]=u(v,j,i-1,a,f),d+=1}return l(o),p}function c(r,n){try{return"domain"===r&&n&&"object"==typeof n&&n._events?"[Domain]":"domainEmitter"===r?"[DomainEmitter]":void 0!==e&&n===e?"[Global]":"undefined"!=typeof window&&n===window?"[Window]":"undefined"!=typeof document&&n===document?"[Document]":(0,t.isSyntheticEvent)(n)?"[SyntheticEvent]":"number"==typeof n&&n!=n?"[NaN]":void 0===n?"[undefined]":"function"==typeof n?`[Function: ${(0,o.getFunctionName)(n)}]`:"symbol"==typeof n?`[${String(n)}]`:"bigint"==typeof n?`[BigInt: ${String(n)}]`:`[object ${Object.getPrototypeOf(n).constructor.name}]`}catch(i){return`**non-serializable** (${i})`}}function f(e){return~-encodeURI(e).split(/%..|./).length}function s(e){return f(JSON.stringify(e))}
},{"./is.js":"cixp","./memo.js":"dPzZ","./object.js":"f2BT","./stacktrace.js":"xhfg"}],"bF34":[function(require,module,exports) {
"use strict";function t(t,e){let r=0;for(let l=t.length-1;l>=0;l--){var n=t[l];"."===n?t.splice(l,1):".."===n?(t.splice(l,1),r++):r&&(t.splice(l,1),r--)}if(e)for(;r--;r)t.unshift("..");return t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.basename=f,exports.dirname=c,exports.isAbsolute=o,exports.join=u,exports.normalizePath=i,exports.relative=s,exports.resolve=n;var e=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/;function r(t){var r=e.exec(t);return r?r.slice(1):[]}function n(...e){let r="",n=!1;for(let t=e.length-1;t>=-1&&!n;t--){var l=t>=0?e[t]:"/";l&&(r=`${l}/${r}`,n="/"===l.charAt(0))}return(n?"/":"")+(r=t(r.split("/").filter(t=>!!t),!n).join("/"))||"."}function l(t){let e=0;for(;e<t.length&&""===t[e];e++);let r=t.length-1;for(;r>=0&&""===t[r];r--);return e>r?[]:t.slice(e,r-e+1)}function s(t,e){t=n(t).substr(1),e=n(e).substr(1);var r=l(t.split("/")),s=l(e.split("/")),i=Math.min(r.length,s.length);let o=i;for(let n=0;n<i;n++)if(r[n]!==s[n]){o=n;break}let u=[];for(let n=o;n<r.length;n++)u.push("..");return(u=u.concat(s.slice(o))).join("/")}function i(e){var r=o(e),n="/"===e.substr(-1);let l=t(e.split("/").filter(t=>!!t),!r).join("/");return l||r||(l="."),l&&n&&(l+="/"),(r?"/":"")+l}function o(t){return"/"===t.charAt(0)}function u(...t){return i(t.join("/"))}function c(t){var e=r(t),n=e[0];let l=e[1];return n||l?(l&&(l=l.substr(0,l.length-1)),n+l):"."}function f(t,e){let n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n}
},{}],"EwT2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SyncPromise=void 0,exports.rejectedSyncPromise=i,exports.resolvedSyncPromise=s;var t,e=require("./is.js");function s(t){return new r(e=>{e(t)})}function i(t){return new r((e,s)=>{s(t)})}!function(t){t[t.PENDING=0]="PENDING";t[t.RESOLVED=1]="RESOLVED";t[t.REJECTED=2]="REJECTED"}(t||(t={}));class r{__init(){this._state=t.PENDING}__init2(){this._handlers=[]}constructor(t){r.prototype.__init.call(this),r.prototype.__init2.call(this),r.prototype.__init3.call(this),r.prototype.__init4.call(this),r.prototype.__init5.call(this),r.prototype.__init6.call(this);try{t(this._resolve,this._reject)}catch(e){this._reject(e)}}then(t,e){return new r((s,i)=>{this._handlers.push([!1,e=>{if(t)try{s(t(e))}catch(r){i(r)}else s(e)},t=>{if(e)try{s(e(t))}catch(r){i(r)}else i(t)}]),this._executeHandlers()})}catch(t){return this.then(t=>t,t)}finally(t){return new r((e,s)=>{let i,r;return this.then(e=>{r=!1,i=e,t&&t()},e=>{r=!0,i=e,t&&t()}).then(()=>{r?s(i):e(i)})})}__init3(){this._resolve=(e=>{this._setResult(t.RESOLVED,e)})}__init4(){this._reject=(e=>{this._setResult(t.REJECTED,e)})}__init5(){this._setResult=((s,i)=>{this._state===t.PENDING&&((0,e.isThenable)(i)?i.then(this._resolve,this._reject):(this._state=s,this._value=i,this._executeHandlers()))})}__init6(){this._executeHandlers=(()=>{if(this._state!==t.PENDING){var e=this._handlers.slice();this._handlers=[],e.forEach(e=>{e[0]||(this._state===t.RESOLVED&&e[1](this._value),this._state===t.REJECTED&&e[2](this._value),e[0]=!0)})}})}}exports.SyncPromise=r;
},{"./is.js":"cixp"}],"WUuT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makePromiseBuffer=n;var e=require("./error.js"),r=require("./syncpromise.js");function n(n){var t=[];function i(e){return t.splice(t.indexOf(e),1)[0]}return{$:t,add:function(o){if(!(void 0===n||t.length<n))return(0,r.rejectedSyncPromise)(new e.SentryError("Not adding Promise due to buffer limit reached."));var u=o();return-1===t.indexOf(u)&&t.push(u),u.then(()=>i(u)).then(null,()=>i(u).then(null,()=>{})),u},drain:function(e){return new r.SyncPromise((n,i)=>{let o=t.length;if(!o)return n(!0);var u=setTimeout(()=>{e&&e>0&&n(!1)},e);t.forEach(e=>{(0,r.resolvedSyncPromise)(e).then(()=>{--o||(clearTimeout(u),n(!0))},i)})})}}}
},{"./error.js":"IhUY","./syncpromise.js":"EwT2"}],"jCwy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addRequestDataToEvent=h,exports.addRequestDataToTransaction=u,exports.extractPathForTransaction=n,exports.extractRequestData=d;var e=require("./buildPolyfills"),r=require("./is.js"),t=require("./misc.js"),a=require("./normalize.js"),s={ip:!1,request:!0,transaction:!0,user:!0},o=["cookies","data","headers","method","query_string","url"],i=["id","username","email"];function u(e,r,t){e&&(e.metadata.source&&"url"!==e.metadata.source||e.setName(...n(r,{path:!0,method:!0})),e.setData("url",r.originalUrl||r.url),r.baseUrl&&e.setData("baseUrl",r.baseUrl),e.setData("query",p(r,t)))}function n(e,r={}){var a=e.method&&e.method.toUpperCase();let s="",o="url";r.customRoute||e.route?(s=r.customRoute||`${e.baseUrl||""}${e.route&&e.route.path}`,o="route"):(e.originalUrl||e.url)&&(s=(0,t.stripUrlQueryAndFragment)(e.originalUrl||e.url||""));let i="";return r.method&&a&&(i+=a),r.method&&r.path&&(i+=" "),r.path&&s&&(i+=s),[i,o]}function c(e,r){switch(r){case"path":return n(e,{path:!0})[0];case"handler":return e.route&&e.route.stack&&e.route.stack[0]&&e.route.stack[0].name||"<anonymous>";case"methodPath":default:return n(e,{path:!0,method:!0})[0]}}function l(e,r){var t={};return(Array.isArray(r)?r:i).forEach(r=>{e&&r in e&&(t[r]=e[r])}),t}function d(e,t){const{include:s=o,deps:i}=t||{};var u={},n=e.headers||{},c=e.method,l=e.hostname||e.host||n.host||"<no host>",d=`${"https"===e.protocol||e.socket&&e.socket.encrypted?"https":"http"}://${l}${e.originalUrl||e.url||""}`;return s.forEach(t=>{switch(t){case"headers":u.headers=n;break;case"method":u.method=c;break;case"url":u.url=d;break;case"cookies":u.cookies=e.cookies||n.cookie&&i&&i.cookie&&i.cookie.parse(n.cookie)||{};break;case"query_string":u.query_string=p(e,i);break;case"data":if("GET"===c||"HEAD"===c)break;void 0!==e.body&&(u.data=(0,r.isString)(e.body)?e.body:JSON.stringify((0,a.normalize)(e.body)));break;default:({}).hasOwnProperty.call(e,t)&&(u[t]=e[t])}}),u}function h(t,a,o){var i={...s,...(0,e._optionalChain)([o,"optionalAccess",e=>e.include])};if(i.request){var u=Array.isArray(i.request)?d(a,{include:i.request,deps:(0,e._optionalChain)([o,"optionalAccess",e=>e.deps])}):d(a,{deps:(0,e._optionalChain)([o,"optionalAccess",e=>e.deps])});t.request={...t.request,...u}}if(i.user){var n=a.user&&(0,r.isPlainObject)(a.user)?l(a.user,i.user):{};Object.keys(n).length&&(t.user={...t.user,...n})}if(i.ip){var h=a.ip||a.socket&&a.socket.remoteAddress;h&&(t.user={...t.user,ip_address:h})}return i.transaction&&!t.transaction&&(t.transaction=c(a,i.transaction)),t}function p(e,r){let t=e.originalUrl||e.url||"";if(t)return t.startsWith("/")&&(t=`http://dogs.are.great${t}`),e.query||void 0!==typeof URL&&new URL(t).search.replace("?","")||r&&r.url&&r.url.parse(t).query||void 0}
},{"./buildPolyfills":"Xsdc","./is.js":"cixp","./misc.js":"CNBN","./normalize.js":"Lnz1"}],"gKZv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.severityFromString=r,exports.severityLevelFromString=t,exports.validSeverityLevels=void 0;var e=["fatal","error","warning","log","info","debug"];function r(e){return t(e)}function t(r){return"warn"===r?"warning":e.includes(r)?r:"log"}exports.validSeverityLevels=e;
},{}],"sp40":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.usingPerformanceAPI=exports.timestampWithMs=exports.timestampInSeconds=exports.dateTimestampInSeconds=exports.browserPerformanceTimeOrigin=exports._browserPerformanceTimeOriginMode=void 0;var e=require("./global.js"),r=require("./node.js"),o={nowSeconds:()=>Date.now()/1e3};function n(){const{performance:r}=(0,e.getGlobalObject)();if(r&&r.now)return{now:()=>r.now(),timeOrigin:Date.now()-r.now()}}function i(){try{return(0,r.dynamicRequire)(module,"perf_hooks").performance}catch(e){return}}var t=(0,r.isNodeEnv)()?i():n(),s=void 0===t?o:{nowSeconds:()=>(t.timeOrigin+t.now())/1e3},a=o.nowSeconds.bind(o);exports.dateTimestampInSeconds=a;var m=s.nowSeconds.bind(s);exports.timestampInSeconds=m;var c=m;exports.timestampWithMs=c;var p=void 0!==t;let d;exports.usingPerformanceAPI=p,exports._browserPerformanceTimeOriginMode=d;var g=(()=>{const{performance:r}=(0,e.getGlobalObject)();if(r&&r.now){var o=r.now(),n=Date.now(),i=r.timeOrigin?Math.abs(r.timeOrigin+o-n):36e5,t=i<36e5,s=r.timing&&r.timing.navigationStart,a="number"==typeof s?Math.abs(s+o-n):36e5;return t||a<36e5?i<=a?(exports._browserPerformanceTimeOriginMode=d="timeOrigin",r.timeOrigin):(exports._browserPerformanceTimeOriginMode=d="navigationStart",s):(exports._browserPerformanceTimeOriginMode=d="dateNow",n)}exports._browserPerformanceTimeOriginMode=d="none"})();exports.browserPerformanceTimeOrigin=g;
},{"./global.js":"C01w","./node.js":"LRch"}],"xH08":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRACEPARENT_REGEXP=void 0,exports.extractTraceparentData=t;var e=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function t(t){var r=t.match(e);if(r){let e;return"1"===r[3]?e=!0:"0"===r[3]&&(e=!1),{traceId:r[1],parentSampled:e,parentSpanId:r[2]}}}exports.TRACEPARENT_REGEXP=e;
},{}],"tA9q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addItemToEnvelope=n,exports.createAttachmentEnvelopeItem=i,exports.createEnvelope=t,exports.envelopeItemTypeToDataCategory=p,exports.forEachEnvelopeItem=r,exports.serializeEnvelope=a;var e=require("./object.js");function t(e,t=[]){return[e,t]}function n(e,t){const[n,r]=e;return[n,[...r,t]]}function r(e,t){e[1].forEach(e=>{var n=e[0].type;t(e,n)})}function o(e,t){return(t||new TextEncoder).encode(e)}function a(e,t){const[n,r]=e;let a=JSON.stringify(n);function i(e){"string"==typeof a?a="string"==typeof e?a+e:[o(a,t),e]:a.push("string"==typeof e?o(e,t):e)}for(var c of r){const[e,t]=c;i(`\n${JSON.stringify(e)}\n`),i("string"==typeof t||t instanceof Uint8Array?t:JSON.stringify(t))}return"string"==typeof a?a:s(a)}function s(e){var t=e.reduce((e,t)=>e+t.length,0),n=new Uint8Array(t);let r=0;for(var o of e)n.set(o,r),r+=o.length;return n}function i(t,n){var r="string"==typeof t.data?o(t.data,n):t.data;return[(0,e.dropUndefinedKeys)({type:"attachment",length:r.length,filename:t.filename,content_type:t.contentType,attachment_type:t.attachmentType}),r]}var c={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default"};function p(e){return c[e]}
},{"./object.js":"f2BT"}],"LvSx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createClientReportEnvelope=r;var e=require("./envelope.js"),t=require("./time.js");function r(r,n,s){var i=[{type:"client_report"},{timestamp:s||(0,t.dateTimestampInSeconds)(),discarded_events:r}];return(0,e.createEnvelope)(n?{dsn:n}:{},[i])}
},{"./envelope.js":"tA9q","./time.js":"sp40"}],"wnnc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_RETRY_AFTER=void 0,exports.disabledUntil=r,exports.isRateLimited=a,exports.parseRetryAfterHeader=t,exports.updateRateLimits=s;var e=6e4;function t(t,r=Date.now()){var a=parseInt(`${t}`,10);if(!isNaN(a))return 1e3*a;var s=Date.parse(`${t}`);return isNaN(s)?e:s-r}function r(e,t){return e[t]||e.all||0}function a(e,t,a=Date.now()){return r(e,t)>a}function s(e,{statusCode:r,headers:a},s=Date.now()){var i={...e},o=a&&a["x-sentry-rate-limits"],n=a&&a["retry-after"];if(o)for(var l of o.trim().split(",")){const[e,t]=l.split(":",2);var p=parseInt(e,10),f=1e3*(isNaN(p)?60:p);if(t)for(var u of t.split(";"))i[u]=s+f;else i.all=s+f}else n?i.all=s+t(n,s):429===r&&(i.all=s+6e4);return i}exports.DEFAULT_RETRY_AFTER=e;
},{}],"CGlL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=exports.SENTRY_BAGGAGE_KEY_PREFIX=exports.MAX_BAGGAGE_STRING_LENGTH=exports.BAGGAGE_HEADER_NAME=void 0,exports.createBaggage=o,exports.getBaggageValue=i,exports.getSentryBaggageItems=u,exports.getThirdPartyBaggage=p,exports.isBaggageMutable=E,exports.isSentryBaggageEmpty=_,exports.mergeAndSerializeBaggage=A,exports.parseBaggageHeader=d,exports.parseBaggageSetMutability=B,exports.serializeBaggage=c,exports.setBaggageImmutable=G,exports.setBaggageValue=s;var e=require("./is.js"),t=require("./logger.js"),r="baggage";exports.BAGGAGE_HEADER_NAME=r;var n="sentry-";exports.SENTRY_BAGGAGE_KEY_PREFIX=n;var a=/^sentry-/;exports.SENTRY_BAGGAGE_KEY_PREFIX_REGEX=a;var g=8192;function o(e,t="",r=!0){return[{...e},t,r]}function i(e,t){return e[0][t]}function s(e,t,r){E(e)&&(e[0][t]=r)}function _(e){return 0===Object.keys(e[0]).length}function u(e){return e[0]}function p(e){return e[1]}function E(e){return e[2]}function G(e){e[2]=!1}function c(e){return Object.keys(e[0]).reduce((r,a)=>{var o=e[0][a],i=`${n}${encodeURIComponent(a)}=${encodeURIComponent(o)}`,s=""===r?i:`${r},${i}`;return s.length>g?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Not adding key: ${a} with val: ${o} to baggage due to exceeding baggage size limits.`),r):s},e[1])}function d(r,n=!1){return!Array.isArray(r)&&!(0,e.isString)(r)||"number"==typeof r?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("[parseBaggageHeader] Received input value of incompatible type: ",typeof r,r),o({},"")):((0,e.isString)(r)?r:r.join(",")).split(",").map(e=>e.trim()).filter(e=>""!==e&&(n||a.test(e))).reduce(([e,t],r)=>{const[n,g]=r.split("=");if(a.test(n)){var o=decodeURIComponent(n.split("-")[1]);return[{...e,[o]:decodeURIComponent(g)},t,!0]}return[e,""===t?r:`${t},${r}`,!0]},[{},"",!0])}function A(e,t){if(!e&&!t)return"";var r=t&&d(t,!0)||void 0,n=r&&p(r);return c(o(e&&e[0]||{},n||""))}function B(e,t){var r=d(e||"");return(t||!_(r))&&G(r),r}exports.MAX_BAGGAGE_STRING_LENGTH=g;
},{"./is.js":"cixp","./logger.js":"ZYOL"}],"vnUD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BAGGAGE_HEADER_NAME",{enumerable:!0,get:function(){return R.BAGGAGE_HEADER_NAME}}),Object.defineProperty(exports,"CONSOLE_LEVELS",{enumerable:!0,get:function(){return u.CONSOLE_LEVELS}}),Object.defineProperty(exports,"DEFAULT_RETRY_AFTER",{enumerable:!0,get:function(){return T.DEFAULT_RETRY_AFTER}}),Object.defineProperty(exports,"MAX_BAGGAGE_STRING_LENGTH",{enumerable:!0,get:function(){return R.MAX_BAGGAGE_STRING_LENGTH}}),Object.defineProperty(exports,"SENTRY_BAGGAGE_KEY_PREFIX",{enumerable:!0,get:function(){return R.SENTRY_BAGGAGE_KEY_PREFIX}}),Object.defineProperty(exports,"SENTRY_BAGGAGE_KEY_PREFIX_REGEX",{enumerable:!0,get:function(){return R.SENTRY_BAGGAGE_KEY_PREFIX_REGEX}}),Object.defineProperty(exports,"SentryError",{enumerable:!0,get:function(){return t.SentryError}}),Object.defineProperty(exports,"SyncPromise",{enumerable:!0,get:function(){return j.SyncPromise}}),Object.defineProperty(exports,"TRACEPARENT_REGEXP",{enumerable:!0,get:function(){return x.TRACEPARENT_REGEXP}}),Object.defineProperty(exports,"_browserPerformanceTimeOriginMode",{enumerable:!0,get:function(){return O._browserPerformanceTimeOriginMode}}),Object.defineProperty(exports,"addContextToFrame",{enumerable:!0,get:function(){return s.addContextToFrame}}),Object.defineProperty(exports,"addExceptionMechanism",{enumerable:!0,get:function(){return s.addExceptionMechanism}}),Object.defineProperty(exports,"addExceptionTypeValue",{enumerable:!0,get:function(){return s.addExceptionTypeValue}}),Object.defineProperty(exports,"addInstrumentationHandler",{enumerable:!0,get:function(){return o.addInstrumentationHandler}}),Object.defineProperty(exports,"addItemToEnvelope",{enumerable:!0,get:function(){return S.addItemToEnvelope}}),Object.defineProperty(exports,"addNonEnumerableProperty",{enumerable:!0,get:function(){return b.addNonEnumerableProperty}}),Object.defineProperty(exports,"addRequestDataToEvent",{enumerable:!0,get:function(){return l.addRequestDataToEvent}}),Object.defineProperty(exports,"addRequestDataToTransaction",{enumerable:!0,get:function(){return l.addRequestDataToTransaction}}),Object.defineProperty(exports,"basename",{enumerable:!0,get:function(){return f.basename}}),Object.defineProperty(exports,"browserPerformanceTimeOrigin",{enumerable:!0,get:function(){return O.browserPerformanceTimeOrigin}}),Object.defineProperty(exports,"checkOrSetAlreadyCaught",{enumerable:!0,get:function(){return s.checkOrSetAlreadyCaught}}),Object.defineProperty(exports,"consoleSandbox",{enumerable:!0,get:function(){return u.consoleSandbox}}),Object.defineProperty(exports,"convertToPlainObject",{enumerable:!0,get:function(){return b.convertToPlainObject}}),Object.defineProperty(exports,"createAttachmentEnvelopeItem",{enumerable:!0,get:function(){return S.createAttachmentEnvelopeItem}}),Object.defineProperty(exports,"createBaggage",{enumerable:!0,get:function(){return R.createBaggage}}),Object.defineProperty(exports,"createClientReportEnvelope",{enumerable:!0,get:function(){return v.createClientReportEnvelope}}),Object.defineProperty(exports,"createEnvelope",{enumerable:!0,get:function(){return S.createEnvelope}}),Object.defineProperty(exports,"createStackParser",{enumerable:!0,get:function(){return d.createStackParser}}),Object.defineProperty(exports,"dateTimestampInSeconds",{enumerable:!0,get:function(){return O.dateTimestampInSeconds}}),Object.defineProperty(exports,"dirname",{enumerable:!0,get:function(){return f.dirname}}),Object.defineProperty(exports,"disabledUntil",{enumerable:!0,get:function(){return T.disabledUntil}}),Object.defineProperty(exports,"dropUndefinedKeys",{enumerable:!0,get:function(){return b.dropUndefinedKeys}}),Object.defineProperty(exports,"dsnFromString",{enumerable:!0,get:function(){return r.dsnFromString}}),Object.defineProperty(exports,"dsnToString",{enumerable:!0,get:function(){return r.dsnToString}}),Object.defineProperty(exports,"dynamicRequire",{enumerable:!0,get:function(){return c.dynamicRequire}}),Object.defineProperty(exports,"envelopeItemTypeToDataCategory",{enumerable:!0,get:function(){return S.envelopeItemTypeToDataCategory}}),Object.defineProperty(exports,"escapeStringForRegex",{enumerable:!0,get:function(){return y.escapeStringForRegex}}),Object.defineProperty(exports,"extractExceptionKeysForMessage",{enumerable:!0,get:function(){return b.extractExceptionKeysForMessage}}),Object.defineProperty(exports,"extractPathForTransaction",{enumerable:!0,get:function(){return l.extractPathForTransaction}}),Object.defineProperty(exports,"extractRequestData",{enumerable:!0,get:function(){return l.extractRequestData}}),Object.defineProperty(exports,"extractTraceparentData",{enumerable:!0,get:function(){return x.extractTraceparentData}}),Object.defineProperty(exports,"fill",{enumerable:!0,get:function(){return b.fill}}),Object.defineProperty(exports,"forEachEnvelopeItem",{enumerable:!0,get:function(){return S.forEachEnvelopeItem}}),Object.defineProperty(exports,"getBaggageValue",{enumerable:!0,get:function(){return R.getBaggageValue}}),Object.defineProperty(exports,"getEventDescription",{enumerable:!0,get:function(){return s.getEventDescription}}),Object.defineProperty(exports,"getFunctionName",{enumerable:!0,get:function(){return d.getFunctionName}}),Object.defineProperty(exports,"getGlobalObject",{enumerable:!0,get:function(){return n.getGlobalObject}}),Object.defineProperty(exports,"getGlobalSingleton",{enumerable:!0,get:function(){return n.getGlobalSingleton}}),Object.defineProperty(exports,"getLocationHref",{enumerable:!0,get:function(){return e.getLocationHref}}),Object.defineProperty(exports,"getOriginalFunction",{enumerable:!0,get:function(){return b.getOriginalFunction}}),Object.defineProperty(exports,"getSentryBaggageItems",{enumerable:!0,get:function(){return R.getSentryBaggageItems}}),Object.defineProperty(exports,"getThirdPartyBaggage",{enumerable:!0,get:function(){return R.getThirdPartyBaggage}}),Object.defineProperty(exports,"htmlTreeAsString",{enumerable:!0,get:function(){return e.htmlTreeAsString}}),Object.defineProperty(exports,"isAbsolute",{enumerable:!0,get:function(){return f.isAbsolute}}),Object.defineProperty(exports,"isBaggageMutable",{enumerable:!0,get:function(){return R.isBaggageMutable}}),Object.defineProperty(exports,"isBrowserBundle",{enumerable:!0,get:function(){return E.isBrowserBundle}}),Object.defineProperty(exports,"isDOMError",{enumerable:!0,get:function(){return i.isDOMError}}),Object.defineProperty(exports,"isDOMException",{enumerable:!0,get:function(){return i.isDOMException}}),Object.defineProperty(exports,"isElement",{enumerable:!0,get:function(){return i.isElement}}),Object.defineProperty(exports,"isError",{enumerable:!0,get:function(){return i.isError}}),Object.defineProperty(exports,"isErrorEvent",{enumerable:!0,get:function(){return i.isErrorEvent}}),Object.defineProperty(exports,"isEvent",{enumerable:!0,get:function(){return i.isEvent}}),Object.defineProperty(exports,"isInstanceOf",{enumerable:!0,get:function(){return i.isInstanceOf}}),Object.defineProperty(exports,"isMatchingPattern",{enumerable:!0,get:function(){return y.isMatchingPattern}}),Object.defineProperty(exports,"isNaN",{enumerable:!0,get:function(){return i.isNaN}}),Object.defineProperty(exports,"isNativeFetch",{enumerable:!0,get:function(){return P.isNativeFetch}}),Object.defineProperty(exports,"isNodeEnv",{enumerable:!0,get:function(){return c.isNodeEnv}}),Object.defineProperty(exports,"isPlainObject",{enumerable:!0,get:function(){return i.isPlainObject}}),Object.defineProperty(exports,"isPrimitive",{enumerable:!0,get:function(){return i.isPrimitive}}),Object.defineProperty(exports,"isRateLimited",{enumerable:!0,get:function(){return T.isRateLimited}}),Object.defineProperty(exports,"isRegExp",{enumerable:!0,get:function(){return i.isRegExp}}),Object.defineProperty(exports,"isSentryBaggageEmpty",{enumerable:!0,get:function(){return R.isSentryBaggageEmpty}}),Object.defineProperty(exports,"isString",{enumerable:!0,get:function(){return i.isString}}),Object.defineProperty(exports,"isSyntheticEvent",{enumerable:!0,get:function(){return i.isSyntheticEvent}}),Object.defineProperty(exports,"isThenable",{enumerable:!0,get:function(){return i.isThenable}}),Object.defineProperty(exports,"join",{enumerable:!0,get:function(){return f.join}}),Object.defineProperty(exports,"loadModule",{enumerable:!0,get:function(){return c.loadModule}}),Object.defineProperty(exports,"logger",{enumerable:!0,get:function(){return u.logger}}),Object.defineProperty(exports,"makeDsn",{enumerable:!0,get:function(){return r.makeDsn}}),Object.defineProperty(exports,"makePromiseBuffer",{enumerable:!0,get:function(){return g.makePromiseBuffer}}),Object.defineProperty(exports,"markFunctionWrapped",{enumerable:!0,get:function(){return b.markFunctionWrapped}}),Object.defineProperty(exports,"memoBuilder",{enumerable:!0,get:function(){return a.memoBuilder}}),Object.defineProperty(exports,"mergeAndSerializeBaggage",{enumerable:!0,get:function(){return R.mergeAndSerializeBaggage}}),Object.defineProperty(exports,"nodeStackLineParser",{enumerable:!0,get:function(){return d.nodeStackLineParser}}),Object.defineProperty(exports,"normalize",{enumerable:!0,get:function(){return p.normalize}}),Object.defineProperty(exports,"normalizePath",{enumerable:!0,get:function(){return f.normalizePath}}),Object.defineProperty(exports,"normalizeToSize",{enumerable:!0,get:function(){return p.normalizeToSize}}),Object.defineProperty(exports,"objectify",{enumerable:!0,get:function(){return b.objectify}}),Object.defineProperty(exports,"parseBaggageHeader",{enumerable:!0,get:function(){return R.parseBaggageHeader}}),Object.defineProperty(exports,"parseBaggageSetMutability",{enumerable:!0,get:function(){return R.parseBaggageSetMutability}}),Object.defineProperty(exports,"parseRetryAfterHeader",{enumerable:!0,get:function(){return T.parseRetryAfterHeader}}),Object.defineProperty(exports,"parseSemver",{enumerable:!0,get:function(){return s.parseSemver}}),Object.defineProperty(exports,"parseUrl",{enumerable:!0,get:function(){return s.parseUrl}}),Object.defineProperty(exports,"rejectedSyncPromise",{enumerable:!0,get:function(){return j.rejectedSyncPromise}}),Object.defineProperty(exports,"relative",{enumerable:!0,get:function(){return f.relative}}),Object.defineProperty(exports,"resolve",{enumerable:!0,get:function(){return f.resolve}}),Object.defineProperty(exports,"resolvedSyncPromise",{enumerable:!0,get:function(){return j.resolvedSyncPromise}}),Object.defineProperty(exports,"safeJoin",{enumerable:!0,get:function(){return y.safeJoin}}),Object.defineProperty(exports,"serializeBaggage",{enumerable:!0,get:function(){return R.serializeBaggage}}),Object.defineProperty(exports,"serializeEnvelope",{enumerable:!0,get:function(){return S.serializeEnvelope}}),Object.defineProperty(exports,"setBaggageImmutable",{enumerable:!0,get:function(){return R.setBaggageImmutable}}),Object.defineProperty(exports,"setBaggageValue",{enumerable:!0,get:function(){return R.setBaggageValue}}),Object.defineProperty(exports,"severityFromString",{enumerable:!0,get:function(){return m.severityFromString}}),Object.defineProperty(exports,"severityLevelFromString",{enumerable:!0,get:function(){return m.severityLevelFromString}}),Object.defineProperty(exports,"snipLine",{enumerable:!0,get:function(){return y.snipLine}}),Object.defineProperty(exports,"stackParserFromStackParserOptions",{enumerable:!0,get:function(){return d.stackParserFromStackParserOptions}}),Object.defineProperty(exports,"stripSentryFramesAndReverse",{enumerable:!0,get:function(){return d.stripSentryFramesAndReverse}}),Object.defineProperty(exports,"stripUrlQueryAndFragment",{enumerable:!0,get:function(){return s.stripUrlQueryAndFragment}}),Object.defineProperty(exports,"supportsDOMError",{enumerable:!0,get:function(){return P.supportsDOMError}}),Object.defineProperty(exports,"supportsDOMException",{enumerable:!0,get:function(){return P.supportsDOMException}}),Object.defineProperty(exports,"supportsErrorEvent",{enumerable:!0,get:function(){return P.supportsErrorEvent}}),Object.defineProperty(exports,"supportsFetch",{enumerable:!0,get:function(){return P.supportsFetch}}),Object.defineProperty(exports,"supportsHistory",{enumerable:!0,get:function(){return P.supportsHistory}}),Object.defineProperty(exports,"supportsNativeFetch",{enumerable:!0,get:function(){return P.supportsNativeFetch}}),Object.defineProperty(exports,"supportsReferrerPolicy",{enumerable:!0,get:function(){return P.supportsReferrerPolicy}}),Object.defineProperty(exports,"supportsReportingObserver",{enumerable:!0,get:function(){return P.supportsReportingObserver}}),Object.defineProperty(exports,"timestampInSeconds",{enumerable:!0,get:function(){return O.timestampInSeconds}}),Object.defineProperty(exports,"timestampWithMs",{enumerable:!0,get:function(){return O.timestampWithMs}}),Object.defineProperty(exports,"truncate",{enumerable:!0,get:function(){return y.truncate}}),Object.defineProperty(exports,"updateRateLimits",{enumerable:!0,get:function(){return T.updateRateLimits}}),Object.defineProperty(exports,"urlEncode",{enumerable:!0,get:function(){return b.urlEncode}}),Object.defineProperty(exports,"usingPerformanceAPI",{enumerable:!0,get:function(){return O.usingPerformanceAPI}}),Object.defineProperty(exports,"uuid4",{enumerable:!0,get:function(){return s.uuid4}}),Object.defineProperty(exports,"validSeverityLevels",{enumerable:!0,get:function(){return m.validSeverityLevels}}),Object.defineProperty(exports,"walk",{enumerable:!0,get:function(){return p.walk}});var e=require("./browser.js"),r=require("./dsn.js"),t=require("./error.js"),n=require("./global.js"),o=require("./instrument.js"),i=require("./is.js"),u=require("./logger.js"),a=require("./memo.js"),s=require("./misc.js"),c=require("./node.js"),p=require("./normalize.js"),b=require("./object.js"),f=require("./path.js"),g=require("./promisebuffer.js"),l=require("./requestdata.js"),m=require("./severity.js"),d=require("./stacktrace.js"),y=require("./string.js"),P=require("./supports.js"),j=require("./syncpromise.js"),O=require("./time.js"),x=require("./tracing.js"),E=require("./env.js"),S=require("./envelope.js"),v=require("./clientreport.js"),T=require("./ratelimit.js"),R=require("./baggage.js");
},{"./browser.js":"wNCt","./dsn.js":"au1D","./error.js":"IhUY","./global.js":"C01w","./instrument.js":"Sn6H","./is.js":"cixp","./logger.js":"ZYOL","./memo.js":"dPzZ","./misc.js":"CNBN","./node.js":"LRch","./normalize.js":"Lnz1","./object.js":"f2BT","./path.js":"bF34","./promisebuffer.js":"WUuT","./requestdata.js":"jCwy","./severity.js":"gKZv","./stacktrace.js":"xhfg","./string.js":"EomM","./supports.js":"shUJ","./syncpromise.js":"EwT2","./time.js":"sp40","./tracing.js":"xH08","./env.js":"Zerw","./envelope.js":"tA9q","./clientreport.js":"LvSx","./ratelimit.js":"wnnc","./baggage.js":"CGlL"}],"CiUD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.closeSession=r,exports.makeSession=t,exports.updateSession=s;var e=require("@sentry/utils");function t(t){var r=(0,e.timestampInSeconds)(),d={sid:(0,e.uuid4)(),init:!0,timestamp:r,started:r,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>i(d)};return t&&s(d,t),d}function s(t,s={}){if(s.user&&(!t.ipAddress&&s.user.ip_address&&(t.ipAddress=s.user.ip_address),t.did||s.did||(t.did=s.user.id||s.user.email||s.user.username)),t.timestamp=s.timestamp||(0,e.timestampInSeconds)(),s.ignoreDuration&&(t.ignoreDuration=s.ignoreDuration),s.sid&&(t.sid=32===s.sid.length?s.sid:(0,e.uuid4)()),void 0!==s.init&&(t.init=s.init),!t.did&&s.did&&(t.did=`${s.did}`),"number"==typeof s.started&&(t.started=s.started),t.ignoreDuration)t.duration=void 0;else if("number"==typeof s.duration)t.duration=s.duration;else{var r=t.timestamp-t.started;t.duration=r>=0?r:0}s.release&&(t.release=s.release),s.environment&&(t.environment=s.environment),!t.ipAddress&&s.ipAddress&&(t.ipAddress=s.ipAddress),!t.userAgent&&s.userAgent&&(t.userAgent=s.userAgent),"number"==typeof s.errors&&(t.errors=s.errors),s.status&&(t.status=s.status)}function r(e,t){let r={};t?r={status:t}:"ok"===e.status&&(r={status:"exited"}),s(e,r)}function i(t){return(0,e.dropUndefinedKeys)({sid:`${t.sid}`,init:t.init,started:new Date(1e3*t.started).toISOString(),timestamp:new Date(1e3*t.timestamp).toISOString(),status:t.status,errors:t.errors,did:"number"==typeof t.did||"string"==typeof t.did?`${t.did}`:void 0,duration:t.duration,attrs:{release:t.release,environment:t.environment,ip_address:t.ipAddress,user_agent:t.userAgent}})}
},{"@sentry/utils":"vnUD"}],"RFfS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scope=void 0,exports.addGlobalEventProcessor=n;var t=require("@sentry/utils"),s=require("./session.js"),e=100;class i{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(t){var s=new i;return t&&(s._breadcrumbs=[...t._breadcrumbs],s._tags={...t._tags},s._extra={...t._extra},s._contexts={...t._contexts},s._user=t._user,s._level=t._level,s._span=t._span,s._session=t._session,s._transactionName=t._transactionName,s._fingerprint=t._fingerprint,s._eventProcessors=[...t._eventProcessors],s._requestSession=t._requestSession,s._attachments=[...t._attachments]),s}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{},this._session&&(0,s.updateSession)(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,s){return this._tags={...this._tags,[t]:s},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,s){return this._extra={...this._extra,[t]:s},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,s){return null===s?delete this._contexts[t]:this._contexts={...this._contexts,[t]:s},this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){var t=this.getSpan();return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(s){if(!s)return this;if("function"==typeof s){var e=s(this);return e instanceof i?e:this}return s instanceof i?(this._tags={...this._tags,...s._tags},this._extra={...this._extra,...s._extra},this._contexts={...this._contexts,...s._contexts},s._user&&Object.keys(s._user).length&&(this._user=s._user),s._level&&(this._level=s._level),s._fingerprint&&(this._fingerprint=s._fingerprint),s._requestSession&&(this._requestSession=s._requestSession)):(0,t.isPlainObject)(s)&&(s=s,this._tags={...this._tags,...s.tags},this._extra={...this._extra,...s.extra},this._contexts={...this._contexts,...s.contexts},s.user&&(this._user=s.user),s.level&&(this._level=s.level),s.fingerprint&&(this._fingerprint=s.fingerprint),s.requestSession&&(this._requestSession=s.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(s,i){var r="number"==typeof i?Math.min(i,e):e;if(r<=0)return this;var n={timestamp:(0,t.dateTimestampInSeconds)(),...s};return this._breadcrumbs=[...this._breadcrumbs,n].slice(-r),this._notifyScopeListeners(),this}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(t,s={}){if(this._extra&&Object.keys(this._extra).length&&(t.extra={...this._extra,...t.extra}),this._tags&&Object.keys(this._tags).length&&(t.tags={...this._tags,...t.tags}),this._user&&Object.keys(this._user).length&&(t.user={...this._user,...t.user}),this._contexts&&Object.keys(this._contexts).length&&(t.contexts={...this._contexts,...t.contexts}),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts={trace:this._span.getTraceContext(),...t.contexts};var e=this._span.transaction&&this._span.transaction.name;e&&(t.tags={transaction:e,...t.tags})}return this._applyFingerprint(t),t.breadcrumbs=[...t.breadcrumbs||[],...this._breadcrumbs],t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata={...t.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...r(),...this._eventProcessors],t,s)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}_notifyEventProcessors(s,e,i,r=0){return new t.SyncPromise((n,a)=>{var h=s[r];if(null===e||"function"!=typeof h)n(e);else{var _=h({...e},i);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&h.id&&null===_&&t.logger.log(`Event processor "${h.id}" dropped event`),(0,t.isThenable)(_)?_.then(t=>this._notifyEventProcessors(s,t,i,r+1).then(n)).then(null,a):this._notifyEventProcessors(s,_,i,r+1).then(n).then(null,a)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}_applyFingerprint(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint}}function r(){return(0,t.getGlobalSingleton)("globalEventProcessors",()=>[])}function n(t){r().push(t)}exports.Scope=i;
},{"@sentry/utils":"vnUD","./session.js":"CiUD"}],"R95U":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.Hub=exports.API_VERSION=void 0,exports.getCurrentHub=u,exports.getHubFromCarrier=h,exports.getMainCarrier=a,exports.makeMain=c,exports.setHubOnCarrier=l;var t=require("@sentry/utils"),n=require("./scope.js"),s=require("./session.js"),i=4;exports.API_VERSION=i;var r=100;class o{__init(){this._stack=[{}]}constructor(e,t=new n.Scope,s=i){this._version=s,o.prototype.__init.call(this),this.getStackTop().scope=t,e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){var e=n.Scope.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return!(this.getStack().length<=1)&&!!this.getStack().pop()}withScope(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,n){var s=this._lastEventId=n&&n.event_id?n.event_id:(0,t.uuid4)(),i=new Error("Sentry syntheticException");return this._withClient((t,r)=>{t.captureException(e,{originalException:e,syntheticException:i,...n,event_id:s},r)}),s}captureMessage(e,n,s){var i=this._lastEventId=s&&s.event_id?s.event_id:(0,t.uuid4)(),r=new Error(e);return this._withClient((t,o)=>{t.captureMessage(e,n,{originalException:e,syntheticException:r,...s,event_id:i},o)}),i}captureEvent(e,n){var s=n&&n.event_id?n.event_id:(0,t.uuid4)();return"transaction"!==e.type&&(this._lastEventId=s),this._withClient((t,i)=>{t.captureEvent(e,{...n,event_id:s},i)}),s}lastEventId(){return this._lastEventId}addBreadcrumb(e,n){const{scope:s,client:i}=this.getStackTop();if(!s||!i)return;const{beforeBreadcrumb:o=null,maxBreadcrumbs:a=r}=i.getOptions&&i.getOptions()||{};if(!(a<=0)){var c={timestamp:(0,t.dateTimestampInSeconds)(),...e},u=o?(0,t.consoleSandbox)(()=>o(c,n)):c;null!==u&&s.addBreadcrumb(u,a)}}setUser(e){var t=this.getScope();t&&t.setUser(e)}setTags(e){var t=this.getScope();t&&t.setTags(e)}setExtras(e){var t=this.getScope();t&&t.setExtras(e)}setTag(e,t){var n=this.getScope();n&&n.setTag(e,t)}setExtra(e,t){var n=this.getScope();n&&n.setExtra(e,t)}setContext(e,t){var n=this.getScope();n&&n.setContext(e,t)}configureScope(e){const{scope:t,client:n}=this.getStackTop();t&&n&&e(t)}run(e){var t=c(this);try{e(this)}finally{c(t)}}getIntegration(e){var n=this.getClient();if(!n)return null;try{return n.getIntegration(e)}catch(s){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){var e=this.getStackTop(),t=e&&e.scope,n=t&&t.getSession();n&&(0,s.closeSession)(n),this._sendSessionUpdate(),t&&t.setSession()}startSession(e){const{scope:n,client:i}=this.getStackTop(),{release:r,environment:o}=i&&i.getOptions()||{};var a=(0,t.getGlobalObject)();const{userAgent:c}=a.navigator||{};var u=(0,s.makeSession)({release:r,environment:o,...n&&{user:n.getUser()},...c&&{userAgent:c},...e});if(n){var p=n.getSession&&n.getSession();p&&"ok"===p.status&&(0,s.updateSession)(p,{status:"exited"}),this.endSession(),n.setSession(u)}return u}shouldSendDefaultPii(){var e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){const{scope:e,client:t}=this.getStackTop();if(e){var n=e.getSession();n&&t&&t.captureSession&&t.captureSession(n)}}_withClient(e){const{scope:t,client:n}=this.getStackTop();n&&e(n,t)}_callExtensionMethod(e,...n){var s=a().__SENTRY__;if(s&&s.extensions&&"function"==typeof s.extensions[e])return s.extensions[e].apply(this,n);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Extension method ${e} couldn't be found, doing nothing.`)}}function a(){var e=(0,t.getGlobalObject)();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function c(e){var t=a(),n=h(t);return l(t,e),n}function u(){var e=a();return _(e)&&!h(e).isOlderThan(i)||l(e,new o),(0,t.isNodeEnv)()?p(e):h(e)}function p(e){try{var t=a().__SENTRY__,s=t&&t.extensions&&t.extensions.domain&&t.extensions.domain.active;if(!s)return h(e);if(!_(s)||h(s).isOlderThan(i)){var r=h(e).getStackTop();l(s,new o(r.client,n.Scope.clone(r.scope)))}return h(s)}catch(c){return h(e)}}function _(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function h(e){return(0,t.getGlobalSingleton)("hub",()=>new o,e)}function l(e,t){return!!e&&((e.__SENTRY__=e.__SENTRY__||{}).hub=t,!0)}exports.Hub=o;
},{"@sentry/utils":"vnUD","./scope.js":"RFfS","./session.js":"CiUD"}],"SLa3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SessionFlusher=void 0;var e=require("@sentry/utils"),t=require("./hub.js");class s{__init(){this.flushTimeout=60}__init2(){this._pendingAggregates={}}__init3(){this._isEnabled=!0}constructor(e,t){s.prototype.__init.call(this),s.prototype.__init2.call(this),s.prototype.__init3.call(this),this._client=e,this._intervalId=setInterval(()=>this.flush(),1e3*this.flushTimeout),this._sessionAttrs=t}flush(){var e=this.getSessionAggregates();0!==e.aggregates.length&&(this._pendingAggregates={},this._client.sendSession(e))}getSessionAggregates(){var t=Object.keys(this._pendingAggregates).map(e=>this._pendingAggregates[parseInt(e)]),s={attrs:this._sessionAttrs,aggregates:t};return(0,e.dropUndefinedKeys)(s)}close(){clearInterval(this._intervalId),this._isEnabled=!1,this.flush()}incrementSessionStatusCount(){if(this._isEnabled){var e=(0,t.getCurrentHub)().getScope(),s=e&&e.getRequestSession();s&&s.status&&(this._incrementSessionStatusCount(s.status,new Date),e&&e.setRequestSession(void 0))}}_incrementSessionStatusCount(e,t){var s=new Date(t).setSeconds(0,0);this._pendingAggregates[s]=this._pendingAggregates[s]||{};var i=this._pendingAggregates[s];switch(i.started||(i.started=new Date(s).toISOString()),e){case"errored":return i.errored=(i.errored||0)+1,i.errored;case"ok":return i.exited=(i.exited||0)+1,i.exited;default:return i.crashed=(i.crashed||0)+1,i.crashed}}}exports.SessionFlusher=s;
},{"@sentry/utils":"vnUD","./hub.js":"R95U"}],"XOCU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.addBreadcrumb=o,exports.captureEvent=u,exports.captureException=e,exports.captureMessage=r,exports.configureScope=n,exports.setContext=s,exports.setExtra=a,exports.setExtras=c,exports.setTag=i,exports.setTags=p,exports.setUser=x,exports.startTransaction=f,exports.withScope=g;var t=require("./hub.js");function e(e,r){return(0,t.getCurrentHub)().captureException(e,{captureContext:r})}function r(e,r){var u="string"==typeof r?r:void 0,n="string"!=typeof r?{captureContext:r}:void 0;return(0,t.getCurrentHub)().captureMessage(e,u,n)}function u(e,r){return(0,t.getCurrentHub)().captureEvent(e,r)}function n(e){(0,t.getCurrentHub)().configureScope(e)}function o(e){(0,t.getCurrentHub)().addBreadcrumb(e)}function s(e,r){(0,t.getCurrentHub)().setContext(e,r)}function c(e){(0,t.getCurrentHub)().setExtras(e)}function a(e,r){(0,t.getCurrentHub)().setExtra(e,r)}function p(e){(0,t.getCurrentHub)().setTags(e)}function i(e,r){(0,t.getCurrentHub)().setTag(e,r)}function x(e){(0,t.getCurrentHub)().setUser(e)}function g(e){(0,t.getCurrentHub)().withScope(e)}function f(e,r){return(0,t.getCurrentHub)().startTransaction({metadata:{source:"custom"},...e},r)}
},{"./hub.js":"R95U"}],"U9M5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return n.Hub}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return e.Scope}}),Object.defineProperty(exports,"SessionFlusher",{enumerable:!0,get:function(){return t.SessionFlusher}}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return o.addBreadcrumb}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return e.addGlobalEventProcessor}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return o.captureEvent}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return o.captureException}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return o.captureMessage}}),Object.defineProperty(exports,"closeSession",{enumerable:!0,get:function(){return r.closeSession}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return o.configureScope}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return n.getCurrentHub}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return n.getHubFromCarrier}}),Object.defineProperty(exports,"getMainCarrier",{enumerable:!0,get:function(){return n.getMainCarrier}}),Object.defineProperty(exports,"makeMain",{enumerable:!0,get:function(){return n.makeMain}}),Object.defineProperty(exports,"makeSession",{enumerable:!0,get:function(){return r.makeSession}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return o.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return o.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return o.setExtras}}),Object.defineProperty(exports,"setHubOnCarrier",{enumerable:!0,get:function(){return n.setHubOnCarrier}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return o.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return o.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return o.setUser}}),Object.defineProperty(exports,"startTransaction",{enumerable:!0,get:function(){return o.startTransaction}}),Object.defineProperty(exports,"updateSession",{enumerable:!0,get:function(){return r.updateSession}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return o.withScope}});var e=require("./scope.js"),r=require("./session.js"),t=require("./sessionflusher.js"),n=require("./hub.js"),o=require("./exports.js");
},{"./scope.js":"RFfS","./session.js":"CiUD","./sessionflusher.js":"SLa3","./hub.js":"R95U","./exports.js":"XOCU"}],"DsIj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getEnvelopeEndpointWithUrlEncodedAuth=i,exports.getReportDialogEndpoint=a;var e=require("@sentry/utils"),n="7";function t(e){var n=e.protocol?`${e.protocol}:`:"",t=e.port?`:${e.port}`:"";return`${n}//${e.host}${t}${e.path?`/${e.path}`:""}/api/`}function o(e){return`${t(e)}${e.projectId}/envelope/`}function r(t,o){return(0,e.urlEncode)({sentry_key:t.publicKey,sentry_version:n,...o&&{sentry_client:`${o.name}/${o.version}`}})}function i(e,n={}){var t="string"==typeof n?n:n.tunnel,i="string"!=typeof n&&n._metadata?n._metadata.sdk:void 0;return t||`${o(e)}?${r(e,i)}`}function a(n,o){var r=(0,e.makeDsn)(n),i=`${t(r)}embed/error-page/`;let a=`dsn=${(0,e.dsnToString)(r)}`;for(var p in o)if("dsn"!==p)if("user"===p){var s=o.user;if(!s)continue;s.name&&(a+=`&name=${encodeURIComponent(s.name)}`),s.email&&(a+=`&email=${encodeURIComponent(s.email)}`)}else a+=`&${encodeURIComponent(p)}=${encodeURIComponent(o[p])}`;return`${i}?${a}`}
},{"@sentry/utils":"vnUD"}],"EiVQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEventEnvelope=a,exports.createSessionEnvelope=s;var e=require("@sentry/utils");function t(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function n(e,t){return t?(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]],e):e}function s(n,s,a,r){var i=t(a),o={sent_at:(new Date).toISOString(),...i&&{sdk:i},...!!r&&{dsn:(0,e.dsnToString)(s)}},d="aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n];return(0,e.createEnvelope)(o,[d])}function a(s,a,i,o){var d=t(i),g=s.type||"event";const{transactionSampling:c}=s.sdkProcessingMetadata||{},{method:k,rate:v}=c||{};n(s,i&&i.sdk);var p=r(s,d,o,a);delete s.sdkProcessingMetadata;var u=[{type:g,sample_rates:[{id:k,rate:v}]},s];return(0,e.createEnvelope)(p,[u])}function r(t,n,s,a){var r=t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baggage,i=r&&(0,e.getSentryBaggageItems)(r);return{event_id:t.event_id,sent_at:(new Date).toISOString(),...n&&{sdk:n},...!!s&&{dsn:(0,e.dsnToString)(a)},..."transaction"===t.type&&i&&{trace:(0,e.dropUndefinedKeys)({...i})}}}
},{"@sentry/utils":"vnUD"}],"am9d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getIntegrationsToSetup=a,exports.installedIntegrations=void 0,exports.setupIntegrations=s;var e=require("@sentry/hub"),t=require("@sentry/utils"),n=[];function r(e){return e.reduce((e,t)=>(e.every(e=>t.name!==e.name)&&e.push(t),e),[])}function a(e){var t=e.defaultIntegrations&&[...e.defaultIntegrations]||[],n=e.integrations;let a=[...r(t)];Array.isArray(n)?a=[...a.filter(e=>n.every(t=>t.name!==e.name)),...r(n)]:"function"==typeof n&&(a=n(a),a=Array.isArray(a)?a:[a]);var s=a.map(e=>e.name);return-1!==s.indexOf("Debug")&&a.push(...a.splice(s.indexOf("Debug"),1)),a}function s(r){var a={};return r.forEach(r=>{a[r.name]=r,-1===n.indexOf(r.name)&&(r.setupOnce(e.addGlobalEventProcessor,e.getCurrentHub),n.push(r.name),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`Integration installed: ${r.name}`))}),a}exports.installedIntegrations=n;
},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],"AQrL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BaseClient=void 0;var e=require("@sentry/hub"),t=require("@sentry/utils"),n=require("./api.js"),r=require("./envelope.js"),s=require("./integration.js"),i="Not capturing exception because it's already been captured.";class o{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(e){if(o.prototype.__init.call(this),o.prototype.__init2.call(this),o.prototype.__init3.call(this),o.prototype.__init4.call(this),this._options=e,e.dsn){this._dsn=(0,t.makeDsn)(e.dsn);var r=(0,n.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:r})}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("No DSN provided, client will not do anything.")}captureException(e,n,r){if((0,t.checkOrSetAlreadyCaught)(e))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(i));let s=n&&n.event_id;return this._process(this.eventFromException(e,n).then(e=>this._captureEvent(e,n,r)).then(e=>{s=e})),s}captureMessage(e,n,r,s){let i=r&&r.event_id;var o=(0,t.isPrimitive)(e)?this.eventFromMessage(String(e),n,r):this.eventFromException(e,r);return this._process(o.then(e=>this._captureEvent(e,r,s)).then(e=>{i=e})),i}captureEvent(e,n,r){if(n&&n.originalException&&(0,t.checkOrSetAlreadyCaught)(n.originalException))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(i));let s=n&&n.event_id;return this._process(this._captureEvent(e,n,r).then(e=>{s=e})),s}captureSession(n){this._isEnabled()?"string"!=typeof n.release?("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Discarded session because of missing or non-string release"):(this.sendSession(n),(0,e.updateSession)(n,{init:!1})):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("SDK not enabled, will not capture session.")}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(e){var n=this._transport;return n?this._isClientDoneProcessing(e).then(t=>n.flush(e).then(e=>t&&e)):(0,t.resolvedSyncPromise)(!0)}close(e){return this.flush(e).then(e=>(this.getOptions().enabled=!1,e))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=(0,s.setupIntegrations)(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(n){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}sendEvent(e,n={}){if(this._dsn){let i=(0,r.createEventEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);for(var s of n.attachments||[])i=(0,t.addItemToEnvelope)(i,(0,t.createAttachmentEnvelopeItem)(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(i)}}sendSession(e){if(this._dsn){var t=(0,r.createSessionEnvelope)(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,n){if(this._options.sendClientReports){var r=`${e}:${n}`;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`Adding outcome: "${r}"`),this._outcomes[r]=this._outcomes[r]+1||1}}_updateSessionFromEvent(t,n){let r=!1,s=!1;var i=n.exception&&n.exception.values;if(i)for(var o of(s=!0,i)){var a=o.mechanism;if(a&&!1===a.handled){r=!0;break}}var _="ok"===t.status;(_&&0===t.errors||_&&r)&&((0,e.updateSession)(t,{...r&&{status:"crashed"},errors:t.errors||Number(s||r)}),this.captureSession(t))}_isClientDoneProcessing(e){return new t.SyncPromise(t=>{let n=0;var r=setInterval(()=>{0==this._numProcessing?(clearInterval(r),t(!0)):(n+=1,e&&n>=e&&(clearInterval(r),t(!1)))},1)})}_isEnabled(){return!1!==this.getOptions().enabled&&void 0!==this._dsn}_prepareEvent(n,r,s){const{normalizeDepth:i=3,normalizeMaxBreadth:o=1e3}=this.getOptions();var a={...n,event_id:n.event_id||r.event_id||(0,t.uuid4)(),timestamp:n.timestamp||(0,t.dateTimestampInSeconds)()};this._applyClientOptions(a),this._applyIntegrationsMetadata(a);let _=s;r.captureContext&&(_=e.Scope.clone(_).update(r.captureContext));let l=(0,t.resolvedSyncPromise)(a);if(_){var d=[...r.attachments||[],..._.getAttachments()];d.length&&(r.attachments=d),l=_.applyToEvent(a,r)}return l.then(e=>"number"==typeof i&&i>0?this._normalizeEvent(e,i,o):e)}_normalizeEvent(e,n,r){if(!e)return null;var s={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(e=>({...e,...e.data&&{data:(0,t.normalize)(e.data,n,r)}}))},...e.user&&{user:(0,t.normalize)(e.user,n,r)},...e.contexts&&{contexts:(0,t.normalize)(e.contexts,n,r)},...e.extra&&{extra:(0,t.normalize)(e.extra,n,r)}};return e.contexts&&e.contexts.trace&&s.contexts&&(s.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(s.contexts.trace.data=(0,t.normalize)(e.contexts.trace.data,n,r))),e.spans&&(s.spans=e.spans.map(e=>(e.data&&(e.data=(0,t.normalize)(e.data,n,r)),e))),s}_applyClientOptions(e){var n=this.getOptions();const{environment:r,release:s,dist:i,maxValueLength:o=250}=n;"environment"in e||(e.environment="environment"in n?r:"production"),void 0===e.release&&void 0!==s&&(e.release=s),void 0===e.dist&&void 0!==i&&(e.dist=i),e.message&&(e.message=(0,t.truncate)(e.message,o));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=(0,t.truncate)(a.value,o));var _=e.request;_&&_.url&&(_.url=(0,t.truncate)(_.url,o))}_applyIntegrationsMetadata(e){var t=Object.keys(this._integrations);t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}_captureEvent(e,n={},r){return this._processEvent(e,n,r).then(e=>e.event_id,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(e)})}_processEvent(e,n,r){const{beforeSend:s,sampleRate:i}=this.getOptions();if(!this._isEnabled())return(0,t.rejectedSyncPromise)(new t.SentryError("SDK not enabled, will not capture event."));var o="transaction"===e.type;return!o&&"number"==typeof i&&Math.random()>i?(this.recordDroppedEvent("sample_rate","error"),(0,t.rejectedSyncPromise)(new t.SentryError(`Discarding event because it's not included in the random sample (sampling rate = ${i})`))):this._prepareEvent(e,n,r).then(r=>{if(null===r)throw this.recordDroppedEvent("event_processor",e.type||"error"),new t.SentryError("An event processor returned null, will not send event.");return n.data&&!0===n.data.__sentry__||o||!s?r:a(s(r,n))}).then(s=>{if(null===s)throw this.recordDroppedEvent("before_send",e.type||"error"),new t.SentryError("`beforeSend` returned `null`, will not send event.");var i=r&&r.getSession();return!o&&i&&this._updateSessionFromEvent(i,s),this.sendEvent(s,n),s}).then(null,e=>{if(e instanceof t.SentryError)throw e;throw this.captureException(e,{data:{__sentry__:!0},originalException:e}),new t.SentryError(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: ${e}`)})}_process(e){this._numProcessing+=1,e.then(e=>(this._numProcessing-=1,e),e=>(this._numProcessing-=1,e))}_sendEnvelope(e){this._transport&&this._dsn?this._transport.send(e).then(null,e=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Error while sending event:",e)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Transport disabled")}_clearOutcomes(){var e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{const[n,r]=t.split(":");return{reason:n,category:r,quantity:e[t]}})}}function a(e){var n="`beforeSend` method has to return `null` or a valid event.";if((0,t.isThenable)(e))return e.then(e=>{if(!(0,t.isPlainObject)(e)&&null!==e)throw new t.SentryError(n);return e},e=>{throw new t.SentryError(`beforeSend rejected with ${e}`)});if(!(0,t.isPlainObject)(e)&&null!==e)throw new t.SentryError(n);return e}exports.BaseClient=o;
},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD","./api.js":"DsIj","./envelope.js":"EiVQ","./integration.js":"am9d"}],"Bvms":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initAndBind=t;var e=require("@sentry/hub"),n=require("@sentry/utils");function t(t,i){!0===i.debug&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__?n.logger.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var r=(0,e.getCurrentHub)(),u=r.getScope();u&&u.update(i.initialScope);var o=new t(i);r.bindClient(o)}
},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],"Ic4T":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TRANSPORT_BUFFER_SIZE=void 0,exports.createTransport=t;var e=require("@sentry/utils"),r=30;function t(t,o,n=(0,e.makePromiseBuffer)(t.bufferSize||r)){let _={};return{send:function(r){var d=[];if((0,e.forEachEnvelopeItem)(r,(r,o)=>{var n=(0,e.envelopeItemTypeToDataCategory)(o);(0,e.isRateLimited)(_,n)?t.recordDroppedEvent("ratelimit_backoff",n):d.push(r)}),0===d.length)return(0,e.resolvedSyncPromise)();var s=(0,e.createEnvelope)(r[0],d),i=r=>{(0,e.forEachEnvelopeItem)(s,(o,n)=>{t.recordDroppedEvent(r,(0,e.envelopeItemTypeToDataCategory)(n))})};return n.add(()=>o({body:(0,e.serializeEnvelope)(s,t.textEncoder)}).then(r=>{void 0!==r.statusCode&&(r.statusCode<200||r.statusCode>=300)&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn(`Sentry responded with status code ${r.statusCode} to sent event.`),_=(0,e.updateRateLimits)(_,r)},r=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.error("Failed while sending event:",r),i("network_error")})).then(e=>e,r=>{if(r instanceof e.SentryError)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.error("Skipped sending event due to full buffer"),i("queue_overflow"),(0,e.resolvedSyncPromise)();throw r})},flush:e=>n.drain(e)}}exports.DEFAULT_TRANSPORT_BUFFER_SIZE=r;
},{"@sentry/utils":"vnUD"}],"qTdY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SDK_VERSION=void 0;var e="7.8.1";exports.SDK_VERSION=e;
},{}],"ON5N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.FunctionToString=void 0;var t=require("@sentry/utils");let i;class n{constructor(){n.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=n.id}setupOnce(){i=Function.prototype.toString,Function.prototype.toString=function(...n){var o=(0,t.getOriginalFunction)(this)||this;return i.apply(o,n)}}}exports.FunctionToString=n,n.__initStatic();
},{"@sentry/utils":"vnUD"}],"PwYX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InboundFilters=void 0,exports._mergeOptions=t,exports._shouldDropEvent=o;var e=require("@sentry/utils"),n=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class r{static __initStatic(){this.id="InboundFilters"}__init(){this.name=r.id}constructor(e={}){this._options=e,r.prototype.__init.call(this)}setupOnce(e,n){var i=e=>{var i=n();if(i){var _=i.getIntegration(r);if(_){var s=i.getClient(),l=s?s.getOptions():{};return o(e,t(_._options,l))?null:e}}return e};i.id=this.name,e(i)}}function t(e={},r={}){return{allowUrls:[...e.allowUrls||[],...r.allowUrls||[]],denyUrls:[...e.denyUrls||[],...r.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...r.ignoreErrors||[],...n],ignoreInternal:void 0===e.ignoreInternal||e.ignoreInternal}}function o(n,r){return r.ignoreInternal&&a(n)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn(`Event dropped due to being internal Sentry Error.\nEvent: ${(0,e.getEventDescription)(n)}`),!0):i(n,r.ignoreErrors)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn(`Event dropped due to being matched by \`ignoreErrors\` option.\nEvent: ${(0,e.getEventDescription)(n)}`),!0):_(n,r.denyUrls)?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn(`Event dropped due to being matched by \`denyUrls\` option.\nEvent: ${(0,e.getEventDescription)(n)}.\nUrl: ${c(n)}`),!0):!s(n,r.allowUrls)&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn(`Event dropped due to not being matched by \`allowUrls\` option.\nEvent: ${(0,e.getEventDescription)(n)}.\nUrl: ${c(n)}`),!0)}function i(n,r){return!(!r||!r.length)&&l(n).some(n=>r.some(r=>(0,e.isMatchingPattern)(n,r)))}function _(n,r){if(!r||!r.length)return!1;var t=c(n);return!!t&&r.some(n=>(0,e.isMatchingPattern)(t,n))}function s(n,r){if(!r||!r.length)return!0;var t=c(n);return!t||r.some(n=>(0,e.isMatchingPattern)(t,n))}function l(n){if(n.message)return[n.message];if(n.exception)try{const{type:t="",value:o=""}=n.exception.values&&n.exception.values[0]||{};return[`${o}`,`${t}: ${o}`]}catch(r){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.error(`Cannot extract message for event ${(0,e.getEventDescription)(n)}`),[]}return[]}function a(e){try{return"SentryError"===e.exception.values[0].type}catch(n){}return!1}function u(e=[]){for(let r=e.length-1;r>=0;r--){var n=e[r];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function c(n){try{let o;try{o=n.exception.values[0].stacktrace.frames}catch(r){}return o?u(o):null}catch(t){return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.error(`Cannot extract url for event ${(0,e.getEventDescription)(n)}`),null}}exports.InboundFilters=r,r.__initStatic();
},{"@sentry/utils":"vnUD"}],"t1vy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"FunctionToString",{enumerable:!0,get:function(){return e.FunctionToString}}),Object.defineProperty(exports,"InboundFilters",{enumerable:!0,get:function(){return r.InboundFilters}});var e=require("./functiontostring.js"),r=require("./inboundfilters.js");
},{"./functiontostring.js":"ON5N","./inboundfilters.js":"PwYX"}],"TZM3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BaseClient",{enumerable:!0,get:function(){return r.BaseClient}}),Object.defineProperty(exports,"FunctionToString",{enumerable:!0,get:function(){return p.FunctionToString}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return e.Hub}}),Object.defineProperty(exports,"InboundFilters",{enumerable:!0,get:function(){return c.InboundFilters}}),exports.Integrations=void 0,Object.defineProperty(exports,"SDK_VERSION",{enumerable:!0,get:function(){return u.SDK_VERSION}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return e.Scope}}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return e.addBreadcrumb}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return e.addGlobalEventProcessor}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return e.captureEvent}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return e.captureException}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return e.captureMessage}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return e.configureScope}}),Object.defineProperty(exports,"createTransport",{enumerable:!0,get:function(){return o.createTransport}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return e.getCurrentHub}}),Object.defineProperty(exports,"getEnvelopeEndpointWithUrlEncodedAuth",{enumerable:!0,get:function(){return t.getEnvelopeEndpointWithUrlEncodedAuth}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return e.getHubFromCarrier}}),Object.defineProperty(exports,"getIntegrationsToSetup",{enumerable:!0,get:function(){return i.getIntegrationsToSetup}}),Object.defineProperty(exports,"getReportDialogEndpoint",{enumerable:!0,get:function(){return t.getReportDialogEndpoint}}),Object.defineProperty(exports,"initAndBind",{enumerable:!0,get:function(){return n.initAndBind}}),Object.defineProperty(exports,"makeMain",{enumerable:!0,get:function(){return e.makeMain}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return e.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return e.setExtras}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return e.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return e.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return e.setUser}}),Object.defineProperty(exports,"startTransaction",{enumerable:!0,get:function(){return e.startTransaction}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return e.withScope}});var e=require("@sentry/hub"),t=require("./api.js"),r=require("./baseclient.js"),n=require("./sdk.js"),o=require("./transports/base.js"),u=require("./version.js"),i=require("./integration.js"),a=f(require("./integrations/index.js"));exports.Integrations=a;var p=require("./integrations/functiontostring.js"),c=require("./integrations/inboundfilters.js");function s(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(s=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=s(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var i=o?Object.getOwnPropertyDescriptor(e,u):null;i&&(i.get||i.set)?Object.defineProperty(n,u,i):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}
},{"@sentry/hub":"U9M5","./api.js":"DsIj","./baseclient.js":"AQrL","./sdk.js":"Bvms","./transports/base.js":"Ic4T","./version.js":"qTdY","./integration.js":"am9d","./integrations/index.js":"t1vy","./integrations/functiontostring.js":"ON5N","./integrations/inboundfilters.js":"PwYX"}],"yGRZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.eventFromError=n,exports.eventFromException=c,exports.eventFromMessage=v,exports.eventFromPlainObject=t,exports.eventFromString=p,exports.eventFromUnknownInput=u,exports.exceptionFromError=r,exports.parseStackFrames=o;var e=require("@sentry/utils");function r(e,r){var t=o(e,r),n={type:r&&r.name,value:a(r)};return t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function t(r,t,n,i){var s={exception:{values:[{type:(0,e.isEvent)(t)?t.constructor.name:i?"UnhandledRejection":"Error",value:`Non-Error ${i?"promise rejection":"exception"} captured with keys: ${(0,e.extractExceptionKeysForMessage)(t)}`}]},extra:{__serialized__:(0,e.normalizeToSize)(t)}};if(n){var a=o(r,n);a.length&&(s.exception.values[0].stacktrace={frames:a})}return s}function n(e,t){return{exception:{values:[r(e,t)]}}}function o(e,r){var t=r.stacktrace||r.stack||"",n=s(r);try{return e(t,n)}catch(o){}return[]}var i=/Minified React error #\d+;/i;function s(e){if(e){if("number"==typeof e.framesToPop)return e.framesToPop;if(i.test(e.message))return 1}return 0}function a(e){var r=e&&e.message;return r?r.error&&"string"==typeof r.error.message?r.error.message:r:"No error message"}function c(r,t,n,o){var i=u(r,t,n&&n.syntheticException||void 0,o);return(0,e.addExceptionMechanism)(i),i.level="error",n&&n.event_id&&(i.event_id=n.event_id),(0,e.resolvedSyncPromise)(i)}function v(r,t,n="info",o,i){var s=p(r,t,o&&o.syntheticException||void 0,i);return s.level=n,o&&o.event_id&&(s.event_id=o.event_id),(0,e.resolvedSyncPromise)(s)}function u(r,o,i,s,a){let c;if((0,e.isErrorEvent)(o)&&o.error)return n(r,o.error);if((0,e.isDOMError)(o)||(0,e.isDOMException)(o)){var v=o;if("stack"in o)c=n(r,o);else{var u=v.name||((0,e.isDOMError)(v)?"DOMError":"DOMException"),d=v.message?`${u}: ${v.message}`:u;c=p(r,d,i,s),(0,e.addExceptionTypeValue)(c,d)}return"code"in v&&(c.tags={...c.tags,"DOMException.code":`${v.code}`}),c}return(0,e.isError)(o)?n(r,o):(0,e.isPlainObject)(o)||(0,e.isEvent)(o)?(c=t(r,o,i,a),(0,e.addExceptionMechanism)(c,{synthetic:!0}),c):(c=p(r,o,i,s),(0,e.addExceptionTypeValue)(c,`${o}`,void 0),(0,e.addExceptionMechanism)(c,{synthetic:!0}),c)}function p(e,r,t,n){var i={message:r};if(n&&t){var s=o(e,t);s.length&&(i.exception={values:[{value:r,stacktrace:{frames:s}}]})}return i}
},{"@sentry/utils":"vnUD"}],"YFxN":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.Breadcrumbs=exports.BREADCRUMB_INTEGRATION_ID=void 0;var e=require("@sentry/core"),r=require("@sentry/utils"),a="Breadcrumbs";exports.BREADCRUMB_INTEGRATION_ID=a;class o{static __initStatic(){this.id=a}__init(){this.name=o.id}constructor(t){o.prototype.__init.call(this),this.options={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...t}}setupOnce(){this.options.console&&(0,r.addInstrumentationHandler)("console",n),this.options.dom&&(0,r.addInstrumentationHandler)("dom",s(this.options.dom)),this.options.xhr&&(0,r.addInstrumentationHandler)("xhr",i),this.options.fetch&&(0,r.addInstrumentationHandler)("fetch",d),this.options.history&&(0,r.addInstrumentationHandler)("history",c)}}function s(t){return function(a){let o,s="object"==typeof t?t.serializeAttribute:void 0;"string"==typeof s&&(s=[s]);try{o=a.event.target?(0,r.htmlTreeAsString)(a.event.target,s):(0,r.htmlTreeAsString)(a.event,s)}catch(n){o="<unknown>"}0!==o.length&&(0,e.getCurrentHub)().addBreadcrumb({category:`ui.${a.name}`,message:o},{event:a.event,name:a.name,global:a.global})}}function n(t){var a={category:"console",data:{arguments:t.args,logger:"console"},level:(0,r.severityLevelFromString)(t.level),message:(0,r.safeJoin)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;a.message=`Assertion failed: ${(0,r.safeJoin)(t.args.slice(1)," ")||"console.assert"}`,a.data.arguments=t.args.slice(1)}(0,e.getCurrentHub)().addBreadcrumb(a,{input:t.args,level:t.level})}function i(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;const{method:r,url:a,status_code:o,body:s}=t.xhr.__sentry_xhr__||{};(0,e.getCurrentHub)().addBreadcrumb({category:"xhr",data:{method:r,url:a,status_code:o},type:"http"},{xhr:t.xhr,input:s})}else;}function d(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,e.getCurrentHub)().addBreadcrumb({category:"fetch",data:t.fetchData,level:"error",type:"http"},{data:t.error,input:t.args}):(0,e.getCurrentHub)().addBreadcrumb({category:"fetch",data:{...t.fetchData,status_code:t.response.status},type:"http"},{input:t.args,response:t.response})))}function c(t){var a=(0,r.getGlobalObject)();let o=t.from,s=t.to;var n=(0,r.parseUrl)(a.location.href);let i=(0,r.parseUrl)(o);var d=(0,r.parseUrl)(s);i.path||(i=n),n.protocol===d.protocol&&n.host===d.host&&(s=d.relative),n.protocol===i.protocol&&n.host===i.host&&(o=i.relative),(0,e.getCurrentHub)().addBreadcrumb({category:"navigation",data:{from:o,to:s}})}exports.Breadcrumbs=o,o.__initStatic();
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD"}],"NNJ0":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNativeFetchImplementation=o,exports.sendReport=r;var e=require("@sentry/utils"),t=(0,e.getGlobalObject)();let n;function o(){if(n)return n;if((0,e.isNativeFetch)(t.fetch))return n=t.fetch.bind(t);var o=t.document;let r=t.fetch;if(o&&"function"==typeof o.createElement)try{var i=o.createElement("iframe");i.hidden=!0,o.head.appendChild(i);var a=i.contentWindow;a&&a.fetch&&(r=a.fetch),o.head.removeChild(i)}catch(c){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",c)}return n=r.bind(t)}function r(n,r){if("[object Navigator]"===Object.prototype.toString.call(t&&t.navigator)&&"function"==typeof t.navigator.sendBeacon)t.navigator.sendBeacon.bind(t.navigator)(n,r);else if((0,e.supportsFetch)()){o()(n,{body:r,method:"POST",credentials:"omit",keepalive:!0}).then(null,t=>{("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.error(t)})}}
},{"@sentry/utils":"vnUD"}],"s6nm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserClient=void 0;var e=require("@sentry/core"),t=require("@sentry/utils"),r=require("./eventbuilder.js"),s=require("./integrations/breadcrumbs.js"),n=require("./transports/utils.js"),o=(0,t.getGlobalObject)();class i extends e.BaseClient{constructor(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:e.SDK_VERSION}],version:e.SDK_VERSION},super(t),t.sendClientReports&&o.document&&o.document.addEventListener("visibilitychange",()=>{"hidden"===o.document.visibilityState&&this._flushOutcomes()})}eventFromException(e,t){return(0,r.eventFromException)(this._options.stackParser,e,t,this._options.attachStacktrace)}eventFromMessage(e,t="info",s){return(0,r.eventFromMessage)(this._options.stackParser,e,t,s,this._options.attachStacktrace)}sendEvent(r,n){var o=this.getIntegrationById(s.BREADCRUMB_INTEGRATION_ID);o&&o.options&&o.options.sentry&&(0,e.getCurrentHub)().addBreadcrumb({category:`sentry.${"transaction"===r.type?"transaction":"event"}`,event_id:r.event_id,level:r.level,message:(0,t.getEventDescription)(r)},{event:r}),super.sendEvent(r,n)}_prepareEvent(e,t,r){return e.platform=e.platform||"javascript",super._prepareEvent(e,t,r)}_flushOutcomes(){var r=this._clearOutcomes();if(0!==r.length)if(this._dsn){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("Sending outcomes:",r);var s=(0,e.getEnvelopeEndpointWithUrlEncodedAuth)(this._dsn,this._options),o=(0,t.createClientReportEnvelope)(r,this._options.tunnel&&(0,t.dsnToString)(this._dsn));try{(0,n.sendReport)(s,(0,t.serializeEnvelope)(o))}catch(i){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error(i)}}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("No dsn provided, will not send outcomes");else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("No outcomes to send")}}exports.BrowserClient=i;
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD","./eventbuilder.js":"yGRZ","./integrations/breadcrumbs.js":"YFxN","./transports/utils.js":"NNJ0"}],"HQW2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeFetchTransport=t;var e=require("@sentry/core"),r=require("./utils.js");function t(t,s=(0,r.getNativeFetchImplementation)()){return(0,e.createTransport)(t,function(e){var r={body:e.body,method:"POST",referrerPolicy:"origin",headers:t.headers,...t.fetchOptions};return s(t.url,r).then(e=>({statusCode:e.status,headers:{"x-sentry-rate-limits":e.headers.get("X-Sentry-Rate-Limits"),"retry-after":e.headers.get("Retry-After")}}))})}
},{"@sentry/core":"TZM3","./utils.js":"NNJ0"}],"mwwI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.makeXHRTransport=s;var e=require("@sentry/core"),r=require("@sentry/utils"),t=4;function s(s){return(0,e.createTransport)(s,function(e){return new r.SyncPromise((r,a)=>{var n=new XMLHttpRequest;for(var o in n.onerror=a,n.onreadystatechange=(()=>{n.readyState===t&&r({statusCode:n.status,headers:{"x-sentry-rate-limits":n.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":n.getResponseHeader("Retry-After")}})}),n.open("POST",s.url),s.headers)Object.prototype.hasOwnProperty.call(s.headers,o)&&n.setRequestHeader(o,s.headers[o]);n.send(e.body)})})}
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD"}],"iexI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"makeFetchTransport",{enumerable:!0,get:function(){return e.makeFetchTransport}}),Object.defineProperty(exports,"makeXHRTransport",{enumerable:!0,get:function(){return r.makeXHRTransport}});var e=require("./fetch.js"),r=require("./xhr.js");
},{"./fetch.js":"HQW2","./xhr.js":"mwwI"}],"FteV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.winjsStackLineParser=exports.opera11StackLineParser=exports.opera10StackLineParser=exports.geckoStackLineParser=exports.defaultStackParser=exports.defaultStackLineParsers=exports.chromeStackLineParser=void 0;var e=require("@sentry/utils"),r="?",a=10,i=20,t=30,s=40,n=50;function o(e,r,a,i){var t={filename:e,function:r,in_app:!0};return void 0!==a&&(t.lineno=a),void 0!==i&&(t.colno=i),t}var c=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,d=/\((\S*)(?::(\d+))(?::(\d+))\)/,v=e=>{var a=c.exec(e);if(a){if(a[2]&&0===a[2].indexOf("eval")){var i=d.exec(a[2]);i&&(a[2]=i[1],a[3]=i[2],a[4]=i[3])}const[e,t]=y(a[1]||r,a[2]);return o(t,e,a[3]?+a[3]:void 0,a[4]?+a[4]:void 0)}},x=[t,v];exports.chromeStackLineParser=x;var p=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,l=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,f=e=>{var a=p.exec(e);if(a){if(a[3]&&a[3].indexOf(" > eval")>-1){var i=l.exec(a[3]);i&&(a[1]=a[1]||"eval",a[3]=i[1],a[4]=i[2],a[5]="")}let e=a[3],t=a[1]||r;return[t,e]=y(t,e),o(e,t,a[4]?+a[4]:void 0,a[5]?+a[5]:void 0)}},u=[n,f];exports.geckoStackLineParser=u;var k=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,S=e=>{var a=k.exec(e);return a?o(a[2],a[1]||r,+a[3],a[4]?+a[4]:void 0):void 0},b=[s,S];exports.winjsStackLineParser=b;var P=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,L=e=>{var a=P.exec(e);return a?o(a[2],a[3]||r,+a[1]):void 0},m=[a,L];exports.opera10StackLineParser=m;var w=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,h=e=>{var a=w.exec(e);return a?o(a[5],a[3]||a[4]||r,+a[1],+a[2]):void 0},$=[i,h];exports.opera11StackLineParser=$;var j=[x,u,b];exports.defaultStackLineParsers=j;var O=(0,e.createStackParser)(...j);exports.defaultStackParser=O;var y=(e,a)=>{var i=-1!==e.indexOf("safari-extension"),t=-1!==e.indexOf("safari-web-extension");return i||t?[-1!==e.indexOf("@")?e.split("@")[0]:r,i?`safari-extension:${a}`:`safari-web-extension:${a}`]:[e,a]};
},{"@sentry/utils":"vnUD"}],"PuX9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ignoreNextOnError=o,exports.shouldIgnoreOnError=n,exports.wrap=a;var r=require("@sentry/core"),e=require("@sentry/utils");let t=0;function n(){return t>0}function o(){t+=1,setTimeout(()=>{t-=1})}function a(t,n={},c){if("function"!=typeof t)return t;try{var i=t.__sentry_wrapped__;if(i)return i;if((0,e.getOriginalFunction)(t))return t}catch(s){return t}var p=function(){var i=Array.prototype.slice.call(arguments);try{c&&"function"==typeof c&&c.apply(this,arguments);var p=i.map(r=>a(r,n));return t.apply(this,p)}catch(u){throw o(),(0,r.withScope)(t=>{t.addEventProcessor(r=>(n.mechanism&&((0,e.addExceptionTypeValue)(r,void 0,void 0),(0,e.addExceptionMechanism)(r,n.mechanism)),r.extra={...r.extra,arguments:i},r)),(0,r.captureException)(u)}),u}};try{for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&(p[u]=t[u])}catch(y){}(0,e.markFunctionWrapped)(p,t),(0,e.addNonEnumerableProperty)(t,"__sentry_wrapped__",p);try{Object.getOwnPropertyDescriptor(p,"name").configurable&&Object.defineProperty(p,"name",{get:()=>t.name})}catch(y){}return p}
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD"}],"l5aE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GlobalHandlers=void 0;var e=require("@sentry/core"),n=require("@sentry/utils"),t=require("../eventbuilder.js"),r=require("../helpers.js");class i{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=i.id}__init2(){this._installFunc={onerror:o,onunhandledrejection:a}}constructor(e){i.prototype.__init.call(this),i.prototype.__init2.call(this),this._options={onerror:!0,onunhandledrejection:!0,...e}}setupOnce(){Error.stackTraceLimit=50;var e=this._options;for(var n in e){var t=this._installFunc[n];t&&e[n]&&(u(n),t(),this._installFunc[n]=void 0)}}}function o(){(0,n.addInstrumentationHandler)("error",e=>{const[o,a,s]=_();if(!o.getIntegration(i))return;const{msg:u,url:p,line:v,column:h,error:g}=e;if(!((0,r.shouldIgnoreOnError)()||g&&g.__sentry_own_request__)){var f=void 0===g&&(0,n.isString)(u)?l(u,p,v,h):c((0,t.eventFromUnknownInput)(a,g||u,void 0,s,!1),p,v,h);f.level="error",d(o,g,f,"onerror")}})}function a(){(0,n.addInstrumentationHandler)("unhandledrejection",e=>{const[o,a,l]=_();if(!o.getIntegration(i))return;let c=e;try{"reason"in e?c=e.reason:"detail"in e&&"reason"in e.detail&&(c=e.detail.reason)}catch(p){}if((0,r.shouldIgnoreOnError)()||c&&c.__sentry_own_request__)return!0;var u=(0,n.isPrimitive)(c)?s(c):(0,t.eventFromUnknownInput)(a,c,void 0,l,!0);u.level="error",d(o,c,u,"onunhandledrejection")})}function s(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function l(e,t,r,i){let o=(0,n.isErrorEvent)(e)?e.message:e,a="Error";var s=o.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return s&&(a=s[1],o=s[2]),c({exception:{values:[{type:a,value:o}]}},t,r,i)}function c(e,t,r,i){var o=e.exception=e.exception||{},a=o.values=o.values||[],s=a[0]=a[0]||{},l=s.stacktrace=s.stacktrace||{},c=l.frames=l.frames||[],u=isNaN(parseInt(i,10))?void 0:i,d=isNaN(parseInt(r,10))?void 0:r,_=(0,n.isString)(t)&&t.length>0?t:(0,n.getLocationHref)();return 0===c.length&&c.push({colno:u,filename:_,function:"?",in_app:!0,lineno:d}),e}function u(e){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`Global Handler attached: ${e}`)}function d(e,t,r,i){(0,n.addExceptionMechanism)(r,{handled:!1,type:i}),e.captureEvent(r,{originalException:t})}function _(){var n=(0,e.getCurrentHub)(),t=n.getClient(),r=t&&t.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[n,r.stackParser,r.attachStacktrace]}exports.GlobalHandlers=i,i.__initStatic();
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD","../eventbuilder.js":"yGRZ","../helpers.js":"PuX9"}],"Q7DM":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.TryCatch=void 0;var e=require("@sentry/utils"),n=require("../helpers.js"),r=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class a{static __initStatic(){this.id="TryCatch"}__init(){this.name=a.id}constructor(t){a.prototype.__init.call(this),this._options={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...t}}setupOnce(){var t=(0,e.getGlobalObject)();this._options.setTimeout&&(0,e.fill)(t,"setTimeout",i),this._options.setInterval&&(0,e.fill)(t,"setInterval",i),this._options.requestAnimationFrame&&(0,e.fill)(t,"requestAnimationFrame",o),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,e.fill)(XMLHttpRequest.prototype,"send",s);var n=this._options.eventTarget;n&&(Array.isArray(n)?n:r).forEach(c)}}function i(t){return function(...r){var a=r[0];return r[0]=(0,n.wrap)(a,{mechanism:{data:{function:(0,e.getFunctionName)(t)},handled:!0,type:"instrument"}}),t.apply(this,r)}}function o(t){return function(r){return t.apply(this,[(0,n.wrap)(r,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,e.getFunctionName)(t)},handled:!0,type:"instrument"}})])}}function s(t){return function(...r){var a=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(t=>{t in a&&"function"==typeof a[t]&&(0,e.fill)(a,t,function(r){var a={mechanism:{data:{function:t,handler:(0,e.getFunctionName)(r)},handled:!0,type:"instrument"}},i=(0,e.getOriginalFunction)(r);return i&&(a.mechanism.data.handler=(0,e.getFunctionName)(i)),(0,n.wrap)(r,a)})}),t.apply(this,r)}}function c(t){var r=(0,e.getGlobalObject)(),a=r[t]&&r[t].prototype;a&&a.hasOwnProperty&&a.hasOwnProperty("addEventListener")&&((0,e.fill)(a,"addEventListener",function(r){return function(a,i,o){try{"function"==typeof i.handleEvent&&(i.handleEvent=(0,n.wrap)(i.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,e.getFunctionName)(i),target:t},handled:!0,type:"instrument"}}))}catch(s){}return r.apply(this,[a,(0,n.wrap)(i,{mechanism:{data:{function:"addEventListener",handler:(0,e.getFunctionName)(i),target:t},handled:!0,type:"instrument"}}),o])}}),(0,e.fill)(a,"removeEventListener",function(t){return function(e,n,r){var a=n;try{var i=a&&a.__sentry_wrapped__;i&&t.call(this,e,i,r)}catch(o){}return t.call(this,e,a,r)}}))}exports.TryCatch=a,a.__initStatic();
},{"@sentry/utils":"vnUD","../helpers.js":"PuX9"}],"KquI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LinkedErrors=void 0,exports._handler=o,exports._walkErrorTree=a;var e=require("@sentry/core"),r=require("@sentry/utils"),t=require("../eventbuilder.js"),i="cause",n=5;class s{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=s.id}constructor(e={}){s.prototype.__init.call(this),this._key=e.key||i,this._limit=e.limit||n}setupOnce(){var r=(0,e.getCurrentHub)().getClient();r&&(0,e.addGlobalEventProcessor)((t,i)=>{var n=(0,e.getCurrentHub)().getIntegration(s);return n?o(r.getOptions().stackParser,n._key,n._limit,t,i):t})}}function o(e,t,i,n,s){if(!(n.exception&&n.exception.values&&s&&(0,r.isInstanceOf)(s.originalException,Error)))return n;var o=a(e,i,s.originalException,t);return n.exception.values=[...o,...n.exception.values],n}function a(e,i,n,s,o=[]){if(!(0,r.isInstanceOf)(n[s],Error)||o.length+1>=i)return o;var c=(0,t.exceptionFromError)(e,n[s]);return a(e,i,n[s],s,[c,...o])}exports.LinkedErrors=s,s.__initStatic();
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD","../eventbuilder.js":"yGRZ"}],"I42s":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.HttpContext=void 0;var t=require("@sentry/core"),e=require("@sentry/utils"),r=(0,e.getGlobalObject)();class i{constructor(){i.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=i.id}setupOnce(){(0,t.addGlobalEventProcessor)(e=>{if((0,t.getCurrentHub)().getIntegration(i)){if(!r.navigator&&!r.location&&!r.document)return e;var n=e.request&&e.request.url||r.location&&r.location.href;const{referrer:t}=r.document||{},{userAgent:i}=r.navigator||{};var o={...n&&{url:n},headers:{...e.request&&e.request.headers,...t&&{Referer:t},...i&&{"User-Agent":i}}};return{...e,request:o}}return e})}}exports.HttpContext=i,i.__initStatic();
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD"}],"WMlC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Dedupe=void 0;var e=require("@sentry/utils");class t{constructor(){t.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=t.id}setupOnce(r,i){var u=r=>{var u=i().getIntegration(t);if(u){try{if(n(r,u._previousEvent))return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(o){return u._previousEvent=r}return u._previousEvent=r}return r};u.id=this.name,r(u)}}function n(e,t){return!!t&&(!!r(e,t)||!!i(e,t))}function r(e,t){var n=e.message,r=t.message;return!(!n&&!r)&&(!(n&&!r||!n&&r)&&(n===r&&(!!o(e,t)&&!!u(e,t))))}function i(e,t){var n=a(t),r=a(e);return!(!n||!r)&&(n.type===r.type&&n.value===r.value&&(!!o(e,t)&&!!u(e,t)))}function u(e,t){let n=c(e),r=c(t);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(n=n,(r=r).length!==n.length)return!1;for(let o=0;o<r.length;o++){var i=r[o],u=n[o];if(i.filename!==u.filename||i.lineno!==u.lineno||i.colno!==u.colno||i.function!==u.function)return!1}return!0}function o(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function a(e){return e.exception&&e.exception.values&&e.exception.values[0]}function c(e){var t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch(n){return}}exports.Dedupe=t,t.__initStatic();
},{"@sentry/utils":"vnUD"}],"vue0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Breadcrumbs",{enumerable:!0,get:function(){return t.Breadcrumbs}}),Object.defineProperty(exports,"Dedupe",{enumerable:!0,get:function(){return o.Dedupe}}),Object.defineProperty(exports,"GlobalHandlers",{enumerable:!0,get:function(){return e.GlobalHandlers}}),Object.defineProperty(exports,"HttpContext",{enumerable:!0,get:function(){return u.HttpContext}}),Object.defineProperty(exports,"LinkedErrors",{enumerable:!0,get:function(){return n.LinkedErrors}}),Object.defineProperty(exports,"TryCatch",{enumerable:!0,get:function(){return r.TryCatch}});var e=require("./globalhandlers.js"),r=require("./trycatch.js"),t=require("./breadcrumbs.js"),n=require("./linkederrors.js"),u=require("./httpcontext.js"),o=require("./dedupe.js");
},{"./globalhandlers.js":"l5aE","./trycatch.js":"Q7DM","./breadcrumbs.js":"YFxN","./linkederrors.js":"KquI","./httpcontext.js":"I42s","./dedupe.js":"WMlC"}],"nKpN":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.close=b,exports.defaultIntegrations=void 0,exports.flush=T,exports.forceLoad=v,exports.init=f,exports.lastEventId=S,exports.onLoad=R,exports.showReportDialog=E,exports.wrap=D;var r=require("@sentry/core"),t=require("@sentry/utils"),n=require("./client.js"),o=require("./helpers.js");require("./integrations/index.js");var s=require("./stack-parsers.js");require("./transports/index.js");var i=require("./integrations/trycatch.js"),a=require("./integrations/breadcrumbs.js"),u=require("./integrations/globalhandlers.js"),d=require("./integrations/linkederrors.js"),l=require("./integrations/dedupe.js"),_=require("./integrations/httpcontext.js"),c=require("./transports/fetch.js"),g=require("./transports/xhr.js"),p=[new r.Integrations.InboundFilters,new r.Integrations.FunctionToString,new i.TryCatch,new a.Breadcrumbs,new u.GlobalHandlers,new d.LinkedErrors,new l.Dedupe,new _.HttpContext];function f(e={}){if(void 0===e.defaultIntegrations&&(e.defaultIntegrations=p),void 0===e.release){var o=(0,t.getGlobalObject)();o.SENTRY_RELEASE&&o.SENTRY_RELEASE.id&&(e.release=o.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),void 0===e.sendClientReports&&(e.sendClientReports=!0);var i={...e,stackParser:(0,t.stackParserFromStackParserOptions)(e.stackParser||s.defaultStackParser),integrations:(0,r.getIntegrationsToSetup)(e),transport:e.transport||((0,t.supportsFetch)()?c.makeFetchTransport:g.makeXHRTransport)};(0,r.initAndBind)(n.BrowserClient,i),e.autoSessionTracking&&w()}function E(e={},n=(0,r.getCurrentHub)()){var o=(0,t.getGlobalObject)();if(!o.document)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Global document not defined in showReportDialog call"));const{client:s,scope:i}=n.getStackTop();var a=e.dsn||s&&s.getDsn();if(a){i&&(e.user={...i.getUser(),...e.user}),e.eventId||(e.eventId=n.lastEventId());var u=o.document.createElement("script");u.async=!0,u.src=(0,r.getReportDialogEndpoint)(a,e),e.onLoad&&(u.onload=e.onLoad);var d=o.document.head||o.document.body;d?d.appendChild(u):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("Not injecting report dialog. No injection point found in HTML")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("DSN not configured for showReportDialog call")}function S(){return(0,r.getCurrentHub)().lastEventId()}function v(){}function R(e){e()}function T(e){var n=(0,r.getCurrentHub)().getClient();return n?n.flush(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Cannot flush events. No client defined."),(0,t.resolvedSyncPromise)(!1))}function b(e){var n=(0,r.getCurrentHub)().getClient();return n?n.close(e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Cannot flush events and disable SDK. No client defined."),(0,t.resolvedSyncPromise)(!1))}function D(e){return(0,o.wrap)(e)()}function h(e){e.startSession({ignoreDuration:!0}),e.captureSession()}function w(){if(void 0!==(0,t.getGlobalObject)().document){var e=(0,r.getCurrentHub)();e.captureSession&&(h(e),(0,t.addInstrumentationHandler)("history",({from:e,to:t})=>{void 0!==e&&e!==t&&h((0,r.getCurrentHub)())}))}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}exports.defaultIntegrations=p;
},{"@sentry/core":"TZM3","@sentry/utils":"vnUD","./client.js":"s6nm","./helpers.js":"PuX9","./integrations/index.js":"vue0","./stack-parsers.js":"FteV","./transports/index.js":"iexI","./integrations/trycatch.js":"Q7DM","./integrations/breadcrumbs.js":"YFxN","./integrations/globalhandlers.js":"l5aE","./integrations/linkederrors.js":"KquI","./integrations/dedupe.js":"WMlC","./integrations/httpcontext.js":"I42s","./transports/fetch.js":"HQW2","./transports/xhr.js":"mwwI"}],"QNOP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BrowserClient",{enumerable:!0,get:function(){return r.BrowserClient}}),Object.defineProperty(exports,"FunctionToString",{enumerable:!0,get:function(){return e.FunctionToString}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return e.Hub}}),Object.defineProperty(exports,"InboundFilters",{enumerable:!0,get:function(){return e.InboundFilters}}),Object.defineProperty(exports,"SDK_VERSION",{enumerable:!0,get:function(){return e.SDK_VERSION}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return e.Scope}}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return e.addBreadcrumb}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return e.addGlobalEventProcessor}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return e.captureEvent}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return e.captureException}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return e.captureMessage}}),Object.defineProperty(exports,"chromeStackLineParser",{enumerable:!0,get:function(){return t.chromeStackLineParser}}),Object.defineProperty(exports,"close",{enumerable:!0,get:function(){return n.close}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return e.configureScope}}),Object.defineProperty(exports,"createTransport",{enumerable:!0,get:function(){return e.createTransport}}),Object.defineProperty(exports,"defaultIntegrations",{enumerable:!0,get:function(){return n.defaultIntegrations}}),Object.defineProperty(exports,"defaultStackLineParsers",{enumerable:!0,get:function(){return t.defaultStackLineParsers}}),Object.defineProperty(exports,"defaultStackParser",{enumerable:!0,get:function(){return t.defaultStackParser}}),Object.defineProperty(exports,"flush",{enumerable:!0,get:function(){return n.flush}}),Object.defineProperty(exports,"forceLoad",{enumerable:!0,get:function(){return n.forceLoad}}),Object.defineProperty(exports,"geckoStackLineParser",{enumerable:!0,get:function(){return t.geckoStackLineParser}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return e.getCurrentHub}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return e.getHubFromCarrier}}),Object.defineProperty(exports,"init",{enumerable:!0,get:function(){return n.init}}),Object.defineProperty(exports,"lastEventId",{enumerable:!0,get:function(){return n.lastEventId}}),Object.defineProperty(exports,"makeMain",{enumerable:!0,get:function(){return e.makeMain}}),Object.defineProperty(exports,"onLoad",{enumerable:!0,get:function(){return n.onLoad}}),Object.defineProperty(exports,"opera10StackLineParser",{enumerable:!0,get:function(){return t.opera10StackLineParser}}),Object.defineProperty(exports,"opera11StackLineParser",{enumerable:!0,get:function(){return t.opera11StackLineParser}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return e.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return e.setExtras}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return e.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return e.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return e.setUser}}),Object.defineProperty(exports,"showReportDialog",{enumerable:!0,get:function(){return n.showReportDialog}}),Object.defineProperty(exports,"startTransaction",{enumerable:!0,get:function(){return e.startTransaction}}),Object.defineProperty(exports,"winjsStackLineParser",{enumerable:!0,get:function(){return t.winjsStackLineParser}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return e.withScope}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return n.wrap}});var e=require("@sentry/core"),r=require("./client.js");require("./transports/index.js");var t=require("./stack-parsers.js"),n=require("./sdk.js");require("./integrations/index.js");
},{"@sentry/core":"TZM3","./client.js":"s6nm","./transports/index.js":"iexI","./stack-parsers.js":"FteV","./sdk.js":"nKpN","./integrations/index.js":"vue0"}],"cUe8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Breadcrumbs",{enumerable:!0,get:function(){return p.Breadcrumbs}}),Object.defineProperty(exports,"BrowserClient",{enumerable:!0,get:function(){return n.BrowserClient}}),Object.defineProperty(exports,"Dedupe",{enumerable:!0,get:function(){return l.Dedupe}}),Object.defineProperty(exports,"FunctionToString",{enumerable:!0,get:function(){return e.FunctionToString}}),Object.defineProperty(exports,"GlobalHandlers",{enumerable:!0,get:function(){return c.GlobalHandlers}}),Object.defineProperty(exports,"HttpContext",{enumerable:!0,get:function(){return b.HttpContext}}),Object.defineProperty(exports,"Hub",{enumerable:!0,get:function(){return e.Hub}}),Object.defineProperty(exports,"InboundFilters",{enumerable:!0,get:function(){return e.InboundFilters}}),exports.Integrations=void 0,Object.defineProperty(exports,"LinkedErrors",{enumerable:!0,get:function(){return f.LinkedErrors}}),Object.defineProperty(exports,"SDK_VERSION",{enumerable:!0,get:function(){return e.SDK_VERSION}}),Object.defineProperty(exports,"Scope",{enumerable:!0,get:function(){return e.Scope}}),Object.defineProperty(exports,"TryCatch",{enumerable:!0,get:function(){return s.TryCatch}}),Object.defineProperty(exports,"addBreadcrumb",{enumerable:!0,get:function(){return e.addBreadcrumb}}),Object.defineProperty(exports,"addGlobalEventProcessor",{enumerable:!0,get:function(){return e.addGlobalEventProcessor}}),Object.defineProperty(exports,"captureEvent",{enumerable:!0,get:function(){return e.captureEvent}}),Object.defineProperty(exports,"captureException",{enumerable:!0,get:function(){return e.captureException}}),Object.defineProperty(exports,"captureMessage",{enumerable:!0,get:function(){return e.captureMessage}}),Object.defineProperty(exports,"chromeStackLineParser",{enumerable:!0,get:function(){return a.chromeStackLineParser}}),Object.defineProperty(exports,"close",{enumerable:!0,get:function(){return i.close}}),Object.defineProperty(exports,"configureScope",{enumerable:!0,get:function(){return e.configureScope}}),Object.defineProperty(exports,"createTransport",{enumerable:!0,get:function(){return e.createTransport}}),Object.defineProperty(exports,"defaultIntegrations",{enumerable:!0,get:function(){return i.defaultIntegrations}}),Object.defineProperty(exports,"defaultStackLineParsers",{enumerable:!0,get:function(){return a.defaultStackLineParsers}}),Object.defineProperty(exports,"defaultStackParser",{enumerable:!0,get:function(){return a.defaultStackParser}}),Object.defineProperty(exports,"flush",{enumerable:!0,get:function(){return i.flush}}),Object.defineProperty(exports,"forceLoad",{enumerable:!0,get:function(){return i.forceLoad}}),Object.defineProperty(exports,"geckoStackLineParser",{enumerable:!0,get:function(){return a.geckoStackLineParser}}),Object.defineProperty(exports,"getCurrentHub",{enumerable:!0,get:function(){return e.getCurrentHub}}),Object.defineProperty(exports,"getHubFromCarrier",{enumerable:!0,get:function(){return e.getHubFromCarrier}}),Object.defineProperty(exports,"init",{enumerable:!0,get:function(){return i.init}}),Object.defineProperty(exports,"lastEventId",{enumerable:!0,get:function(){return i.lastEventId}}),Object.defineProperty(exports,"makeFetchTransport",{enumerable:!0,get:function(){return o.makeFetchTransport}}),Object.defineProperty(exports,"makeMain",{enumerable:!0,get:function(){return e.makeMain}}),Object.defineProperty(exports,"makeXHRTransport",{enumerable:!0,get:function(){return u.makeXHRTransport}}),Object.defineProperty(exports,"onLoad",{enumerable:!0,get:function(){return i.onLoad}}),Object.defineProperty(exports,"opera10StackLineParser",{enumerable:!0,get:function(){return a.opera10StackLineParser}}),Object.defineProperty(exports,"opera11StackLineParser",{enumerable:!0,get:function(){return a.opera11StackLineParser}}),Object.defineProperty(exports,"setContext",{enumerable:!0,get:function(){return e.setContext}}),Object.defineProperty(exports,"setExtra",{enumerable:!0,get:function(){return e.setExtra}}),Object.defineProperty(exports,"setExtras",{enumerable:!0,get:function(){return e.setExtras}}),Object.defineProperty(exports,"setTag",{enumerable:!0,get:function(){return e.setTag}}),Object.defineProperty(exports,"setTags",{enumerable:!0,get:function(){return e.setTags}}),Object.defineProperty(exports,"setUser",{enumerable:!0,get:function(){return e.setUser}}),Object.defineProperty(exports,"showReportDialog",{enumerable:!0,get:function(){return i.showReportDialog}}),Object.defineProperty(exports,"startTransaction",{enumerable:!0,get:function(){return e.startTransaction}}),Object.defineProperty(exports,"winjsStackLineParser",{enumerable:!0,get:function(){return a.winjsStackLineParser}}),Object.defineProperty(exports,"withScope",{enumerable:!0,get:function(){return e.withScope}}),Object.defineProperty(exports,"wrap",{enumerable:!0,get:function(){return i.wrap}}),require("./exports.js");var e=require("@sentry/core"),r=require("@sentry/utils"),t=g(require("./integrations/index.js")),n=require("./client.js"),o=require("./transports/fetch.js"),u=require("./transports/xhr.js"),a=require("./stack-parsers.js"),i=require("./sdk.js"),c=require("./integrations/globalhandlers.js"),s=require("./integrations/trycatch.js"),p=require("./integrations/breadcrumbs.js"),f=require("./integrations/linkederrors.js"),b=require("./integrations/httpcontext.js"),l=require("./integrations/dedupe.js");function d(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(d=function(e){return e?t:r})(e)}function g(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=d(r);if(t&&t.has(e))return t.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}return n.default=e,t&&t.set(e,n),n}let j={};var P=(0,r.getGlobalObject)();P.Sentry&&P.Sentry.Integrations&&(j=P.Sentry.Integrations);var y={...j,...e.Integrations,...t};exports.Integrations=y;
},{"./exports.js":"QNOP","@sentry/core":"TZM3","@sentry/utils":"vnUD","./integrations/index.js":"vue0","./client.js":"s6nm","./transports/fetch.js":"HQW2","./transports/xhr.js":"mwwI","./stack-parsers.js":"FteV","./sdk.js":"nKpN","./integrations/globalhandlers.js":"l5aE","./integrations/trycatch.js":"Q7DM","./integrations/breadcrumbs.js":"YFxN","./integrations/linkederrors.js":"KquI","./integrations/httpcontext.js":"I42s","./integrations/dedupe.js":"WMlC"}],"Nxrl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"TRACEPARENT_REGEXP",{enumerable:!0,get:function(){return r.TRACEPARENT_REGEXP}}),Object.defineProperty(exports,"extractTraceparentData",{enumerable:!0,get:function(){return r.extractTraceparentData}}),exports.getActiveTransaction=n,exports.hasTracingEnabled=t,exports.msToSec=a,exports.secToMs=u,Object.defineProperty(exports,"stripUrlQueryAndFragment",{enumerable:!0,get:function(){return r.stripUrlQueryAndFragment}});var e=require("@sentry/hub"),r=require("@sentry/utils");function t(r){var t=(0,e.getCurrentHub)().getClient(),n=r||t&&t.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function n(r){var t=(r||(0,e.getCurrentHub)()).getScope();return t&&t.getTransaction()}function a(e){return e/1e3}function u(e){return 1e3*e}
},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD"}],"NGlM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerErrorInstrumentation=t;var r=require("@sentry/utils"),e=require("./utils.js");function t(){(0,r.addInstrumentationHandler)("error",n),(0,r.addInstrumentationHandler)("unhandledrejection",n)}function n(){var t=(0,e.getActiveTransaction)();if(t){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.log("[Tracing] Transaction: internal_error -> Global error occured"),t.setStatus("internal_error")}}
},{"@sentry/utils":"vnUD","./utils.js":"Nxrl"}],"W562":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpanRecorder=exports.Span=void 0,exports.spanStatusfromHttpCode=i;var t=require("@sentry/utils/esm/buildPolyfills"),s=require("@sentry/utils");class a{__init(){this.spans=[]}constructor(t=1e3){a.prototype.__init.call(this),this._maxlen=t}add(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)}}exports.SpanRecorder=a;class e{__init2(){this.traceId=(0,s.uuid4)()}__init3(){this.spanId=(0,s.uuid4)().substring(16)}__init4(){this.startTimestamp=(0,s.timestampWithMs)()}__init5(){this.tags={}}__init6(){this.data={}}constructor(t){if(e.prototype.__init2.call(this),e.prototype.__init3.call(this),e.prototype.__init4.call(this),e.prototype.__init5.call(this),e.prototype.__init6.call(this),!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}startChild(t){var a=new e({...t,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(a.spanRecorder=this.spanRecorder,a.spanRecorder&&a.spanRecorder.add(a),a.transaction=this.transaction,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.transaction){var i=`[Tracing] Starting '${t&&t.op||"< unknown op >"}' span on transaction '${a.transaction.name||"< unknown name >"}' (${a.transaction.spanId}).`;a.transaction.metadata.spanMetadata[a.spanId]={logMessage:i},s.logger.log(i)}return a}setTag(t,s){return this.tags={...this.tags,[t]:s},this}setData(t,s){return this.data={...this.data,[t]:s},this}setStatus(t){return this.status=t,this}setHttpStatus(t){this.setTag("http.status_code",String(t));var s=i(t);return"unknown_error"!==s&&this.setStatus(s),this}isSuccess(){return"ok"===this.status}finish(t){if(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&s.logger.log(t.replace("Starting","Finishing"))}this.endTimestamp="number"==typeof t?t:(0,s.timestampWithMs)()}toTraceparent(){let t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${t}`}toContext(){return(0,s.dropUndefinedKeys)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(s){return this.data=(0,t._nullishCoalesce)(s.data,()=>({})),this.description=s.description,this.endTimestamp=s.endTimestamp,this.op=s.op,this.parentSpanId=s.parentSpanId,this.sampled=s.sampled,this.spanId=(0,t._nullishCoalesce)(s.spanId,()=>this.spanId),this.startTimestamp=(0,t._nullishCoalesce)(s.startTimestamp,()=>this.startTimestamp),this.status=s.status,this.tags=(0,t._nullishCoalesce)(s.tags,()=>({})),this.traceId=(0,t._nullishCoalesce)(s.traceId,()=>this.traceId),this}getTraceContext(){return(0,s.dropUndefinedKeys)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,s.dropUndefinedKeys)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function i(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}exports.Span=e;
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"D43a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Transaction=void 0;var t=require("@sentry/utils/esm/buildPolyfills"),e=require("@sentry/hub"),a=require("@sentry/utils"),s=require("./span.js");class n extends s.Span{__init(){this._measurements={}}constructor(t,a){super(t),n.prototype.__init.call(this),this._hub=a||(0,e.getCurrentHub)(),this._name=t.name||"",this.metadata={...t.metadata,spanMetadata:{}},this._trimEnd=t.trimEnd,this.transaction=this}get name(){return this._name}set name(t){this._name=t,this.metadata.source="custom"}setName(t,e="custom"){this.name=t,this.metadata.source=e}initSpanRecorder(t=1e3){this.spanRecorder||(this.spanRecorder=new s.SpanRecorder(t)),this.spanRecorder.add(this)}setMeasurement(t,e,a=""){this._measurements[t]={value:e,unit:a}}setMetadata(t){this.metadata={...this.metadata,...t}}finish(t){if(void 0===this.endTimestamp){if(this.name||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.logger.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(t),!0===this.sampled){var e=this.spanRecorder?this.spanRecorder.spans.filter(t=>t!==this&&t.endTimestamp):[];this._trimEnd&&e.length>0&&(this.endTimestamp=e.reduce((t,e)=>t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t).endTimestamp);var s=this.metadata,n={contexts:{trace:this.getTraceContext()},spans:e,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...s,baggage:this.getBaggage()},...s.source&&{transaction_info:{source:s.source}}};return Object.keys(this._measurements).length>0&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.logger.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),n.measurements=this._measurements),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.logger.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(n)}("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&a.logger.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var i=this._hub.getClient();i&&i.recordDroppedEvent("sample_rate","transaction")}}toContext(){var t=super.toContext();return(0,a.dropUndefinedKeys)({...t,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=(0,t._nullishCoalesce)(e.name,()=>""),this._trimEnd=e.trimEnd,this}getBaggage(){var t=this.metadata.baggage,e=!t||(0,a.isBaggageMutable)(t)?this._populateBaggageWithSentryValues(t):t;return this.metadata.baggage=e,e}_populateBaggageWithSentryValues(t=(0,a.createBaggage)({})){var s=this._hub||(0,e.getCurrentHub)(),n=s&&s.getClient();if(!n)return t;const{environment:i,release:r}=n.getOptions()||{},{publicKey:m}=n.getDsn()||{};var o=this.metadata&&this.metadata.transactionSampling&&this.metadata.transactionSampling.rate&&this.metadata.transactionSampling.rate.toString(),d=s.getScope();const{segment:h}=d&&d.getUser()||{};var g=this.metadata.source,_=g&&"url"!==g?this.name:void 0;return(0,a.createBaggage)((0,a.dropUndefinedKeys)({environment:i,release:r,transaction:_,user_segment:h,public_key:m,trace_id:this.traceId,sample_rate:o,...(0,a.getSentryBaggageItems)(t)}),"",!1)}}exports.Transaction=n;
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/hub":"U9M5","@sentry/utils":"vnUD","./span.js":"W562"}],"IIZb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.IdleTransactionSpanRecorder=exports.IdleTransaction=exports.HEARTBEAT_INTERVAL=exports.DEFAULT_IDLE_TIMEOUT=exports.DEFAULT_FINAL_TIMEOUT=void 0;var t=require("@sentry/utils"),i=require("./span.js"),e=require("./transaction.js"),s=1e3;exports.DEFAULT_IDLE_TIMEOUT=s;var _=3e4;exports.DEFAULT_FINAL_TIMEOUT=_;var n=5e3;exports.HEARTBEAT_INTERVAL=n;class a extends i.SpanRecorder{constructor(t,i,e,s){super(s),this._pushActivity=t,this._popActivity=i,this.transactionSpanId=e}add(i){i.spanId!==this.transactionSpanId&&(i.finish=(e=>{i.endTimestamp="number"==typeof e?e:(0,t.timestampWithMs)(),this._popActivity(i.spanId)}),void 0===i.endTimestamp&&this._pushActivity(i.spanId)),super.add(i)}}exports.IdleTransactionSpanRecorder=a;class r extends e.Transaction{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(i,e,n=s,a=_,h=!1){super(i,e),this._idleHub=e,this._idleTimeout=n,this._finalTimeout=a,this._onScope=h,r.prototype.__init.call(this),r.prototype.__init2.call(this),r.prototype.__init3.call(this),r.prototype.__init4.call(this),h&&(o(e),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),e.configureScope(t=>t.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(i=(0,t.timestampWithMs)()){if(this._finished=!0,this.activities={},this.spanRecorder){for(var e of(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] finishing IdleTransaction",new Date(1e3*i).toISOString(),this.op),this._beforeFinishCallbacks))e(this,i);this.spanRecorder.spans=this.spanRecorder.spans.filter(e=>{if(e.spanId===this.spanId)return!0;e.endTimestamp||(e.endTimestamp=i,e.setStatus("cancelled"),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var s=e.startTimestamp<i;return s||("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),s}),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] flushing IdleTransaction")}else("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] No active IdleTransaction");return this._onScope&&o(this._idleHub),super.finish(i)}registerBeforeFinishCallback(t){this._beforeFinishCallbacks.push(t)}initSpanRecorder(i){if(!this.spanRecorder){this.spanRecorder=new a(t=>{this._finished||this._pushActivity(t)},t=>{this._finished||this._popActivity(t)},this.spanId,i),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(t){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{this._finished||0!==Object.keys(this.activities).length||this.finish(t)},this._idleTimeout)}_pushActivity(i){this._cancelIdleTimeout(),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] pushActivity: ${i}`),this.activities[i]=!0,("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(i){if(this.activities[i]&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] popActivity ${i}`),delete this.activities[i],("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var e=(0,t.timestampWithMs)()+this._idleTimeout/1e3;this._startIdleTimeout(e)}}_beat(){if(!this._finished){var i=Object.keys(this.activities).join("");i===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=i,this._heartbeatCounter>=3?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}}_pingHeartbeat(){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},n)}}function o(t){var i=t.getScope();i&&(i.getTransaction()&&i.setSpan(void 0))}exports.IdleTransaction=r;
},{"@sentry/utils":"vnUD","./span.js":"W562","./transaction.js":"D43a"}],"ejWz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._addTracingExtensions=p,exports.addExtensionMethods=c,exports.startIdleTransaction=l;var e=require("@sentry/hub"),n=require("@sentry/utils"),t=require("./errors.js"),a=require("./idletransaction.js"),r=require("./transaction.js"),i=require("./utils.js");function s(){var e=this.getScope();if(e){var n=e.getSpan();if(n)return{"sentry-trace":n.toTraceparent()}}return{}}function o(e,t,a){if(!(0,i.hasTracingEnabled)(t))return e.sampled=!1,e;if(void 0!==e.sampled)return e.setMetadata({transactionSampling:{method:"explicitly_set"}}),e;let r;return"function"==typeof t.tracesSampler?(r=t.tracesSampler(a),e.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==a.parentSampled?(r=a.parentSampled,e.setMetadata({transactionSampling:{method:"inheritance"}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),_(r)?r?(e.sampled=Math.random()<r,e.sampled?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`[Tracing] starting ${e.op} transaction - ${e.name}`),e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),e)):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.log(`[Tracing] Discarding transaction because ${"function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),e.sampled=!1,e):(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)}function _(e){return(0,n.isNaN)(e)||"number"!=typeof e&&"boolean"!=typeof e?(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(e)} of type ${JSON.stringify(typeof e)}.`),!1):!(e<0||e>1)||(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${e}.`),!1)}function d(e,n){var t=this.getClient(),a=t&&t.getOptions()||{};let i=new r.Transaction(e,this);return(i=o(i,a,{parentSampled:e.parentSampled,transactionContext:e,...n})).sampled&&i.initSpanRecorder(a._experiments&&a._experiments.maxSpans),i}function l(e,n,t,r,i,s){var _=e.getClient(),d=_&&_.getOptions()||{};let l=new a.IdleTransaction(n,e,t,r,i);return(l=o(l,d,{parentSampled:n.parentSampled,transactionContext:n,...s})).sampled&&l.initSpanRecorder(d._experiments&&d._experiments.maxSpans),l}function p(){var n=(0,e.getMainCarrier)();n.__SENTRY__&&(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=d),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=s))}function m(){var t=(0,e.getMainCarrier)();if(t.__SENTRY__){var a={mongodb:()=>new((0,n.dynamicRequire)(module,"./integrations/node/mongo").Mongo),mongoose:()=>new((0,n.dynamicRequire)(module,"./integrations/node/mongo").Mongo)({mongoose:!0}),mysql:()=>new((0,n.dynamicRequire)(module,"./integrations/node/mysql").Mysql),pg:()=>new((0,n.dynamicRequire)(module,"./integrations/node/postgres").Postgres)},r=Object.keys(a).filter(e=>!!(0,n.loadModule)(e)).map(e=>{try{return a[e]()}catch(n){return}}).filter(e=>e);r.length>0&&(t.__SENTRY__.integrations=[...t.__SENTRY__.integrations||[],...r])}}function c(){p(),(0,n.isNodeEnv)()&&m(),(0,t.registerErrorInstrumentation)()}
},{"@sentry/hub":"U9M5","@sentry/utils":"vnUD","./errors.js":"NGlM","./idletransaction.js":"IIZb","./transaction.js":"D43a","./utils.js":"Nxrl"}],"kzMo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Express=void 0;var t=require("@sentry/utils/esm/buildPolyfills"),r=require("@sentry/utils");class e{static __initStatic(){this.id="Express"}__init(){this.name=e.id}constructor(t={}){e.prototype.__init.call(this),this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}setupOnce(){this._router?(o(this._router,this._methods),a(this._router)):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.error("ExpressIntegration is missing an Express instance")}}function n(r,e){var n=r.length;switch(n){case 2:return function(t,n){var i=n.__sentry_transaction;if(i){var s=i.startChild({description:r.name,op:`express.middleware.${e}`});n.once("finish",()=>{s.finish()})}return r.call(this,t,n)};case 3:return function(n,i,s){var o=i.__sentry_transaction,a=(0,t._optionalChain)([o,"optionalAccess",t=>t.startChild,"call",t=>t({description:r.name,op:`express.middleware.${e}`})]);r.call(this,n,i,function(...r){(0,t._optionalChain)([a,"optionalAccess",t=>t.finish,"call",t=>t()]),s.call(this,...r)})};case 4:return function(n,i,s,o){var a=s.__sentry_transaction,c=(0,t._optionalChain)([a,"optionalAccess",t=>t.startChild,"call",t=>t({description:r.name,op:`express.middleware.${e}`})]);r.call(this,n,i,s,function(...r){(0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),o.call(this,...r)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${n}`)}}function i(t,r){return t.map(t=>"function"==typeof t?n(t,r):Array.isArray(t)?t.map(t=>"function"==typeof t?n(t,r):t):t)}function s(t,r){var e=t[r];return t[r]=function(...t){return e.call(this,...i(t,r))},t}function o(t,r=[]){r.forEach(r=>s(t,r))}function a(t){var e="settings"in t;e&&void 0===t._router&&t.lazyrouter&&t.lazyrouter();var n=e?t._router:t;if(!n)return("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&r.logger.debug("Routing instrumentation is currently only supported in Express 4."));var i=Object.getPrototypeOf(n),s=i.process_params;i.process_params=function(t,e,n,i,o){n._reconstructedRoute||(n._reconstructedRoute="");const{layerRoutePath:a,isRegex:u,isArray:_,numExtraSegments:p}=c(t);var d=(a||t.path||"").split("/").filter(t=>t.length>0&&(u||_||!t.includes("*"))).join("/");if(d&&d.length>0&&(n._reconstructedRoute+=`/${d}${u?"/":""}`),l(n.originalUrl||"")+p===l(n._reconstructedRoute)){var h=i.__sentry_transaction;if(h&&"custom"!==h.metadata.source){var f=n._reconstructedRoute||"/";h.setName(...(0,r.extractPathForTransaction)(n,{path:!0,method:!0,customRoute:f}))}}return s.call(this,t,e,n,i,o)}}function c(e){var n=(0,t._optionalChain)([e,"access",t=>t.route,"optionalAccess",t=>t.path]),i=(0,r.isRegExp)(n),s=Array.isArray(n);if(!n)return{isRegex:i,isArray:s,numExtraSegments:0};var o=s?Math.max(u(n)-l(e.path||""),0):0;return{layerRoutePath:_(s,n),isRegex:i,isArray:s,numExtraSegments:o}}function u(t){return t.reduce((t,r)=>t+l(r.toString()),0)}function l(t){return t.split(/\\?\//).filter(t=>t.length>0&&","!==t).length}function _(t,r){return t?r.map(t=>t.toString()).join(","):r&&r.toString()}exports.Express=e,e.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"n0Yd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Postgres=void 0;var t=require("@sentry/utils/esm/buildPolyfills"),i=require("@sentry/utils");class e{static __initStatic(){this.id="Postgres"}__init(){this.name=e.id}constructor(t={}){e.prototype.__init.call(this),this._usePgNative=!!t.usePgNative}setupOnce(e,n){var o=(0,i.loadModule)("pg");if(!o)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Postgres Integration was unable to require `pg` package."));if(this._usePgNative&&!(0,t._optionalChain)([o,"access",t=>t.native,"optionalAccess",t=>t.Client]))return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Postgres Integration was unable to access 'pg-native' bindings."));const{Client:s}=this._usePgNative?o.native:o;(0,i.fill)(s.prototype,"query",function(e){return function(o,s,a){var l=n().getScope(),r=(0,t._optionalChain)([l,"optionalAccess",t=>t.getSpan,"call",t=>t()]),c=(0,t._optionalChain)([r,"optionalAccess",t=>t.startChild,"call",t=>t({description:"string"==typeof o?o:o.text,op:"db"})]);if("function"==typeof a)return e.call(this,o,s,function(i,e){(0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),a(i,e)});if("function"==typeof s)return e.call(this,o,function(i,e){(0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),s(i,e)});var _=void 0!==s?e.call(this,o,s):e.call(this,o);return(0,i.isThenable)(_)?_.then(i=>((0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),i)):((0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),_)}})}}exports.Postgres=e,e.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"neU2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mysql=void 0;var t=require("@sentry/utils/esm/buildPolyfills"),i=require("@sentry/utils");class e{constructor(){e.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=e.id}setupOnce(e,n){var l=(0,i.loadModule)("mysql/lib/Connection.js");l?(0,i.fill)(l,"createQuery",function(i){return function(e,l,o){var s=n().getScope(),a=(0,t._optionalChain)([s,"optionalAccess",t=>t.getSpan,"call",t=>t()]),c=(0,t._optionalChain)([a,"optionalAccess",t=>t.startChild,"call",t=>t({description:"string"==typeof e?e:e.sql,op:"db"})]);return"function"==typeof o?i.call(this,e,l,function(i,e,n){(0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),o(i,e,n)}):"function"==typeof l?i.call(this,e,function(i,e,n){(0,t._optionalChain)([c,"optionalAccess",t=>t.finish,"call",t=>t()]),l(i,e,n)}):i.call(this,e,l,o)}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&i.logger.error("Mysql Integration was unable to require `mysql` package.")}}exports.Mysql=e,e.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"Lzuf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Mongo=void 0;var e=require("@sentry/utils/esm/buildPolyfills"),n=require("@sentry/utils"),t=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],i={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};class o{static __initStatic(){this.id="Mongo"}__init(){this.name=o.id}constructor(e={}){o.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:t,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}setupOnce(e,t){var i=this._useMongoose?"mongoose":"mongodb",o=(0,n.loadModule)(i);o?this._instrumentOperations(o.Collection,this._operations,t):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&n.logger.error(`Mongo Integration was unable to require \`${i}\` package.`)}_instrumentOperations(e,n,t){n.forEach(n=>this._patchOperation(e,n,t))}_patchOperation(t,i,o){if(i in t.prototype){var a=this._getSpanContextFromOperationArguments.bind(this);(0,n.fill)(t.prototype,i,function(t){return function(...r){var s=r[r.length-1],l=o().getScope(),d=(0,e._optionalChain)([l,"optionalAccess",e=>e.getSpan,"call",e=>e()]);if("function"!=typeof s||"mapReduce"===i&&2===r.length){var c=(0,e._optionalChain)([d,"optionalAccess",e=>e.startChild,"call",e=>e(a(this,i,r))]),p=t.call(this,...r);return(0,n.isThenable)(p)?p.then(n=>((0,e._optionalChain)([c,"optionalAccess",e=>e.finish,"call",e=>e()]),n)):((0,e._optionalChain)([c,"optionalAccess",e=>e.finish,"call",e=>e()]),p)}c=(0,e._optionalChain)([d,"optionalAccess",e=>e.startChild,"call",e=>e(a(this,i,r.slice(0,-1)))]);return t.call(this,...r.slice(0,-1),function(n,t){(0,e._optionalChain)([c,"optionalAccess",e=>e.finish,"call",e=>e()]),s(n,t)})}})}}_getSpanContextFromOperationArguments(e,n,t){var o={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},a={op:"db",description:n,data:o},r=i[n],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(n):this._describeOperations;if(!r||!s)return a;try{if("mapReduce"===n){const[e,n]=t;o[r[0]]="string"==typeof e?e:e.name||"<anonymous>",o[r[1]]="string"==typeof n?n:n.name||"<anonymous>"}else for(let e=0;e<r.length;e++)o[r[e]]=JSON.stringify(t[e])}catch(l){}return a}}exports.Mongo=o,o.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"r0k3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Prisma=void 0;var i=require("@sentry/utils/esm/buildPolyfills"),t=require("@sentry/utils");function e(i){return i&&!!i.$use}class n{static __initStatic(){this.id="Prisma"}__init(){this.name=n.id}constructor(i={}){n.prototype.__init.call(this),e(i.client)?this._client=i.client:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(i.client)}`)}setupOnce(e,n){this._client?this._client.$use((e,s)=>{var o=n().getScope(),r=(0,i._optionalChain)([o,"optionalAccess",i=>i.getSpan,"call",i=>i()]),a=e.action,l=e.model,_=(0,i._optionalChain)([r,"optionalAccess",i=>i.startChild,"call",i=>i({description:l?`${l} ${a}`:a,op:"db.prisma"})]),c=s(e);return(0,t.isThenable)(c)?c.then(t=>((0,i._optionalChain)([_,"optionalAccess",i=>i.finish,"call",i=>i()]),t)):((0,i._optionalChain)([_,"optionalAccess",i=>i.finish,"call",i=>i()]),c)}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.error("PrismaIntegration is missing a Prisma Client Instance")}}exports.Prisma=n,n.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"AFzi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GraphQL=void 0;var t=require("@sentry/utils/esm/buildPolyfills"),e=require("@sentry/utils");class i{constructor(){i.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=i.id}setupOnce(i,a){var l=(0,e.loadModule)("graphql/execution/execute.js");l?(0,e.fill)(l,"execute",function(i){return function(...l){var o=a().getScope(),n=(0,t._optionalChain)([o,"optionalAccess",t=>t.getSpan,"call",t=>t()]),s=(0,t._optionalChain)([n,"optionalAccess",t=>t.startChild,"call",t=>t({description:"execute",op:"db.graphql"})]);(0,t._optionalChain)([o,"optionalAccess",t=>t.setSpan,"call",t=>t(s)]);var c=i.call(this,...l);return(0,e.isThenable)(c)?c.then(e=>((0,t._optionalChain)([s,"optionalAccess",t=>t.finish,"call",t=>t()]),(0,t._optionalChain)([o,"optionalAccess",t=>t.setSpan,"call",t=>t(n)]),e)):((0,t._optionalChain)([s,"optionalAccess",t=>t.finish,"call",t=>t()]),(0,t._optionalChain)([o,"optionalAccess",t=>t.setSpan,"call",t=>t(n)]),c)}}):e.logger.error("GraphQL Integration was unable to require graphql/execution package.")}}exports.GraphQL=i,i.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"JbDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Apollo=void 0;var o=require("@sentry/utils/esm/buildPolyfills"),e=require("@sentry/utils");class t{constructor(){t.prototype.__init.call(this)}static __initStatic(){this.id="Apollo"}__init(){this.name=t.id}setupOnce(o,t){var l=(0,e.loadModule)("apollo-server-core");l?(0,e.fill)(l.ApolloServerBase.prototype,"constructSchema",function(o){return function(){var e=Array.isArray(this.config.resolvers)?this.config.resolvers:[this.config.resolvers];return this.config.resolvers=e.map(o=>(Object.keys(o).forEach(e=>{Object.keys(o[e]).forEach(l=>{"function"==typeof o[e][l]&&i(o,e,l,t)})}),o)),o.call(this)}}):e.logger.error("Apollo Integration was unable to require apollo-server-core package.")}}function i(t,i,l,r){(0,e.fill)(t[i],l,function(t){return function(...s){var n=r().getScope(),a=(0,o._optionalChain)([n,"optionalAccess",o=>o.getSpan,"call",o=>o()]),c=(0,o._optionalChain)([a,"optionalAccess",o=>o.startChild,"call",o=>o({description:`${i}.${l}`,op:"db.graphql.apollo"})]),p=t.call(this,...s);return(0,e.isThenable)(p)?p.then(e=>((0,o._optionalChain)([c,"optionalAccess",o=>o.finish,"call",o=>o()]),e)):((0,o._optionalChain)([c,"optionalAccess",o=>o.finish,"call",o=>o()]),p)}})}exports.Apollo=t,t.__initStatic();
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD"}],"ypAH":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.registerBackgroundTabDetection=i;var e=require("@sentry/utils"),t=require("../utils.js"),n=(0,e.getGlobalObject)();function i(){n&&n.document?n.document.addEventListener("visibilitychange",()=>{var i=(0,t.getActiveTransaction)();if(n.document.hidden&&i){("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.log(`[Tracing] Transaction: cancelled -> since tab moved to the background, op: ${i.op}`),i.status||i.setStatus("cancelled"),i.setTag("visibilitychange","document.hidden"),i.finish()}}):("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&e.logger.warn("[Tracing] Could not set up background tab detection due to lack of global document")}
},{"@sentry/utils":"vnUD","../utils.js":"Nxrl"}],"olMm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindReporter=void 0;var e=(e,r,t)=>{let o;return d=>{r.value>=0&&(d||t)&&(r.delta=r.value-(o||0),(r.delta||void 0===o)&&(o=r.value,e(r)))}};exports.bindReporter=e;
},{}],"mike":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generateUniqueID=void 0;var e=()=>`v2-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`;exports.generateUniqueID=e;
},{}],"z5gp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.initMetric=void 0;var e=require("@sentry/utils/esm/buildPolyfills"),i=require("./generateUniqueID.js"),r=(r,t)=>({name:r,value:(0,e._nullishCoalesce)(t,()=>-1),delta:0,entries:[],id:(0,i.generateUniqueID)()});exports.initMetric=r;
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","./generateUniqueID.js":"mike"}],"e6hI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observe=void 0;var e=(e,r)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var t=new PerformanceObserver(e=>e.getEntries().map(r));return t.observe({type:e,buffered:!0}),t}}catch(s){}};exports.observe=e;
},{}],"pFuU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onHidden=void 0;var e=require("@sentry/utils"),i=(i,t)=>{var n=d=>{"pagehide"!==d.type&&"hidden"!==(0,e.getGlobalObject)().document.visibilityState||(i(d),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)};exports.onHidden=i;
},{"@sentry/utils":"vnUD"}],"Wmd7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCLS=void 0;var e=require("./lib/bindReporter.js"),r=require("./lib/initMetric.js"),t=require("./lib/observe.js"),i=require("./lib/onHidden.js"),s=(s,a)=>{var l=(0,r.initMetric)("CLS",0);let n,o=0,u=[];var v=e=>{if(e&&!e.hadRecentInput){var r=u[0],t=u[u.length-1];o&&0!==u.length&&e.startTime-t.startTime<1e3&&e.startTime-r.startTime<5e3?(o+=e.value,u.push(e)):(o=e.value,u=[e]),o>l.value&&(l.value=o,l.entries=u,n&&n())}},d=(0,t.observe)("layout-shift",v);d&&(n=(0,e.bindReporter)(s,l,a),(0,i.onHidden)(()=>{d.takeRecords().map(v),n(!0)}))};exports.getCLS=s;
},{"./lib/bindReporter.js":"olMm","./lib/initMetric.js":"z5gp","./lib/observe.js":"e6hI","./lib/onHidden.js":"pFuU"}],"YdWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getVisibilityWatcher=void 0;var e=require("@sentry/utils"),t=require("./onHidden.js");let i=-1;var r=()=>"hidden"===(0,e.getGlobalObject)().document.visibilityState?0:1/0,s=()=>{(0,t.onHidden)(({timeStamp:e})=>{i=e},!0)},d=()=>(i<0&&(i=r(),s()),{get firstHiddenTime(){return i}});exports.getVisibilityWatcher=d;
},{"@sentry/utils":"vnUD","./onHidden.js":"pFuU"}],"aUK4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFID=void 0;var e=require("./lib/bindReporter.js"),i=require("./lib/getVisibilityWatcher.js"),r=require("./lib/initMetric.js"),t=require("./lib/observe.js"),s=require("./lib/onHidden.js"),n=(n,o)=>{var d=(0,i.getVisibilityWatcher)(),a=(0,r.initMetric)("FID");let b;var l=e=>{b&&e.startTime<d.firstHiddenTime&&(a.value=e.processingStart-e.startTime,a.entries.push(e),b(!0))},u=(0,t.observe)("first-input",l);u&&(b=(0,e.bindReporter)(n,a,o),(0,s.onHidden)(()=>{u.takeRecords().map(l),u.disconnect()},!0))};exports.getFID=n;
},{"./lib/bindReporter.js":"olMm","./lib/getVisibilityWatcher.js":"YdWK","./lib/initMetric.js":"z5gp","./lib/observe.js":"e6hI","./lib/onHidden.js":"pFuU"}],"FWBY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLCP=void 0;var e=require("./lib/bindReporter.js"),i=require("./lib/getVisibilityWatcher.js"),r=require("./lib/initMetric.js"),t=require("./lib/observe.js"),s=require("./lib/onHidden.js"),n={},d=(d,o)=>{var a=(0,i.getVisibilityWatcher)(),c=(0,r.initMetric)("LCP");let l;var b=e=>{var i=e.startTime;i<a.firstHiddenTime&&(c.value=i,c.entries.push(e)),l&&l()},u=(0,t.observe)("largest-contentful-paint",b);if(u){l=(0,e.bindReporter)(d,c,o);var v=()=>{n[c.id]||(u.takeRecords().map(b),u.disconnect(),n[c.id]=!0,l(!0))};["keydown","click"].forEach(e=>{addEventListener(e,v,{once:!0,capture:!0})}),(0,s.onHidden)(v,!0)}};exports.getLCP=d;
},{"./lib/bindReporter.js":"olMm","./lib/getVisibilityWatcher.js":"YdWK","./lib/initMetric.js":"z5gp","./lib/observe.js":"e6hI","./lib/onHidden.js":"pFuU"}],"zRVM":[function(require,module,exports) {
"use strict";function t(t){return"number"==typeof t&&isFinite(t)}function e(t,{startTimestamp:e,...s}){return e&&t.startTimestamp>e&&(t.startTimestamp=e),t.startChild({startTimestamp:e,...s})}Object.defineProperty(exports,"__esModule",{value:!0}),exports._startChild=e,exports.isMeasurementValue=t;
},{}],"rby1":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._addMeasureSpans=v,exports._addResourceSpans=B,exports.addPerformanceEntries=S,exports.startTrackingWebVitals=p;var e=require("@sentry/utils/esm/buildPolyfills"),t=require("@sentry/utils"),i=require("../../utils.js"),r=require("../web-vitals/getCLS.js"),n=require("../web-vitals/getFID.js"),a=require("../web-vitals/getLCP.js"),s=require("../web-vitals/lib/getVisibilityWatcher.js"),o=require("./utils.js"),c=(0,t.getGlobalObject)();function d(){return c&&c.addEventListener&&c.performance}let u,m,l=0,_={};function p(e=!1){var i=d();i&&t.browserPerformanceTimeOrigin&&(i.mark&&c.performance.mark("sentry-tracing-init"),T(),f(e),g())}function T(){(0,r.getCLS)(e=>{var i=e.entries.pop();i&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding CLS"),_.cls={value:e.value,unit:""},m=i)})}function f(e){(0,a.getLCP)(e=>{var r=e.entries.pop();if(r){var n=(0,i.msToSec)(t.browserPerformanceTimeOrigin),a=(0,i.msToSec)(r.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding LCP"),_.lcp={value:e.value,unit:"millisecond"},_["mark.lcp"]={value:n+a,unit:"second"},u=r}},e)}function g(){(0,n.getFID)(e=>{var r=e.entries.pop();if(r){var n=(0,i.msToSec)(t.browserPerformanceTimeOrigin),a=(0,i.msToSec)(r.startTime);("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding FID"),_.fid={value:e.value,unit:"millisecond"},_["mark.fid"]={value:n+a,unit:"second"}}})}function S(e){var r=d();if(!r||!c.performance.getEntries||!t.browserPerformanceTimeOrigin)return;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Tracing] Adding & adjusting spans using Performance API");var n=(0,i.msToSec)(t.browserPerformanceTimeOrigin),a=r.getEntries();let p,T;a.slice(l).forEach(r=>{var a=(0,i.msToSec)(r.startTime),o=(0,i.msToSec)(r.duration);if(!("navigation"===e.op&&n+a<e.startTimestamp))switch(r.entryType){case"navigation":E(e,r,n),p=n+(0,i.msToSec)(r.responseStart),T=n+(0,i.msToSec)(r.requestStart);break;case"mark":case"paint":case"measure":var d=v(e,r,a,o,n),u=(0,s.getVisibilityWatcher)(),m=r.startTime<u.firstHiddenTime;"first-paint"===r.name&&m&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding FP"),_.fp={value:r.startTime,unit:"millisecond"},_["mark.fp"]={value:d,unit:"second"}),"first-contentful-paint"===r.name&&m&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding FCP"),_.fcp={value:r.startTime,unit:"millisecond"},_["mark.fcp"]={value:d,unit:"second"});break;case"resource":var l=r.name.replace(c.location.origin,"");B(e,r,l,a,o,n)}}),l=Math.max(a.length-1,0),h(e),"pageload"===e.op&&("number"==typeof p&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding TTFB"),_.ttfb={value:1e3*(p-e.startTimestamp),unit:"millisecond"},"number"==typeof T&&T<=p&&(_["ttfb.requestTime"]={value:1e3*(p-T),unit:"millisecond"})),["fcp","fp","lcp"].forEach(r=>{if(_[r]&&!(n>=e.startTimestamp)){var a=_[r].value,s=n+(0,i.msToSec)(a),o=Math.abs(1e3*(s-e.startTimestamp)),c=o-a;("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Measurements] Normalized ${r} from ${a} to ${o} (${c})`),_[r].value=o}}),_["mark.fid"]&&_.fid&&(0,o._startChild)(e,{description:"first input delay",endTimestamp:_["mark.fid"].value+(0,i.msToSec)(_.fid.value),op:"web.vitals",startTimestamp:_["mark.fid"].value}),"fcp"in _||delete _.cls,Object.keys(_).forEach(t=>{e.setMeasurement(t,_[t].value,_[t].unit)}),D(e)),u=void 0,m=void 0,_={}}function v(e,t,i,r,n){var a=n+i,s=a+r;return(0,o._startChild)(e,{description:t.name,endTimestamp:s,op:t.entryType,startTimestamp:a}),a}function E(e,t,i){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{y(e,t,r,i)}),y(e,t,"secureConnection",i,"TLS/SSL","connectEnd"),y(e,t,"fetch",i,"cache","domainLookupStart"),y(e,t,"domainLookup",i,"DNS"),b(e,t,i)}function y(t,r,n,a,s,c){var d=c?r[c]:r[`${n}End`],u=r[`${n}Start`];u&&d&&(0,o._startChild)(t,{op:"browser",description:(0,e._nullishCoalesce)(s,()=>n),startTimestamp:a+(0,i.msToSec)(u),endTimestamp:a+(0,i.msToSec)(d)})}function b(e,t,r){(0,o._startChild)(e,{op:"browser",description:"request",startTimestamp:r+(0,i.msToSec)(t.requestStart),endTimestamp:r+(0,i.msToSec)(t.responseEnd)}),(0,o._startChild)(e,{op:"browser",description:"response",startTimestamp:r+(0,i.msToSec)(t.responseStart),endTimestamp:r+(0,i.msToSec)(t.responseEnd)})}function B(e,t,i,r,n,a){if("xmlhttprequest"!==t.initiatorType&&"fetch"!==t.initiatorType){var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize),"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize),"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var c=a+r,d=c+n;(0,o._startChild)(e,{description:i,endTimestamp:d,op:t.initiatorType?`resource.${t.initiatorType}`:"resource",startTimestamp:c,data:s})}}function h(e){var t=c.navigator;if(t){var i=t.connection;i&&(i.effectiveType&&e.setTag("effectiveConnectionType",i.effectiveType),i.type&&e.setTag("connectionType",i.type),(0,o.isMeasurementValue)(i.rtt)&&(_["connection.rtt"]={value:i.rtt,unit:"millisecond"}),(0,o.isMeasurementValue)(i.downlink)&&(_["connection.downlink"]={value:i.downlink,unit:""})),(0,o.isMeasurementValue)(t.deviceMemory)&&e.setTag("deviceMemory",`${t.deviceMemory} GB`),(0,o.isMeasurementValue)(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}}function D(e){u&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding LCP Data"),u.element&&e.setTag("lcp.element",(0,t.htmlTreeAsString)(u.element)),u.id&&e.setTag("lcp.id",u.id),u.url&&e.setTag("lcp.url",u.url.trim().slice(0,200)),e.setTag("lcp.size",u.size)),m&&m.sources&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log("[Measurements] Adding CLS Data"),m.sources.forEach((i,r)=>e.setTag(`cls.source.${r+1}`,(0,t.htmlTreeAsString)(i.node))))}
},{"@sentry/utils/esm/buildPolyfills":"Xsdc","@sentry/utils":"vnUD","../../utils.js":"Nxrl","../web-vitals/getCLS.js":"Wmd7","../web-vitals/getFID.js":"aUK4","../web-vitals/getLCP.js":"FWBY","../web-vitals/lib/getVisibilityWatcher.js":"YdWK","./utils.js":"zRVM"}],"dDuR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultRequestInstrumentationOptions=exports.DEFAULT_TRACING_ORIGINS=void 0,exports.fetchCallback=n,exports.instrumentOutgoingRequests=s,exports.xhrCallback=_;var e=require("@sentry/utils"),t=require("../utils.js"),r=["localhost",/^\//];exports.DEFAULT_TRACING_ORIGINS=r;var a={traceFetch:!0,traceXHR:!0,tracingOrigins:r};function s(t){const{traceFetch:r,traceXHR:s,tracingOrigins:i,shouldCreateSpanForRequest:c}={...a,...t};var g={},h=t=>{if(g[t])return g[t];var r=i;return g[t]=r.some(r=>(0,e.isMatchingPattern)(t,r))&&!(0,e.isMatchingPattern)(t,"sentry_key"),g[t]};let o=h;"function"==typeof c&&(o=(e=>h(e)&&c(e)));var d={};r&&(0,e.addInstrumentationHandler)("fetch",e=>{n(e,o,d)}),s&&(0,e.addInstrumentationHandler)("xhr",e=>{_(e,o,d)})}function n(e,r,a){if((0,t.hasTracingEnabled)()&&e.fetchData&&r(e.fetchData.url))if(e.endTimestamp){var s=e.fetchData.__span;if(!s)return;(_=a[s])&&(e.response?_.setHttpStatus(e.response.status):e.error&&_.setStatus("internal_error"),_.finish(),delete a[s])}else{var n=(0,t.getActiveTransaction)();if(n){var _=n.startChild({data:{...e.fetchData,type:"fetch"},description:`${e.fetchData.method} ${e.fetchData.url}`,op:"http.client"});e.fetchData.__span=_.spanId,a[_.spanId]=_;var c=e.args[0]=e.args[0],g=e.args[1]=e.args[1]||{};g.headers=i(c,n.getBaggage(),_,g)}}}function i(t,r,a,s){let n=s.headers;if((0,e.isInstanceOf)(t,Request)&&(n=t.headers),n)if("function"==typeof n.append)n.append("sentry-trace",a.toTraceparent()),n.append(e.BAGGAGE_HEADER_NAME,(0,e.mergeAndSerializeBaggage)(r,n.get(e.BAGGAGE_HEADER_NAME)));else if(Array.isArray(n)){const[,t]=n.find(([t,r])=>t===e.BAGGAGE_HEADER_NAME);n=[...n,["sentry-trace",a.toTraceparent()],[e.BAGGAGE_HEADER_NAME,(0,e.mergeAndSerializeBaggage)(r,t)]]}else n={...n,"sentry-trace":a.toTraceparent(),baggage:(0,e.mergeAndSerializeBaggage)(r,n.baggage)};else n={"sentry-trace":a.toTraceparent(),baggage:(0,e.mergeAndSerializeBaggage)(r)};return n}function _(r,a,s){if(!(!(0,t.hasTracingEnabled)()||r.xhr&&r.xhr.__sentry_own_request__)&&r.xhr&&r.xhr.__sentry_xhr__&&a(r.xhr.__sentry_xhr__.url)){var n=r.xhr.__sentry_xhr__;if(r.endTimestamp){var i=r.xhr.__sentry_xhr_span_id__;if(!i)return;(c=s[i])&&(c.setHttpStatus(n.status_code),c.finish(),delete s[i])}else{var _=(0,t.getActiveTransaction)();if(_){var c=_.startChild({data:{...n.data,type:"xhr",method:n.method,url:n.url},description:`${n.method} ${n.url}`,op:"http.client"});if(r.xhr.__sentry_xhr_span_id__=c.spanId,s[r.xhr.__sentry_xhr_span_id__]=c,r.xhr.setRequestHeader)try{r.xhr.setRequestHeader("sentry-trace",c.toTraceparent());var g=r.xhr.getRequestHeader&&r.xhr.getRequestHeader(e.BAGGAGE_HEADER_NAME);r.xhr.setRequestHeader(e.BAGGAGE_HEADER_NAME,(0,e.mergeAndSerializeBaggage)(_.getBaggage(),g))}catch(h){}}}}}exports.defaultRequestInstrumentationOptions=a;
},{"@sentry/utils":"vnUD","../utils.js":"Nxrl"}],"IPkj":[function(require,module,exports) {

"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.instrumentRoutingWithDefaults=o;var t=require("@sentry/utils"),e=(0,t.getGlobalObject)();function o(o,n=!0,i=!0){if(!e||!e.location)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("Could not initialize routing instrumentation due to invalid location"));let a,r=e.location.href;n&&(a=o({name:e.location.pathname,op:"pageload",metadata:{source:"url"}})),i&&(0,t.addInstrumentationHandler)("history",({to:n,from:i})=>{void 0===i&&r&&-1!==r.indexOf(n)?r=void 0:i!==n&&(r=void 0,a&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Finishing current transaction with op: ${a.op}`),a.finish()),a=o({name:e.location.pathname,op:"navigation",metadata:{source:"url"}}))})}
},{"@sentry/utils":"vnUD"}],"fNfY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BrowserTracing=exports.BROWSER_TRACING_INTEGRATION_ID=void 0,exports.extractTraceDataFromMetaTags=c,exports.getMetaContent=g;var t=require("@sentry/utils"),e=require("../hubextensions.js"),r=require("../idletransaction.js");require("../utils.js");var n=require("./backgroundtab.js"),a=require("./metrics/index.js"),i=require("./request.js"),o=require("./router.js"),s="BrowserTracing";exports.BROWSER_TRACING_INTEGRATION_ID=s;var u={idleTimeout:r.DEFAULT_IDLE_TIMEOUT,finalTimeout:r.DEFAULT_FINAL_TIMEOUT,markBackgroundTransactions:!0,routingInstrumentation:o.instrumentRoutingWithDefaults,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,...i.defaultRequestInstrumentationOptions};class _{__init(){this.name=s}constructor(t){_.prototype.__init.call(this);let e=i.defaultRequestInstrumentationOptions.tracingOrigins;t&&(t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?e=t.tracingOrigins:("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&(this._emitOptionsWarning=!0)),this.options={...u,...t,tracingOrigins:e};const{_metricOptions:r}=this.options;(0,a.startTrackingWebVitals)(r&&r._reportAllChanges)}setupOnce(e,r){this._getCurrentHub=r,this._emitOptionsWarning&&(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`[Tracing] We added a reasonable default for you: ${i.defaultRequestInstrumentationOptions.tracingOrigins}`));const{routingInstrumentation:a,startTransactionOnLocationChange:o,startTransactionOnPageLoad:s,markBackgroundTransactions:u,traceFetch:_,traceXHR:c,tracingOrigins:g,shouldCreateSpanForRequest:d}=this.options;a(t=>this._createRouteTransaction(t),s,o),u&&(0,n.registerBackgroundTabDetection)(),(0,i.instrumentOutgoingRequests)({traceFetch:_,traceXHR:c,tracingOrigins:g,shouldCreateSpanForRequest:d})}_createRouteTransaction(r){if(!this._getCurrentHub)return void(("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.warn(`[Tracing] Did not create ${r.op} transaction because _getCurrentHub is invalid.`));const{beforeNavigate:n,idleTimeout:i,finalTimeout:o}=this.options;var s="pageload"===r.op?c():void 0,u={...r,...s,...s&&{metadata:{...r.metadata,...s.metadata}},trimEnd:!0},_="function"==typeof n?n(u):u,g=void 0===_?{...u,sampled:!1}:_;g.metadata=g.name!==u.name?{...g.metadata,source:"custom"}:g.metadata,!1===g.sampled&&("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Will not send ${g.op} transaction because of beforeNavigate.`),("undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__)&&t.logger.log(`[Tracing] Starting ${g.op} transaction on scope`);var d=this._getCurrentHub();const{location:l}=(0,t.getGlobalObject)();var T=(0,e.startIdleTransaction)(d,g,i,o,!0,{location:l});return T.registerBeforeFinishCallback(t=>{(0,a.addPerformanceEntries)(t),t.setTag("sentry_reportAllChanges",Boolean(this.options._metricOptions&&this.options._metricOptions._reportAllChanges))}),T}}function c(){var e=g("sentry-trace"),r=g("baggage"),n=e?(0,t.extractTraceparentData)(e):void 0,a=(0,t.parseBaggageSetMutability)(r,e);if(n||a)return{...n&&n,...a&&{metadata:{baggage:a}}}}function g(e){var r=(0,t.getGlobalObject)();if(r.document&&r.document.querySelector){var n=r.document.querySelector(`meta[name=${e}]`);return n?n.getAttribute("content"):null}return null}exports.BrowserTracing=_;
},{"@sentry/utils":"vnUD","../hubextensions.js":"ejWz","../idletransaction.js":"IIZb","../utils.js":"Nxrl","./backgroundtab.js":"ypAH","./metrics/index.js":"rby1","./request.js":"dDuR","./router.js":"IPkj"}],"boEO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BROWSER_TRACING_INTEGRATION_ID",{enumerable:!0,get:function(){return e.BROWSER_TRACING_INTEGRATION_ID}}),Object.defineProperty(exports,"BrowserTracing",{enumerable:!0,get:function(){return e.BrowserTracing}}),Object.defineProperty(exports,"defaultRequestInstrumentationOptions",{enumerable:!0,get:function(){return t.defaultRequestInstrumentationOptions}}),Object.defineProperty(exports,"instrumentOutgoingRequests",{enumerable:!0,get:function(){return t.instrumentOutgoingRequests}});var e=require("./browsertracing.js"),t=require("./request.js");
},{"./browsertracing.js":"fNfY","./request.js":"dDuR"}],"J03M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Apollo",{enumerable:!0,get:function(){return u.Apollo}}),Object.defineProperty(exports,"BrowserTracing",{enumerable:!0,get:function(){return i.BrowserTracing}}),Object.defineProperty(exports,"Express",{enumerable:!0,get:function(){return e.Express}}),Object.defineProperty(exports,"GraphQL",{enumerable:!0,get:function(){return s.GraphQL}}),Object.defineProperty(exports,"Mongo",{enumerable:!0,get:function(){return n.Mongo}}),Object.defineProperty(exports,"Mysql",{enumerable:!0,get:function(){return t.Mysql}}),Object.defineProperty(exports,"Postgres",{enumerable:!0,get:function(){return r.Postgres}}),Object.defineProperty(exports,"Prisma",{enumerable:!0,get:function(){return o.Prisma}});var e=require("./node/express.js"),r=require("./node/postgres.js"),t=require("./node/mysql.js"),n=require("./node/mongo.js"),o=require("./node/prisma.js"),s=require("./node/graphql.js"),u=require("./node/apollo.js");require("../browser/index.js");var i=require("../browser/browsertracing.js");
},{"./node/express.js":"kzMo","./node/postgres.js":"n0Yd","./node/mysql.js":"neU2","./node/mongo.js":"Lzuf","./node/prisma.js":"r0k3","./node/graphql.js":"AFzi","./node/apollo.js":"JbDt","../browser/index.js":"boEO","../browser/browsertracing.js":"fNfY"}],"Rfad":[function(require,module,exports) {
"use strict";var e;Object.defineProperty(exports,"__esModule",{value:!0}),exports.SpanStatus=void 0,exports.SpanStatus=e,function(e){e.Ok="ok";e.DeadlineExceeded="deadline_exceeded";e.Unauthenticated="unauthenticated";e.PermissionDenied="permission_denied";e.NotFound="not_found";e.ResourceExhausted="resource_exhausted";e.InvalidArgument="invalid_argument";e.Unimplemented="unimplemented";e.Unavailable="unavailable";e.InternalError="internal_error";e.UnknownError="unknown_error";e.Cancelled="cancelled";e.AlreadyExists="already_exists";e.FailedPrecondition="failed_precondition";e.Aborted="aborted";e.OutOfRange="out_of_range";e.DataLoss="data_loss"}(e||(exports.SpanStatus=e={}));
},{}],"MipS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"BROWSER_TRACING_INTEGRATION_ID",{enumerable:!0,get:function(){return i.BROWSER_TRACING_INTEGRATION_ID}}),Object.defineProperty(exports,"BrowserTracing",{enumerable:!0,get:function(){return i.BrowserTracing}}),Object.defineProperty(exports,"IdleTransaction",{enumerable:!0,get:function(){return u.IdleTransaction}}),exports.Integrations=void 0,Object.defineProperty(exports,"Span",{enumerable:!0,get:function(){return r.Span}}),Object.defineProperty(exports,"SpanStatus",{enumerable:!0,get:function(){return n.SpanStatus}}),Object.defineProperty(exports,"TRACEPARENT_REGEXP",{enumerable:!0,get:function(){return c.TRACEPARENT_REGEXP}}),Object.defineProperty(exports,"Transaction",{enumerable:!0,get:function(){return o.Transaction}}),Object.defineProperty(exports,"addExtensionMethods",{enumerable:!0,get:function(){return e.addExtensionMethods}}),Object.defineProperty(exports,"defaultRequestInstrumentationOptions",{enumerable:!0,get:function(){return s.defaultRequestInstrumentationOptions}}),Object.defineProperty(exports,"extractTraceparentData",{enumerable:!0,get:function(){return c.extractTraceparentData}}),Object.defineProperty(exports,"getActiveTransaction",{enumerable:!0,get:function(){return a.getActiveTransaction}}),Object.defineProperty(exports,"hasTracingEnabled",{enumerable:!0,get:function(){return a.hasTracingEnabled}}),Object.defineProperty(exports,"instrumentOutgoingRequests",{enumerable:!0,get:function(){return s.instrumentOutgoingRequests}}),Object.defineProperty(exports,"spanStatusfromHttpCode",{enumerable:!0,get:function(){return r.spanStatusfromHttpCode}}),Object.defineProperty(exports,"startIdleTransaction",{enumerable:!0,get:function(){return e.startIdleTransaction}}),Object.defineProperty(exports,"stripUrlQueryAndFragment",{enumerable:!0,get:function(){return c.stripUrlQueryAndFragment}});var e=require("./hubextensions.js"),t=f(require("./integrations/index.js"));exports.Integrations=t,require("./browser/index.js");var r=require("./span.js"),n=require("./spanstatus.js"),o=require("./transaction.js"),u=require("./idletransaction.js"),a=require("./utils.js"),i=require("./browser/browsertracing.js"),s=require("./browser/request.js"),c=require("@sentry/utils");function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(p=function(e){return e?r:t})(e)}function f(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=p(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var a=o?Object.getOwnPropertyDescriptor(e,u):null;a&&(a.get||a.set)?Object.defineProperty(n,u,a):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}("undefined"==typeof __SENTRY_TRACING__||__SENTRY_TRACING__)&&(0,e.addExtensionMethods)();
},{"./hubextensions.js":"ejWz","./integrations/index.js":"J03M","./browser/index.js":"boEO","./span.js":"W562","./spanstatus.js":"Rfad","./transaction.js":"D43a","./idletransaction.js":"IIZb","./utils.js":"Nxrl","./browser/browsertracing.js":"fNfY","./browser/request.js":"dDuR","@sentry/utils":"vnUD"}],"Szo7":[function(require,module,exports) {
"use strict";var t=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),e=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var r={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&e(r,t,o);return n(r,t),r};Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnityError=void 0;var o=r(require("@sentry/browser")),i=function(e){function n(t,n){var r=e.call(this,t)||this;return r.name="UnityError",r}return t(n,e),n}(Error);exports.UnityError=i;var c=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.name="UnityException",r}return t(n,e),n}(i),a=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.name="UnityAssert",r}return t(n,e),n}(i);window.UnityToHostLogError=function(t,e){o.captureException(new i(t,e),{tags:{simSource:"webgl"},extra:{webglStacktrace:e}})},window.UnityToHostLogException=function(t,e){o.captureException(new c(t,e),{tags:{simSource:"webgl"},extra:{webglStacktrace:e}})},window.UnityToHostLogAssert=function(t,e){o.captureException(new a(t,e),{tags:{simSource:"webgl"},extra:{webglStacktrace:e}})},window.UnityToHostLogState=function(t){o.configureScope(function(e){e.addAttachment({filename:"state.txt",data:t})})};
},{"@sentry/browser":"cUe8"}],"HfeY":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var n={};if(null!=r)for(var o in r)"default"!==o&&Object.prototype.hasOwnProperty.call(r,o)&&e(n,r,o);return t(n,r),n};Object.defineProperty(exports,"__esModule",{value:!0}),exports.submitUserFeedback=exports.copyErrorURLToClipboard=exports.copyErrorIdToClipboard=exports.generateUserHelpEvent=exports.setAVContext=exports.startSentry=void 0;var n,o,i=r(require("@sentry/browser")),a=require("@sentry/tracing");require("./unityErrorBridge");var s=[],l=function(e){var t=e.errorReportCallback,r=void 0===t?null:t,l=e.sentrySetupData;n=l;var u={dsn:l.dsn,integrations:[new a.Integrations.BrowserTracing({tracingOrigins:[" "]})],release:l.releaseVersion,environment:l.environment,tracesSampleRate:l.tracesSampleRate,beforeSend:function(e){var t,n;if(e.tags&&"webgl"===e.tags.simSource){e.exception.values[0].mechanism.handled=!1;var i=/^([\w.]+)\.([\w|<>]+ \([^)]*\))/,a=e.extra.webglStacktrace.split("\n");e.exception.values[0].stacktrace.frames=[];for(var l=a.length-1;l>=0;l--)if(null!=a[l]&&0!=a[l].length){var u=i.exec(a[l]),c=null!=u?{module:u[1],function:u[2]}:{function:a[l]};e.exception.values[0].stacktrace.frames.push(c)}}var d={eventId:e.event_id,error:e.exception&&e.exception.values[0].value,callstack:null===(n=null===(t=e.exception)||void 0===t?void 0:t.values[0].stacktrace)||void 0===n?void 0:n.frames.map(function(e){return e.module+" : "+e.function}),avContext:o,manuallyTriggered:e.tags&&1==e.tags.manuallyTriggered};return s.push(e.event_id),r&&r(d),e}};if(l.useTunnel){var c=l.useTunnel,d=l.dsn,p=new URL(d),v=p.pathname.replace("/",""),g="string"==typeof c?new URL(c).origin:p.origin;u.tunnel=g+"/api/"+v+"/envelope/"}return i.init(u),f(),x(),u};function u(e){o=e,i.setContext("AV Context",e),i.setTag("avEventID",e.eventId);var t={id:e.userId};i.setUser(t)}function c(){i.withScope(function(e){e.setTag("manuallyTriggered",!0);var t=i.captureMessage("User Help Event");console.log("Generated use help event: "+t)})}function d(e){navigator.clipboard.writeText(e),h()}function p(e){var t="https://sentry.io/organizations/synthesis-school-inc/issues/?query="+e;navigator.clipboard.writeText(t),h()}function v(e,t,r,o){var i="https://sentry.io/api/0/projects/"+n.organizationSlug+"/"+n.projectSlug+"/user-feedback/",a=JSON.stringify({name:e,email:t,event_id:r,comments:o});return fetch(i,{method:"POST",headers:[["Content-type","application/json"],["Authorization","DSN "+n.dsn]],body:a})}function f(){window.addEventListener("keydown",function(e){(e.metaKey||e.ctrlKey)&&"b"==e.key&&g()})}function g(){0==s.length&&c(),d(s.join("\n")),console.log("Copied errors to clipboard: "+s.join(", "))}exports.startSentry=l,exports.setAVContext=u,exports.generateUserHelpEvent=c,exports.copyErrorIdToClipboard=d,exports.copyErrorURLToClipboard=p,exports.submitUserFeedback=v,window.UnityToHostBugKey=function(){g()};var b,y="position: absolute; visibility: hidden;",m="text-alignment: center; background: black; border: 1px solid white; border-radius: 4px; position: absolute; margin-left: auto; margin-right: auto; z-index: 1000; bottom: 40px; left: 20%; right: 20%; visibility: visible; text-align: center; color: yellow; padding: 5px; font-size: 120%;";function x(){(b=document.createElement("div")).setAttribute("style",y),b.innerHTML="Error code copied. Paste it in chat!",document.body.insertBefore(b,document.body.firstChild)}function h(){b.setAttribute("style",m),setTimeout(function(){b.setAttribute("style",y)},5e3)}
},{"@sentry/browser":"cUe8","@sentry/tracing":"MipS","./unityErrorBridge":"Szo7"}],"FlUp":[function(require,module,exports) {
"use strict";function e(e,n,r){const s=s=>{if(!t(s.origin,e.postMessageDomain))return;const a=s.data;null!=a&&a.kind===n&&r(s)};return window.addEventListener("message",s),()=>{window.removeEventListener("message",s)}}function t(e,t){return t&&e.endsWith(t)||e.endsWith("localhost:3000")||e.endsWith("localhost.synthesis.is:3000")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.sendGamePerformanceToAV=exports.initKeyboardEventBubblingToAV=exports.initHelpSubmittedFromAV=exports.initHandshakeWithAV=exports.NebulaClientMessageKind=void 0;var n=(e=>(e.GamePerformance="GamePerformance",e.HandshakeAccepted="HandshakeAccepted",e.HandshakeOffer="HandshakeOffer",e.HelpSubmitted="HelpSubmitted",e.KeyboardEvent="KeyboardEvent",e))(n||{});function r(){return parent!==window}exports.NebulaClientMessageKind=n;var s=(e,t)=>{if(e.repeat)return;const n={event:{altKey:e.altKey,code:e.code,ctrlKey:e.ctrlKey,defaultPrevented:e.defaultPrevented,isTrusted:e.isTrusted,key:e.key,location:e.location,metaKey:e.metaKey,shiftKey:e.shiftKey,timeStamp:e.timeStamp,type:e.type},kind:"KeyboardEvent"};parent.postMessage(n,t.postMessageDomain||"/")},a=e=>{if(!r())return;const t=t=>{s(t,e)};return window.addEventListener("keydown",t),window.addEventListener("keyup",t),()=>{window.removeEventListener("keydown",t),window.removeEventListener("keyup",t)}};exports.initKeyboardEventBubblingToAV=a;var o=(t,n)=>{if(!r())return[Promise.reject(new Error("Not in AV")),()=>{}];let s=!1,a=null;return[new Promise(r=>{if(s)return;a=e(n,"HandshakeAccepted",e=>{r(e)});const o={data:t,kind:"HandshakeOffer"};parent.postMessage(o,n.postMessageDomain||"/")}),()=>{s=!0,a&&a()}]};exports.initHandshakeWithAV=o;var i=(e,t)=>{const n={data:e,kind:"GamePerformance"};parent.postMessage(n,t.postMessageDomain||"/")};exports.sendGamePerformanceToAV=i;var d=(t,n)=>{e(t,"HelpSubmitted",()=>{n()})};exports.initHelpSubmittedFromAV=d;
},{}],"qPox":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,a){function i(e){try{l(o.next(e))}catch(t){a(t)}}function s(e){try{l(o.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(i,s)}l((o=o.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,o,r,a,i={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(r=(r=i.trys).length>0&&r[r.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){i.label=a[1];break}if(6===a[0]&&i.label<r[1]){i.label=r[1],r=a;break}if(r&&i.label<r[2]){i.label=r[2],i.ops.push(a);break}r[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(s){a=[6,s],o=0}finally{n=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.getNebulaClientOptions=exports.handshakeWithNebula=void 0;var n=require("@gosynthschool/nebula-client"),o=require("./errorReporting/sentrySetup"),r=null;function a(a,s){return e(this,void 0,void 0,function(){var e,l,u;return t(this,function(t){switch(t.label){case 0:console.log("Got this env:"),console.log(a),r=a,n.initKeyboardEventBubblingToAV(i()),n.initHelpSubmittedFromAV(i(),o.generateUserHelpEvent),e=n.initHandshakeWithAV({gameName:s},i()),l=e[0],e[1],t.label=1;case 1:return t.trys.push([1,3,,4]),console.log("Beginning handshake with AV..."),[4,l];case 2:return u=t.sent(),console.log("Got this handshake message:"),console.log(u),o.setAVContext(u.data),[3,4];case 3:return t.sent(),console.log("No AV context."),[3,4];case 4:return[2]}})})}function i(){return{postMessageDomain:r}}exports.handshakeWithNebula=a,exports.getNebulaClientOptions=i;
},{"@gosynthschool/nebula-client":"FlUp","./errorReporting/sentrySetup":"HfeY"}],"EDTP":[function(require,module,exports) {
"use strict";module.exports=function(r,n){return function(){for(var t=new Array(arguments.length),e=0;e<t.length;e++)t[e]=arguments[e];return r.apply(n,t)}};
},{}],"S1cf":[function(require,module,exports) {
"use strict";var r=require("./helpers/bind"),t=Object.prototype.toString;function n(r){return"[object Array]"===t.call(r)}function e(r){return void 0===r}function o(r){return null!==r&&!e(r)&&null!==r.constructor&&!e(r.constructor)&&"function"==typeof r.constructor.isBuffer&&r.constructor.isBuffer(r)}function i(r){return"[object ArrayBuffer]"===t.call(r)}function u(r){return"undefined"!=typeof FormData&&r instanceof FormData}function c(r){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(r):r&&r.buffer&&r.buffer instanceof ArrayBuffer}function f(r){return"string"==typeof r}function a(r){return"number"==typeof r}function l(r){return null!==r&&"object"==typeof r}function s(r){if("[object Object]"!==t.call(r))return!1;var n=Object.getPrototypeOf(r);return null===n||n===Object.prototype}function p(r){return"[object Date]"===t.call(r)}function d(r){return"[object File]"===t.call(r)}function y(r){return"[object Blob]"===t.call(r)}function b(r){return"[object Function]"===t.call(r)}function j(r){return l(r)&&b(r.pipe)}function m(r){return"undefined"!=typeof URLSearchParams&&r instanceof URLSearchParams}function v(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function B(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function g(r,t){if(null!=r)if("object"!=typeof r&&(r=[r]),n(r))for(var e=0,o=r.length;e<o;e++)t.call(null,r[e],e,r);else for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&t.call(null,r[i],i,r)}function A(){var r={};function t(t,e){s(r[e])&&s(t)?r[e]=A(r[e],t):s(t)?r[e]=A({},t):n(t)?r[e]=t.slice():r[e]=t}for(var e=0,o=arguments.length;e<o;e++)g(arguments[e],t);return r}function O(t,n,e){return g(n,function(n,o){t[o]=e&&"function"==typeof n?r(n,e):n}),t}function h(r){return 65279===r.charCodeAt(0)&&(r=r.slice(1)),r}module.exports={isArray:n,isArrayBuffer:i,isBuffer:o,isFormData:u,isArrayBufferView:c,isString:f,isNumber:a,isObject:l,isPlainObject:s,isUndefined:e,isDate:p,isFile:d,isBlob:y,isFunction:b,isStream:j,isURLSearchParams:m,isStandardBrowserEnv:B,forEach:g,merge:A,extend:O,trim:v,stripBOM:h};
},{"./helpers/bind":"EDTP"}],"H6Qo":[function(require,module,exports) {
"use strict";var e=require("./../utils");function r(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}module.exports=function(i,n,t){if(!n)return i;var a;if(t)a=t(n);else if(e.isURLSearchParams(n))a=n.toString();else{var c=[];e.forEach(n,function(i,n){null!=i&&(e.isArray(i)?n+="[]":i=[i],e.forEach(i,function(i){e.isDate(i)?i=i.toISOString():e.isObject(i)&&(i=JSON.stringify(i)),c.push(r(n)+"="+r(i))}))}),a=c.join("&")}if(a){var o=i.indexOf("#");-1!==o&&(i=i.slice(0,o)),i+=(-1===i.indexOf("?")?"?":"&")+a}return i};
},{"./../utils":"S1cf"}],"rj2i":[function(require,module,exports) {
"use strict";var n=require("./../utils");function e(){this.handlers=[]}e.prototype.use=function(n,e,t){return this.handlers.push({fulfilled:n,rejected:e,synchronous:!!t&&t.synchronous,runWhen:t?t.runWhen:null}),this.handlers.length-1},e.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},e.prototype.forEach=function(e){n.forEach(this.handlers,function(n){null!==n&&e(n)})},module.exports=e;
},{"./../utils":"S1cf"}],"M8l6":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(t,r){e.forEach(t,function(e,o){o!==r&&o.toUpperCase()===r.toUpperCase()&&(t[r]=e,delete t[o])})};
},{"../utils":"S1cf"}],"YdsM":[function(require,module,exports) {
"use strict";module.exports=function(e,i,s,t,n){return e.config=i,s&&(e.code=s),e.request=t,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e};
},{}],"bIiH":[function(require,module,exports) {
"use strict";var r=require("./enhanceError");module.exports=function(e,n,o,t,u){var a=new Error(e);return r(a,n,o,t,u)};
},{"./enhanceError":"YdsM"}],"aS8y":[function(require,module,exports) {
"use strict";var t=require("./createError");module.exports=function(e,s,u){var a=u.config.validateStatus;u.status&&a&&!a(u.status)?s(t("Request failed with status code "+u.status,u.config,null,u.request,u)):e(u)};
},{"./createError":"bIiH"}],"dn2M":[function(require,module,exports) {
"use strict";var e=require("./../utils");module.exports=e.isStandardBrowserEnv()?{write:function(n,t,o,r,i,u){var s=[];s.push(n+"="+encodeURIComponent(t)),e.isNumber(o)&&s.push("expires="+new Date(o).toGMTString()),e.isString(r)&&s.push("path="+r),e.isString(i)&&s.push("domain="+i),!0===u&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};
},{"./../utils":"S1cf"}],"YZjV":[function(require,module,exports) {
"use strict";module.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)};
},{}],"a2Uu":[function(require,module,exports) {
"use strict";module.exports=function(e,r){return r?e.replace(/\/+$/,"")+"/"+r.replace(/^\/+/,""):e};
},{}],"KxkP":[function(require,module,exports) {
"use strict";var e=require("../helpers/isAbsoluteURL"),r=require("../helpers/combineURLs");module.exports=function(s,u){return s&&!e(u)?r(s,u):u};
},{"../helpers/isAbsoluteURL":"YZjV","../helpers/combineURLs":"a2Uu"}],"ZeD7":[function(require,module,exports) {
"use strict";var e=require("./../utils"),t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];module.exports=function(r){var i,o,n,s={};return r?(e.forEach(r.split("\n"),function(r){if(n=r.indexOf(":"),i=e.trim(r.substr(0,n)).toLowerCase(),o=e.trim(r.substr(n+1)),i){if(s[i]&&t.indexOf(i)>=0)return;s[i]="set-cookie"===i?(s[i]?s[i]:[]).concat([o]):s[i]?s[i]+", "+o:o}}),s):s};
},{"./../utils":"S1cf"}],"w7LF":[function(require,module,exports) {
"use strict";var t=require("./../utils");module.exports=t.isStandardBrowserEnv()?function(){var r,e=/(msie|trident)/i.test(navigator.userAgent),o=document.createElement("a");function a(t){var r=t;return e&&(o.setAttribute("href",r),r=o.href),o.setAttribute("href",r),{href:o.href,protocol:o.protocol?o.protocol.replace(/:$/,""):"",host:o.host,search:o.search?o.search.replace(/^\?/,""):"",hash:o.hash?o.hash.replace(/^#/,""):"",hostname:o.hostname,port:o.port,pathname:"/"===o.pathname.charAt(0)?o.pathname:"/"+o.pathname}}return r=a(window.location.href),function(e){var o=t.isString(e)?a(e):e;return o.protocol===r.protocol&&o.host===r.host}}():function(){return!0};
},{"./../utils":"S1cf"}],"KRuG":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./../core/settle"),t=require("./../helpers/cookies"),o=require("./../helpers/buildURL"),s=require("../core/buildFullPath"),n=require("./../helpers/parseHeaders"),a=require("./../helpers/isURLSameOrigin"),i=require("../core/createError");module.exports=function(u){return new Promise(function(l,d){var p=u.data,c=u.headers,f=u.responseType;e.isFormData(p)&&delete c["Content-Type"];var m=new XMLHttpRequest;if(u.auth){var h=u.auth.username||"",E=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";c.Authorization="Basic "+btoa(h+":"+E)}var T=s(u.baseURL,u.url);function R(){if(m){var e="getAllResponseHeaders"in m?n(m.getAllResponseHeaders()):null,t={data:f&&"text"!==f&&"json"!==f?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:e,config:u,request:m};r(l,d,t),m=null}}if(m.open(u.method.toUpperCase(),o(T,u.params,u.paramsSerializer),!0),m.timeout=u.timeout,"onloadend"in m?m.onloadend=R:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(R)},m.onabort=function(){m&&(d(i("Request aborted",u,"ECONNABORTED",m)),m=null)},m.onerror=function(){d(i("Network Error",u,null,m)),m=null},m.ontimeout=function(){var e="timeout of "+u.timeout+"ms exceeded";u.timeoutErrorMessage&&(e=u.timeoutErrorMessage),d(i(e,u,u.transitional&&u.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",m)),m=null},e.isStandardBrowserEnv()){var g=(u.withCredentials||a(T))&&u.xsrfCookieName?t.read(u.xsrfCookieName):void 0;g&&(c[u.xsrfHeaderName]=g)}"setRequestHeader"in m&&e.forEach(c,function(e,r){void 0===p&&"content-type"===r.toLowerCase()?delete c[r]:m.setRequestHeader(r,e)}),e.isUndefined(u.withCredentials)||(m.withCredentials=!!u.withCredentials),f&&"json"!==f&&(m.responseType=u.responseType),"function"==typeof u.onDownloadProgress&&m.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&m.upload&&m.upload.addEventListener("progress",u.onUploadProgress),u.cancelToken&&u.cancelToken.promise.then(function(e){m&&(m.abort(),d(e),m=null)}),p||(p=null),m.send(p)})};
},{"./../utils":"S1cf","./../core/settle":"aS8y","./../helpers/cookies":"dn2M","./../helpers/buildURL":"H6Qo","../core/buildFullPath":"KxkP","./../helpers/parseHeaders":"ZeD7","./../helpers/isURLSameOrigin":"w7LF","../core/createError":"bIiH"}],"BXyq":[function(require,module,exports) {
var process = require("process");
var e=require("process"),r=require("./utils"),t=require("./helpers/normalizeHeaderName"),n=require("./core/enhanceError"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function o(){var r;return"undefined"!=typeof XMLHttpRequest?r=require("./adapters/xhr"):void 0!==e&&"[object process]"===Object.prototype.toString.call(e)&&(r=require("./adapters/http")),r}function s(e,t,n){if(r.isString(e))try{return(t||JSON.parse)(e),r.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:o(),transformRequest:[function(e,n){return t(n,"Accept"),t(n,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||n&&"application/json"===n["Content-Type"]?(a(n,"application/json"),s(e)):e}],transformResponse:[function(e){var t=this.transitional,i=t&&t.silentJSONParsing,a=t&&t.forcedJSONParsing,o=!i&&"json"===this.responseType;if(o||a&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(s){if(o){if("SyntaxError"===s.name)throw n(s,this,"E_JSON_PARSE");throw s}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],function(e){c.headers[e]={}}),r.forEach(["post","put","patch"],function(e){c.headers[e]=r.merge(i)}),module.exports=c;
},{"./utils":"S1cf","./helpers/normalizeHeaderName":"M8l6","./core/enhanceError":"YdsM","./adapters/xhr":"KRuG","./adapters/http":"KRuG","process":"pBGv"}],"woEt":[function(require,module,exports) {
"use strict";var r=require("./../utils"),e=require("./../defaults");module.exports=function(t,u,i){var s=this||e;return r.forEach(i,function(r){t=r.call(s,t,u)}),t};
},{"./../utils":"S1cf","./../defaults":"BXyq"}],"V30M":[function(require,module,exports) {
"use strict";module.exports=function(t){return!(!t||!t.__CANCEL__)};
},{}],"uz6X":[function(require,module,exports) {
"use strict";var e=require("./../utils"),r=require("./transformData"),a=require("../cancel/isCancel"),t=require("../defaults");function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}module.exports=function(n){return s(n),n.headers=n.headers||{},n.data=r.call(n,n.data,n.headers,n.transformRequest),n.headers=e.merge(n.headers.common||{},n.headers[n.method]||{},n.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(e){delete n.headers[e]}),(n.adapter||t.adapter)(n).then(function(e){return s(n),e.data=r.call(n,e.data,e.headers,n.transformResponse),e},function(e){return a(e)||(s(n),e&&e.response&&(e.response.data=r.call(n,e.response.data,e.response.headers,n.transformResponse))),Promise.reject(e)})};
},{"./../utils":"S1cf","./transformData":"woEt","../cancel/isCancel":"V30M","../defaults":"BXyq"}],"OHvn":[function(require,module,exports) {
"use strict";var e=require("../utils");module.exports=function(n,t){t=t||{};var r={},o=["url","method","data"],i=["headers","auth","proxy","params"],a=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function c(n,t){return e.isPlainObject(n)&&e.isPlainObject(t)?e.merge(n,t):e.isPlainObject(t)?e.merge({},t):e.isArray(t)?t.slice():t}function d(o){e.isUndefined(t[o])?e.isUndefined(n[o])||(r[o]=c(void 0,n[o])):r[o]=c(n[o],t[o])}e.forEach(o,function(n){e.isUndefined(t[n])||(r[n]=c(void 0,t[n]))}),e.forEach(i,d),e.forEach(a,function(o){e.isUndefined(t[o])?e.isUndefined(n[o])||(r[o]=c(void 0,n[o])):r[o]=c(void 0,t[o])}),e.forEach(s,function(e){e in t?r[e]=c(n[e],t[e]):e in n&&(r[e]=c(void 0,n[e]))});var f=o.concat(i).concat(a).concat(s),u=Object.keys(n).concat(Object.keys(t)).filter(function(e){return-1===f.indexOf(e)});return e.forEach(u,d),r};
},{"../utils":"S1cf"}],"kHha":[function(require,module,exports) {
module.exports={name:"axios",version:"0.21.4",description:"Promise based HTTP client for the browser and node.js",main:"index.js",scripts:{test:"grunt test",start:"node ./sandbox/server.js",build:"NODE_ENV=production grunt build",preversion:"npm test",version:"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json",postversion:"git push && git push --tags",examples:"node ./examples/server.js",coveralls:"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js",fix:"eslint --fix lib/**/*.js"},repository:{type:"git",url:"https://github.com/axios/axios.git"},keywords:["xhr","http","ajax","promise","node"],author:"Matt Zabriskie",license:"MIT",bugs:{url:"https://github.com/axios/axios/issues"},homepage:"https://axios-http.com",devDependencies:{coveralls:"^3.0.0","es6-promise":"^4.2.4",grunt:"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1",karma:"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2",minimist:"^1.2.0",mocha:"^8.2.1",sinon:"^4.5.0","terser-webpack-plugin":"^4.2.3",typescript:"^4.0.5","url-search-params":"^0.10.0",webpack:"^4.44.2","webpack-dev-server":"^3.11.0"},browser:{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},jsdelivr:"dist/axios.min.js",unpkg:"dist/axios.min.js",typings:"./index.d.ts",dependencies:{"follow-redirects":"^1.14.0"},bundlesize:[{path:"./dist/axios.min.js",threshold:"5kB"}]};
},{}],"lsvU":[function(require,module,exports) {
"use strict";var r=require("./../../package.json"),n={};["object","boolean","number","function","string","symbol"].forEach(function(r,e){n[r]=function(n){return typeof n===r||"a"+(e<1?"n ":" ")+r}});var e={},o=r.version.split(".");function t(r,n){for(var e=n?n.split("."):o,t=r.split("."),i=0;i<3;i++){if(e[i]>t[i])return!0;if(e[i]<t[i])return!1}return!1}function i(r,n,e){if("object"!=typeof r)throw new TypeError("options must be an object");for(var o=Object.keys(r),t=o.length;t-- >0;){var i=o[t],s=n[i];if(s){var a=r[i],u=void 0===a||s(a,i,r);if(!0!==u)throw new TypeError("option "+i+" must be "+u)}else if(!0!==e)throw Error("Unknown option "+i)}}n.transitional=function(n,o,i){var s=o&&t(o);function a(n,e){return"[Axios v"+r.version+"] Transitional option '"+n+"'"+e+(i?". "+i:"")}return function(r,t,i){if(!1===n)throw new Error(a(t," has been removed in "+o));return s&&!e[t]&&(e[t]=!0,console.warn(a(t," has been deprecated since v"+o+" and will be removed in the near future"))),!n||n(r,t,i)}},module.exports={isOlderVersion:t,assertOptions:i,validators:n};
},{"./../../package.json":"kHha"}],"OvAf":[function(require,module,exports) {
"use strict";var t=require("./../utils"),e=require("../helpers/buildURL"),r=require("./InterceptorManager"),o=require("./dispatchRequest"),i=require("./mergeConfig"),n=require("../helpers/validator"),s=n.validators;function a(t){this.defaults=t,this.interceptors={request:new r,response:new r}}a.prototype.request=function(t){"string"==typeof t?(t=arguments[1]||{}).url=arguments[0]:t=t||{},(t=i(this.defaults,t)).method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&n.assertOptions(e,{silentJSONParsing:s.transitional(s.boolean,"1.0.0"),forcedJSONParsing:s.transitional(s.boolean,"1.0.0"),clarifyTimeoutError:s.transitional(s.boolean,"1.0.0")},!1);var r=[],a=!0;this.interceptors.request.forEach(function(e){"function"==typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,r.unshift(e.fulfilled,e.rejected))});var u,h=[];if(this.interceptors.response.forEach(function(t){h.push(t.fulfilled,t.rejected)}),!a){var f=[o,void 0];for(Array.prototype.unshift.apply(f,r),f=f.concat(h),u=Promise.resolve(t);f.length;)u=u.then(f.shift(),f.shift());return u}for(var l=t;r.length;){var c=r.shift(),p=r.shift();try{l=c(l)}catch(d){p(d);break}}try{u=o(l)}catch(d){return Promise.reject(d)}for(;h.length;)u=u.then(h.shift(),h.shift());return u},a.prototype.getUri=function(t){return t=i(this.defaults,t),e(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},t.forEach(["delete","get","head","options"],function(t){a.prototype[t]=function(e,r){return this.request(i(r||{},{method:t,url:e,data:(r||{}).data}))}}),t.forEach(["post","put","patch"],function(t){a.prototype[t]=function(e,r,o){return this.request(i(o||{},{method:t,url:e,data:r}))}}),module.exports=a;
},{"./../utils":"S1cf","../helpers/buildURL":"H6Qo","./InterceptorManager":"rj2i","./dispatchRequest":"uz6X","./mergeConfig":"OHvn","../helpers/validator":"lsvU"}],"mIKj":[function(require,module,exports) {
"use strict";function t(t){this.message=t}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,module.exports=t;
},{}],"tsWd":[function(require,module,exports) {
"use strict";var e=require("./Cancel");function n(n){if("function"!=typeof n)throw new TypeError("executor must be a function.");var o;this.promise=new Promise(function(e){o=e});var r=this;n(function(n){r.reason||(r.reason=new e(n),o(r.reason))})}n.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},n.source=function(){var e;return{token:new n(function(n){e=n}),cancel:e}},module.exports=n;
},{"./Cancel":"mIKj"}],"X8jb":[function(require,module,exports) {
"use strict";module.exports=function(n){return function(t){return n.apply(null,t)}};
},{}],"wICU":[function(require,module,exports) {
"use strict";module.exports=function(o){return"object"==typeof o&&!0===o.isAxiosError};
},{}],"nUiQ":[function(require,module,exports) {
"use strict";var e=require("./utils"),r=require("./helpers/bind"),i=require("./core/Axios"),n=require("./core/mergeConfig"),u=require("./defaults");function o(n){var u=new i(n),o=r(i.prototype.request,u);return e.extend(o,i.prototype,u),e.extend(o,u),o}var l=o(u);l.Axios=i,l.create=function(e){return o(n(l.defaults,e))},l.Cancel=require("./cancel/Cancel"),l.CancelToken=require("./cancel/CancelToken"),l.isCancel=require("./cancel/isCancel"),l.all=function(e){return Promise.all(e)},l.spread=require("./helpers/spread"),l.isAxiosError=require("./helpers/isAxiosError"),module.exports=l,module.exports.default=l;
},{"./utils":"S1cf","./helpers/bind":"EDTP","./core/Axios":"OvAf","./core/mergeConfig":"OHvn","./defaults":"BXyq","./cancel/Cancel":"mIKj","./cancel/CancelToken":"tsWd","./cancel/isCancel":"V30M","./helpers/spread":"X8jb","./helpers/isAxiosError":"wICU"}],"dZBD":[function(require,module,exports) {
module.exports=require("./lib/axios");
},{"./lib/axios":"nUiQ"}],"en8R":[function(require,module,exports) {
"use strict";function e(e){this.message=e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.InvalidTokenError=o,exports.default=void 0,e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(r){var t=String(r).replace(/=+$/,"");if(t.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var o,n,a=0,i=0,d="";n=t.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?d+=String.fromCharCode(255&o>>(-2*a&6)):0)n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(n);return d};function t(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return decodeURIComponent(r(t).replace(/(.)/g,function(e,r){var t=r.charCodeAt(0).toString(16).toUpperCase();return t.length<2&&(t="0"+t),"%"+t}))}catch(e){return r(t)}}function o(e){this.message=e}function n(e,r){if("string"!=typeof e)throw new o("Invalid token specified");var n=!0===(r=r||{}).header?0:1;try{return JSON.parse(t(e.split(".")[n]))}catch(e){throw new o("Invalid token specified: "+e.message)}}o.prototype=new Error,o.prototype.name="InvalidTokenError";var a=n;exports.default=a;
},{}],"UcdH":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{l(r.next(e))}catch(t){i(t)}}function u(e){try{l(r.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,u)}l((r=r.apply(e,t||[])).next())})},t=this&&this.__generator||function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===i[0]||2===i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(u){i=[6,u],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.pollGoSynth=void 0;var r=n(require("axios")),o=n(require("jwt-decode")),i="?action=getCurrentGameJWT",a="?action=notifyTeacherJoinedJWT",u=function(n,a){return function(){var u=o.default(n);r.default.get(a+i,{headers:{Authorization:"Bearer "+n}}).then(function(r){return e(void 0,void 0,void 0,function(){var e;return t(this,function(t){switch(t.label){case 0:return(e=r.data).url&&e.gameid&&e.teamid?u.game.toString()===e.gameid.toString()?[3,1]:(alert("new game is in progress."),window.location=e.url,[3,4]):[3,4];case 1:return u.teamid&&u.teamid.toString()!==e.teamid.toString()?(alert("you've been moved to a new team."),window.location=e.url,[3,4]):[3,2];case 2:return[4,l(n,a)];case 3:t.sent(),t.label=4;case 4:return[2]}})})})}},l=function(n,o){return e(void 0,void 0,void 0,function(){return t(this,function(e){switch(e.label){case 0:return[4,r.default.post(o+a,{},{headers:{Authorization:"Bearer "+n}})];case 1:return e.sent(),[2]}})})},c=function(e,t){var n=void 0===t?{}:t,r=n.base_url,i=void 0===r?"https://stars.gosynthschool.com/api.php":r,a=n.seconds,l=void 0===a?5:a,c=o.default(e);c.admin||c.editSetup||setInterval(u(e,i),1e3*l)};exports.pollGoSynth=c;
},{"axios":"dZBD","jwt-decode":"en8R"}],"VW4R":[function(require,module,exports) {
"use strict";var e=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.redirectAfterInactivity=void 0;var t=e(require("jwt-decode")),o=Date.now(),n=function(e,n){void 0===n&&(n=20);var r=t.default(e);window.addEventListener("mousemove",function(){o=Date.now()}),window.addEventListener("keydown",function(){o=Date.now()}),setInterval(function(){Date.now()-o>6e4*n&&(r&&1==r.admin?location.href="https://stars.gosynthschool.com/gameAssignment.php":location.href="https://stars.gosynthschool.com/player.php")},1e4)};exports.redirectAfterInactivity=n;
},{"jwt-decode":"en8R"}],"vEKS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.teamChange=void 0;var e=function(e){window.confirm("You have been moved to team ".concat(e,". Confirm to refresh"))&&location.reload()};exports.teamChange=e;
},{}],"UHzJ":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),t(require("./teamChange"),exports);
},{"./teamChange":"vEKS"}],"Kmzx":[function(require,module,exports) {
"use strict";var e=this&&this.__awaiter||function(e,n,r,t){return new(r||(r=Promise))(function(o,s){function i(e){try{a(t.next(e))}catch(n){s(n)}}function c(e){try{a(t.throw(e))}catch(n){s(n)}}function a(e){var n;e.done?o(e.value):(n=e.value,n instanceof r?n:new r(function(e){e(n)})).then(i,c)}a((t=t.apply(e,n||[])).next())})},n=this&&this.__generator||function(e,n){var r,t,o,s,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return s={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function c(s){return function(c){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,t&&(o=2&s[0]?t.return:s[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,s[1])).done)return o;switch(t=0,o&&(s=[2&s[0],o.value]),s[0]){case 0:case 1:o=s;break;case 4:return i.label++,{value:s[1],done:!1};case 5:i.label++,t=s[1],s=[0];continue;case 7:s=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===s[0]||2===s[0])){i=0;continue}if(3===s[0]&&(!o||s[1]>o[0]&&s[1]<o[3])){i.label=s[1];break}if(6===s[0]&&i.label<o[1]){i.label=o[1],o=s;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(s);break}o[2]&&i.ops.pop(),i.trys.pop();continue}s=n.call(e,i)}catch(c){s=[6,c],t=0}finally{r=o=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,c])}}},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.joinCreateOrReconnectToRoom=void 0;var t=r(require("jwt-decode")),o=require("./utils"),s=function(){var e=window.location.search;return new URLSearchParams(e).get("jwt")},i=function(r){return e(void 0,void 0,Promise,function(){var t,s;return n(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),t=function(){return e(void 0,void 0,void 0,function(){return n(this,function(e){switch(e.label){case 0:return console.log("trying to join main room using cookie auth"),[4,r.join("main",{qs:window.location.search})];case 1:return[2,e.sent()]}})})},[4,(0,o.retry)(10,80,t)];case 1:return[2,i.sent()];case 2:return s=i.sent(),console.error("joinRoomWithCookie error",s),[3,3];case 3:return[2]}})})},c=function(r,s){return e(void 0,void 0,Promise,function(){var i,c,a,u;return n(this,function(l){switch(l.label){case 0:console.log("joining room with token."),i=null;try{i=(0,t.default)(s)}catch(f){return console.log("Bad jwt token: ".concat(f)),[2,Promise.reject("Bad jwt token: ".concat(f))]}c=(null==i?void 0:i.game)||(null==i?void 0:i.gameid),a=function(){return e(void 0,void 0,void 0,function(){var e,t;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,7,,8]),c?(console.log("joining game: ",c),[4,r.getAvailableRooms("main")]):[3,4];case 1:return e=n.sent(),e.find(function(e){return e.roomId===c})?[4,r.joinById(c,{jwt:s,qs:window.location.search})]:[3,3];case 2:return[2,n.sent()];case 3:return[2,Promise.reject("room not available")];case 4:return console.log("no game id, generic join attempt"),[4,r.join("main",{jwt:s,qs:window.location.search})];case 5:return[2,n.sent()];case 6:return[3,8];case 7:return t=n.sent(),console.error("joinOrCreateRoomWithToken error",t),[3,8];case 8:return[2]}})})},l.label=1;case 1:return l.trys.push([1,3,,9]),[4,(0,o.retry)(5,80,a)];case 2:return[2,l.sent()];case 3:l.sent(),l.label=4;case 4:if(l.trys.push([4,6,,8]),!c)throw new Error("can not create game without id");return console.log("creating game: ",c),[4,r.create("main",{jwt:s})];case 5:return[2,l.sent()];case 6:return u=l.sent(),console.log(u),[4,(0,o.retry)(5,80,a)];case 7:return[2,l.sent()];case 8:return[3,9];case 9:return[2]}})})},a=function(r){return e(void 0,void 0,Promise,function(){var e,t,s,i;return n(this,function(n){switch(n.label){case 0:if(e=sessionStorage.getItem("session_id"),t=sessionStorage.getItem("room_id"),!e||!t)return[3,4];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,(0,o.retry)(5,80,function(){return console.log("reconnecting to room ".concat(t," with session ").concat(e)),r.reconnect(t,e)})];case 2:return s=n.sent(),console.log("reconnected!"),[2,s];case 3:return i=n.sent(),console.error("reconnect retry error",i),[3,4];case 4:throw new Error("no session to reconnect to.")}})})},u=function(r){return e(void 0,void 0,Promise,function(){var e,t,o,u;return n(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,10]),[4,a(r)];case 1:return[2,n.sent()];case 2:n.sent(),e=s(),n.label=3;case 3:return n.trys.push([3,8,,9]),e?[4,c(r,e)]:[3,5];case 4:return o=n.sent(),[3,7];case 5:return[4,i(r)];case 6:o=n.sent(),n.label=7;case 7:return t=o,sessionStorage.setItem("session_id",t.sessionId),sessionStorage.setItem("room_id",t.id),[2,t];case 8:return u=n.sent(),console.error("joinCreateOrReconnectToRoom error",u),[3,9];case 9:return[3,10];case 10:return[2]}})})};exports.joinCreateOrReconnectToRoom=u;
},{"jwt-decode":"en8R","./utils":"s2T4"}],"prC8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typedEmit=exports.getTypedEmitFn=void 0;var t=function(t){return function(e,n){return function(){return t.send(e,n)}}};exports.getTypedEmitFn=t;var e=function(t){return function(e,n){t.send(e,n)}};exports.typedEmit=e;
},{}],"k5FS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeIo=exports.update=exports.emit=void 0;var t=function(t){return function(e){return function(n,r){t.to(e).emit(n.event,r)}}};exports.emit=t;var e=function(t){return function(e){return function(n){t.to(e).emit("Update-"+n.entity+"-"+n.id,n)}}};exports.update=e;var n=function(t){return function(e,n){t.emit(e.event,n)}},r=function(t){return function(e){return{emit:exports.emit(t)(e)}}},o=function(t){return{to:r(t),emit:n(t),update:exports.update(t)}};exports.typeIo=o;
},{}],"B5W1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.__assign=void 0,exports.__asyncDelegator=d,exports.__asyncGenerator=v,exports.__asyncValues=b,exports.__await=h,exports.__awaiter=u,exports.__classPrivateFieldGet=O,exports.__classPrivateFieldSet=g,exports.__createBinding=f,exports.__decorate=o,exports.__exportStar=l,exports.__extends=e,exports.__generator=c,exports.__importDefault=m,exports.__importStar=x,exports.__makeTemplateObject=w,exports.__metadata=i,exports.__param=a,exports.__read=p,exports.__rest=n,exports.__spread=y,exports.__spreadArrays=_,exports.__values=s;var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};function e(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}var r=function(){return exports.__assign=r=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},r.apply(this,arguments)};function n(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]])}return r}function o(t,e,r,n){var o,a=arguments.length,i=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(i=(a<3?o(i):a>3?o(e,r,i):o(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i}function a(t,e){return function(r,n){e(r,n,t)}}function i(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,r,n){return new(r||(r=Promise))(function(o,a){function i(t){try{c(n.next(t))}catch(e){a(e)}}function u(t){try{c(n.throw(t))}catch(e){a(e)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r(function(t){t(e)})).then(i,u)}c((n=n.apply(t,e||[])).next())})}function c(t,e){var r,n,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(r)throw new TypeError("Generator is already executing.");for(;i;)try{if(r=1,n&&(o=2&a[0]?n.return:a[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,a[1])).done)return o;switch(n=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,n=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(u){a=[6,u],n=0}finally{r=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function f(t,e,r,n){void 0===n&&(n=r),t[n]=e[r]}function l(t,e){for(var r in t)"default"===r||e.hasOwnProperty(r)||(e[r]=t[r])}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,a=r.call(t),i=[];try{for(;(void 0===e||e-- >0)&&!(n=a.next()).done;)i.push(n.value)}catch(u){o={error:u}}finally{try{n&&!n.done&&(r=a.return)&&r.call(a)}finally{if(o)throw o.error}}return i}function y(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function _(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;var n=Array(t),o=0;for(e=0;e<r;e++)for(var a=arguments[e],i=0,u=a.length;i<u;i++,o++)n[o]=a[i];return n}function h(t){return this instanceof h?(this.v=t,this):new h(t)}function v(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,o=r.apply(t,e||[]),a=[];return n={},i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(t){o[t]&&(n[t]=function(e){return new Promise(function(r,n){a.push([t,e,r,n])>1||u(t,e)})})}function u(t,e){try{(r=o[t](e)).value instanceof h?Promise.resolve(r.value.v).then(c,f):l(a[0][2],r)}catch(n){l(a[0][3],n)}var r}function c(t){u("next",t)}function f(t){u("throw",t)}function l(t,e){t(e),a.shift(),a.length&&u(a[0][0],a[0][1])}}function d(t){var e,r;return e={},n("next"),n("throw",function(t){throw t}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(n,o){e[n]=t[n]?function(e){return(r=!r)?{value:h(t[n](e)),done:"return"===n}:o?o(e):e}:o}}function b(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,r=t[Symbol.asyncIterator];return r?r.call(t):(t="function"==typeof s?s(t):t[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(r){e[r]=t[r]&&function(e){return new Promise(function(n,o){(function(t,e,r,n){Promise.resolve(n).then(function(e){t({value:e,done:r})},e)})(n,o,(e=t[r](e)).done,e.value)})}}}function w(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function x(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function m(t){return t&&t.__esModule?t:{default:t}}function O(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function g(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}exports.__assign=r;
},{}],"Qnsq":[function(require,module,exports) {
"use strict";function e(e){return"function"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFunction=e;
},{}],"Q3iD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.config=void 0;var e=!1,r={Promise:void 0,set useDeprecatedSynchronousErrorHandling(r){r&&(new Error).stack;e=r},get useDeprecatedSynchronousErrorHandling(){return e}};exports.config=r;
},{}],"JfKC":[function(require,module,exports) {
"use strict";function e(e){setTimeout(function(){throw e},0)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.hostReportError=e;
},{}],"wIlR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.empty=void 0;var e=require("./config"),r=require("./util/hostReportError"),o={closed:!0,next:function(e){},error:function(o){if(e.config.useDeprecatedSynchronousErrorHandling)throw o;(0,r.hostReportError)(o)},complete:function(){}};exports.empty=o;
},{"./config":"Q3iD","./util/hostReportError":"JfKC"}],"KeTG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArray=void 0;var r=function(){return Array.isArray||function(r){return r&&"number"==typeof r.length}}();exports.isArray=r;
},{}],"nU7r":[function(require,module,exports) {
"use strict";function e(e){return null!==e&&"object"==typeof e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObject=e;
},{}],"pMaL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UnsubscriptionError=void 0;var r=function(){function r(r){return Error.call(this),this.message=r?r.length+" errors occurred during unsubscription:\n"+r.map(function(r,t){return t+1+") "+r.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=r,this}return r.prototype=Object.create(Error.prototype),r}(),t=r;exports.UnsubscriptionError=t;
},{}],"I8KM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscription=void 0;var r=require("./util/isArray"),i=require("./util/isObject"),s=require("./util/isFunction"),t=require("./util/UnsubscriptionError"),n=function(){function n(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}var o;return n.prototype.unsubscribe=function(){var o;if(!this.closed){var u=this._parentOrParents,c=this._ctorUnsubscribe,a=this._unsubscribe,f=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,u instanceof n)u.remove(this);else if(null!==u)for(var b=0;b<u.length;++b){u[b].remove(this)}if((0,s.isFunction)(a)){c&&(this._unsubscribe=void 0);try{a.call(this)}catch(l){o=l instanceof t.UnsubscriptionError?e(l.errors):[l]}}if((0,r.isArray)(f)){b=-1;for(var h=f.length;++b<h;){var p=f[b];if((0,i.isObject)(p))try{p.unsubscribe()}catch(l){o=o||[],l instanceof t.UnsubscriptionError?o=o.concat(e(l.errors)):o.push(l)}}}if(o)throw new t.UnsubscriptionError(o)}},n.prototype.add=function(r){var i=r;if(!r)return n.EMPTY;switch(typeof r){case"function":i=new n(r);case"object":if(i===this||i.closed||"function"!=typeof i.unsubscribe)return i;if(this.closed)return i.unsubscribe(),i;if(!(i instanceof n)){var s=i;(i=new n)._subscriptions=[s]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var t=i._parentOrParents;if(null===t)i._parentOrParents=this;else if(t instanceof n){if(t===this)return i;i._parentOrParents=[t,this]}else{if(-1!==t.indexOf(this))return i;t.push(this)}var e=this._subscriptions;return null===e?this._subscriptions=[i]:e.push(i),i},n.prototype.remove=function(r){var i=this._subscriptions;if(i){var s=i.indexOf(r);-1!==s&&i.splice(s,1)}},n.EMPTY=((o=new n).closed=!0,o),n}();function e(r){return r.reduce(function(r,i){return r.concat(i instanceof t.UnsubscriptionError?i.errors:i)},[])}exports.Subscription=n;
},{"./util/isArray":"KeTG","./util/isObject":"nU7r","./util/isFunction":"Qnsq","./util/UnsubscriptionError":"pMaL"}],"yAZp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.rxSubscriber=exports.$$rxSubscriber=void 0;var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}();exports.rxSubscriber=r;var e=r;exports.$$rxSubscriber=e;
},{}],"RaFB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Subscriber=exports.SafeSubscriber=void 0;var r=u(require("tslib")),t=require("./util/isFunction"),e=require("./Observer"),n=require("./Subscription"),o=require("../internal/symbol/rxSubscriber"),i=require("./config"),s=require("./util/hostReportError");function c(r){if("function"!=typeof WeakMap)return null;var t=new WeakMap,e=new WeakMap;return(c=function(r){return r?e:t})(r)}function u(r,t){if(!t&&r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var e=c(t);if(e&&e.has(r))return e.get(r);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if("default"!==i&&Object.prototype.hasOwnProperty.call(r,i)){var s=o?Object.getOwnPropertyDescriptor(r,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=r[i]}return n.default=r,e&&e.set(r,n),n}var p=function(t){function n(r,o,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=e.empty;break;case 1:if(!r){s.destination=e.empty;break}if("object"==typeof r){r instanceof n?(s.syncErrorThrowable=r.syncErrorThrowable,s.destination=r,r.add(s)):(s.syncErrorThrowable=!0,s.destination=new a(s,r));break}default:s.syncErrorThrowable=!0,s.destination=new a(s,r,o,i)}return s}return r.__extends(n,t),n.prototype[o.rxSubscriber]=function(){return this},n.create=function(r,t,e){var o=new n(r,t,e);return o.syncErrorThrowable=!1,o},n.prototype.next=function(r){this.isStopped||this._next(r)},n.prototype.error=function(r){this.isStopped||(this.isStopped=!0,this._error(r))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(r){this.destination.next(r)},n.prototype._error=function(r){this.destination.error(r),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var r=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=r,this},n}(n.Subscription);exports.Subscriber=p;var a=function(n){function o(r,o,i,s){var c,u=n.call(this)||this;u._parentSubscriber=r;var p=u;return(0,t.isFunction)(o)?c=o:o&&(c=o.next,i=o.error,s=o.complete,o!==e.empty&&(p=Object.create(o),(0,t.isFunction)(p.unsubscribe)&&u.add(p.unsubscribe.bind(p)),p.unsubscribe=u.unsubscribe.bind(u))),u._context=p,u._next=c,u._error=i,u._complete=s,u}return r.__extends(o,n),o.prototype.next=function(r){if(!this.isStopped&&this._next){var t=this._parentSubscriber;i.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,r)&&this.unsubscribe():this.__tryOrUnsub(this._next,r)}},o.prototype.error=function(r){if(!this.isStopped){var t=this._parentSubscriber,e=i.config.useDeprecatedSynchronousErrorHandling;if(this._error)e&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,r),this.unsubscribe()):(this.__tryOrUnsub(this._error,r),this.unsubscribe());else if(t.syncErrorThrowable)e?(t.syncErrorValue=r,t.syncErrorThrown=!0):(0,s.hostReportError)(r),this.unsubscribe();else{if(this.unsubscribe(),e)throw r;(0,s.hostReportError)(r)}}},o.prototype.complete=function(){var r=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var e=function(){return r._complete.call(r._context)};i.config.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}},o.prototype.__tryOrUnsub=function(r,t){try{r.call(this._context,t)}catch(e){if(this.unsubscribe(),i.config.useDeprecatedSynchronousErrorHandling)throw e;(0,s.hostReportError)(e)}},o.prototype.__tryOrSetError=function(r,t,e){if(!i.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,e)}catch(n){return i.config.useDeprecatedSynchronousErrorHandling?(r.syncErrorValue=n,r.syncErrorThrown=!0,!0):((0,s.hostReportError)(n),!0)}return!1},o.prototype._unsubscribe=function(){var r=this._parentSubscriber;this._context=null,this._parentSubscriber=null,r.unsubscribe()},o}(p);exports.SafeSubscriber=a;
},{"tslib":"B5W1","./util/isFunction":"Qnsq","./Observer":"wIlR","./Subscription":"I8KM","../internal/symbol/rxSubscriber":"yAZp","./config":"Q3iD","./util/hostReportError":"JfKC"}],"wHmS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.canReportError=e;var r=require("../Subscriber");function e(e){for(;e;){var t=e,o=t.closed,i=t.destination,n=t.isStopped;if(o||n)return!1;e=i&&i instanceof r.Subscriber?i:null}return!0}
},{"../Subscriber":"RaFB"}],"SEU0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toSubscriber=i;var r=require("../Subscriber"),e=require("../symbol/rxSubscriber"),b=require("../Observer");function i(i,u,s){if(i){if(i instanceof r.Subscriber)return i;if(i[e.rxSubscriber])return i[e.rxSubscriber]()}return i||u||s?new r.Subscriber(i,u,s):new r.Subscriber(b.empty)}
},{"../Subscriber":"RaFB","../symbol/rxSubscriber":"yAZp","../Observer":"wIlR"}],"tjV3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.observable=void 0;var e=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();exports.observable=e;
},{}],"LXph":[function(require,module,exports) {
"use strict";function e(e){return e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.identity=e;
},{}],"HQCS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pipe=r,exports.pipeFromArray=t;var e=require("./identity");function r(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return t(e)}function t(r){return 0===r.length?e.identity:1===r.length?r[0]:function(e){return r.reduce(function(e,r){return r(e)},e)}}
},{"./identity":"LXph"}],"wbSE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Observable=void 0;var r=require("./util/canReportError"),e=require("./util/toSubscriber"),o=require("./symbol/observable"),t=require("./util/pipe"),n=require("./config"),i=function(){function i(r){this._isScalar=!1,r&&(this._subscribe=r)}return i.prototype.lift=function(r){var e=new i;return e.source=this,e.operator=r,e},i.prototype.subscribe=function(r,o,t){var i=this.operator,s=(0,e.toSubscriber)(r,o,t);if(i?s.add(i.call(s,this.source)):s.add(this.source||n.config.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),n.config.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},i.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(o){n.config.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=o),(0,r.canReportError)(e)?e.error(o):console.warn(o)}},i.prototype.forEach=function(r,e){var o=this;return new(e=s(e))(function(e,t){var n;n=o.subscribe(function(e){try{r(e)}catch(o){t(o),n&&n.unsubscribe()}},t,e)})},i.prototype._subscribe=function(r){var e=this.source;return e&&e.subscribe(r)},i.prototype[o.observable]=function(){return this},i.prototype.pipe=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return 0===r.length?this:(0,t.pipeFromArray)(r)(this)},i.prototype.toPromise=function(r){var e=this;return new(r=s(r))(function(r,o){var t;e.subscribe(function(r){return t=r},function(r){return o(r)},function(){return r(t)})})},i.create=function(r){return new i(r)},i}();function s(r){if(r||(r=n.config.Promise||Promise),!r)throw new Error("no Promise impl found");return r}exports.Observable=i;
},{"./util/canReportError":"wHmS","./util/toSubscriber":"SEU0","./symbol/observable":"tjV3","./util/pipe":"HQCS","./config":"Q3iD"}],"xQEi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObjectUnsubscribedError=void 0;var r=function(){function r(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.ObjectUnsubscribedError=e;
},{}],"fyc3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubjectSubscription=void 0;var e=i(require("tslib")),t=require("./Subscription");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(r=function(e){return e?i:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=r(t);if(i&&i.has(e))return i.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var o=s?Object.getOwnPropertyDescriptor(e,u):null;o&&(o.get||o.set)?Object.defineProperty(n,u,o):n[u]=e[u]}return n.default=e,i&&i.set(e,n),n}var n=function(t){function r(e,r){var i=t.call(this)||this;return i.subject=e,i.subscriber=r,i.closed=!1,i}return e.__extends(r,t),r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}},r}(t.Subscription);exports.SubjectSubscription=n;
},{"tslib":"B5W1","./Subscription":"I8KM"}],"r9t1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SubjectSubscriber=exports.Subject=exports.AnonymousSubject=void 0;var r=c(require("tslib")),e=require("./Observable"),t=require("./Subscriber"),o=require("./Subscription"),s=require("./util/ObjectUnsubscribedError"),i=require("./SubjectSubscription"),n=require("../internal/symbol/rxSubscriber");function u(r){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(u=function(r){return r?t:e})(r)}function c(r,e){if(!e&&r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=u(e);if(t&&t.has(r))return t.get(r);var o={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in r)if("default"!==i&&Object.prototype.hasOwnProperty.call(r,i)){var n=s?Object.getOwnPropertyDescriptor(r,i):null;n&&(n.get||n.set)?Object.defineProperty(o,i,n):o[i]=r[i]}return o.default=r,t&&t.set(r,o),o}var b=function(e){function t(r){var t=e.call(this,r)||this;return t.destination=r,t}return r.__extends(t,e),t}(t.Subscriber);exports.SubjectSubscriber=b;var p=function(t){function u(){var r=t.call(this)||this;return r.observers=[],r.closed=!1,r.isStopped=!1,r.hasError=!1,r.thrownError=null,r}return r.__extends(u,t),u.prototype[n.rxSubscriber]=function(){return new b(this)},u.prototype.lift=function(r){var e=new h(this,this);return e.operator=r,e},u.prototype.next=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,t=e.length,o=e.slice(),i=0;i<t;i++)o[i].next(r)},u.prototype.error=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=r,this.isStopped=!0;for(var e=this.observers,t=e.length,o=e.slice(),i=0;i<t;i++)o[i].error(r);this.observers.length=0},u.prototype.complete=function(){if(this.closed)throw new s.ObjectUnsubscribedError;this.isStopped=!0;for(var r=this.observers,e=r.length,t=r.slice(),o=0;o<e;o++)t[o].complete();this.observers.length=0},u.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},u.prototype._trySubscribe=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,r)},u.prototype._subscribe=function(r){if(this.closed)throw new s.ObjectUnsubscribedError;return this.hasError?(r.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(r.complete(),o.Subscription.EMPTY):(this.observers.push(r),new i.SubjectSubscription(this,r))},u.prototype.asObservable=function(){var r=new e.Observable;return r.source=this,r},u.create=function(r,e){return new h(r,e)},u}(e.Observable);exports.Subject=p;var h=function(e){function t(r,t){var o=e.call(this)||this;return o.destination=r,o.source=t,o}return r.__extends(t,e),t.prototype.next=function(r){var e=this.destination;e&&e.next&&e.next(r)},t.prototype.error=function(r){var e=this.destination;e&&e.error&&this.destination.error(r)},t.prototype.complete=function(){var r=this.destination;r&&r.complete&&this.destination.complete()},t.prototype._subscribe=function(r){return this.source?this.source.subscribe(r):o.Subscription.EMPTY},t}(p);exports.AnonymousSubject=h;
},{"tslib":"B5W1","./Observable":"wbSE","./Subscriber":"RaFB","./Subscription":"I8KM","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3","../internal/symbol/rxSubscriber":"yAZp"}],"vT9o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.refCount=o;var e=r(require("tslib")),n=require("../Subscriber");function t(e){if("function"!=typeof WeakMap)return null;var n=new WeakMap,r=new WeakMap;return(t=function(e){return e?r:n})(e)}function r(e,n){if(!n&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=t(n);if(r&&r.has(e))return r.get(e);var o={},c=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var u=c?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(o,i,u):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}function o(){return function(e){return e.lift(new c(e))}}var c=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,n){var t=this.connectable;t._refCount++;var r=new i(e,t),o=n.subscribe(r);return r.closed||(r.connection=t.connect()),o},e}(),i=function(n){function t(e,t){var r=n.call(this,e)||this;return r.connectable=t,r}return e.__extends(t,n),t.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var n=e._refCount;if(n<=0)this.connection=null;else if(e._refCount=n-1,n>1)this.connection=null;else{var t=this.connection,r=e._connection;this.connection=null,!r||t&&r!==t||r.unsubscribe()}}else this.connection=null},t}(n.Subscriber);
},{"tslib":"B5W1","../Subscriber":"RaFB"}],"kkfD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.connectableObservableDescriptor=exports.ConnectableObservable=void 0;var e=i(require("tslib")),t=require("../Subject"),n=require("../Observable"),r=require("../Subscriber"),o=require("../Subscription"),c=require("../operators/refCount");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(u=function(e){return e?n:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=u(t);if(n&&n.has(e))return n.get(e);var r={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var c in e)if("default"!==c&&Object.prototype.hasOwnProperty.call(e,c)){var i=o?Object.getOwnPropertyDescriptor(e,c):null;i&&(i.get||i.set)?Object.defineProperty(r,c,i):r[c]=e[c]}return r.default=e,n&&n.set(e,r),r}var s=function(t){function n(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return e.__extends(n,t),n.prototype._subscribe=function(e){return this.getSubject().subscribe(e)},n.prototype.getSubject=function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject},n.prototype.connect=function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new o.Subscription).add(this.source.subscribe(new b(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.Subscription.EMPTY)),e},n.prototype.refCount=function(){return(0,c.refCount)()(this)},n}(n.Observable);exports.ConnectableObservable=s;var l=function(){var e=s.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}}();exports.connectableObservableDescriptor=l;var b=function(t){function n(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return e.__extends(n,t),n.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},n.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},n.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}},n}(t.SubjectSubscriber),a=function(){function e(e){this.connectable=e}return e.prototype.call=function(e,t){var n=this.connectable;n._refCount++;var r=new p(e,n),o=t.subscribe(r);return r.closed||(r.connection=n.connect()),o},e}(),p=function(t){function n(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return e.__extends(n,t),n.prototype._unsubscribe=function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},n}(r.Subscriber);
},{"tslib":"B5W1","../Subject":"r9t1","../Observable":"wbSE","../Subscriber":"RaFB","../Subscription":"I8KM","../operators/refCount":"vT9o"}],"dNgG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.GroupedObservable=void 0,exports.groupBy=s;var e=u(require("tslib")),t=require("../Subscriber"),r=require("../Subscription"),o=require("../Observable"),n=require("../Subject");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var o={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=n?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(o,u,s):o[u]=e[u]}return o.default=e,r&&r.set(e,o),o}function s(e,t,r,o){return function(n){return n.lift(new c(e,t,r,o))}}var c=function(){function e(e,t,r,o){this.keySelector=e,this.elementSelector=t,this.durationSelector=r,this.subjectSelector=o}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},e}(),p=function(t){function r(e,r,o,n,i){var u=t.call(this,e)||this;return u.keySelector=r,u.elementSelector=o,u.durationSelector=n,u.subjectSelector=i,u.groups=null,u.attemptedToUnsubscribe=!1,u.count=0,u}return e.__extends(r,t),r.prototype._next=function(e){var t;try{t=this.keySelector(e)}catch(r){return void this.error(r)}this._group(e,t)},r.prototype._group=function(e,t){var r=this.groups;r||(r=this.groups=new Map);var o,i=r.get(t);if(this.elementSelector)try{o=this.elementSelector(e)}catch(c){this.error(c)}else o=e;if(!i){i=this.subjectSelector?this.subjectSelector():new n.Subject,r.set(t,i);var u=new a(t,i,this);if(this.destination.next(u),this.durationSelector){var s=void 0;try{s=this.durationSelector(new a(t,i))}catch(c){return void this.error(c)}this.add(s.subscribe(new l(t,i,this)))}}i.closed||i.next(o)},r.prototype._error=function(e){var t=this.groups;t&&(t.forEach(function(t,r){t.error(e)}),t.clear()),this.destination.error(e)},r.prototype._complete=function(){var e=this.groups;e&&(e.forEach(function(e,t){e.complete()}),e.clear()),this.destination.complete()},r.prototype.removeGroup=function(e){this.groups.delete(e)},r.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},r}(t.Subscriber),l=function(t){function r(e,r,o){var n=t.call(this,r)||this;return n.key=e,n.group=r,n.parent=o,n}return e.__extends(r,t),r.prototype._next=function(e){this.complete()},r.prototype._unsubscribe=function(){var e=this.parent,t=this.key;this.key=this.parent=null,e&&e.removeGroup(t)},r}(t.Subscriber),a=function(t){function o(e,r,o){var n=t.call(this)||this;return n.key=e,n.groupSubject=r,n.refCountSubscription=o,n}return e.__extends(o,t),o.prototype._subscribe=function(e){var t=new r.Subscription,o=this.refCountSubscription,n=this.groupSubject;return o&&!o.closed&&t.add(new b(o)),t.add(n.subscribe(e)),t},o}(o.Observable);exports.GroupedObservable=a;var b=function(t){function r(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return e.__extends(r,t),r.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},r}(r.Subscription);
},{"tslib":"B5W1","../Subscriber":"RaFB","../Subscription":"I8KM","../Observable":"wbSE","../Subject":"r9t1"}],"MPU6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BehaviorSubject=void 0;var e=o(require("tslib")),t=require("./Subject"),r=require("./util/ObjectUnsubscribedError");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function o(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=u?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(o,i,c):o[i]=e[i]}return o.default=e,r&&r.set(e,o),o}var u=function(t){function n(e){var r=t.call(this)||this;return r._value=e,r}return e.__extends(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new r.ObjectUnsubscribedError;return this._value},n.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},n}(t.Subject);exports.BehaviorSubject=u;
},{"tslib":"B5W1","./Subject":"r9t1","./util/ObjectUnsubscribedError":"xQEi"}],"arqX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Action=void 0;var e=n(require("tslib")),t=require("../Subscription");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=i?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var o=function(t){function r(e,r){return t.call(this)||this}return e.__extends(r,t),r.prototype.schedule=function(e,t){return void 0===t&&(t=0),this},r}(t.Subscription);exports.Action=o;
},{"tslib":"B5W1","../Subscription":"I8KM"}],"llYF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncAction=void 0;var t=r(require("tslib")),e=require("./Action");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function r(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=s?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(n,u,c):n[u]=t[u]}return n.default=t,r&&r.set(t,n),n}var n=function(e){function i(t,i){var r=e.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return t.__extends(i,e),i.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var i=this.id,r=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(r,i,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},i.prototype.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),setInterval(t.flush.bind(t,this),i)},i.prototype.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!==i&&this.delay===i&&!1===this.pending)return e;clearInterval(e)},i.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var i=this._execute(t,e);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},i.prototype._execute=function(t,e){var i=!1,r=void 0;try{this.work(t)}catch(n){i=!0,r=!!n&&n||new Error(n)}if(i)return this.unsubscribe(),r},i.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,i=e.actions,r=i.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&i.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},i}(e.Action);exports.AsyncAction=n;
},{"tslib":"B5W1","./Action":"arqX"}],"pLkv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueAction=void 0;var e=n(require("tslib")),t=require("./AsyncAction");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=u?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(o,i,s):o[i]=e[i]}return o.default=e,n&&n.set(e,o),o}var o=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return e.__extends(r,t),r.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},r.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},r.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},r}(t.AsyncAction);exports.QueueAction=o;
},{"tslib":"B5W1","./AsyncAction":"llYF"}],"QglZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Scheduler=void 0;var e=function(){function e(t,o){void 0===o&&(o=e.now),this.SchedulerAction=t,this.now=o}return e.prototype.schedule=function(e,t,o){return void 0===t&&(t=0),new this.SchedulerAction(this,e).schedule(o,t)},e.now=function(){return Date.now()},e}();exports.Scheduler=e;
},{}],"hnPK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncScheduler=void 0;var e=n(require("tslib")),t=require("../Scheduler");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=o?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(i,u,c):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}var i=function(r){function n(e,i){void 0===i&&(i=t.Scheduler.now);var o=r.call(this,e,function(){return n.delegate&&n.delegate!==o?n.delegate.now():i()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return e.__extends(n,r),n.prototype.schedule=function(e,t,i){return void 0===t&&(t=0),n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,i):r.prototype.schedule.call(this,e,t,i)},n.prototype.flush=function(e){var t=this.actions;if(this.active)t.push(e);else{var r;this.active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}},n}(t.Scheduler);exports.AsyncScheduler=i;
},{"tslib":"B5W1","../Scheduler":"QglZ"}],"j0lZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.QueueScheduler=void 0;var e=n(require("tslib")),r=require("./AsyncScheduler");function t(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(t=function(e){return e?n:r})(e)}function n(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=t(r);if(n&&n.has(e))return n.get(e);var u={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var c=o?Object.getOwnPropertyDescriptor(e,i):null;c&&(c.get||c.set)?Object.defineProperty(u,i,c):u[i]=e[i]}return u.default=e,n&&n.set(e,u),u}var u=function(r){function t(){return null!==r&&r.apply(this,arguments)||this}return e.__extends(t,r),t}(r.AsyncScheduler);exports.QueueScheduler=u;
},{"tslib":"B5W1","./AsyncScheduler":"hnPK"}],"HGOP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.queueScheduler=exports.queue=void 0;var e=require("./QueueAction"),u=require("./QueueScheduler"),r=new u.QueueScheduler(e.QueueAction);exports.queueScheduler=r;var t=r;exports.queue=t;
},{"./QueueAction":"pLkv","./QueueScheduler":"j0lZ"}],"XsKQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EMPTY=void 0,exports.empty=t;var e=require("../Observable"),r=new e.Observable(function(e){return e.complete()});function t(e){return e?n(e):r}function n(r){return new e.Observable(function(e){return r.schedule(function(){return e.complete()})})}exports.EMPTY=r;
},{"../Observable":"wbSE"}],"VqoH":[function(require,module,exports) {
"use strict";function e(e){return e&&"function"==typeof e.schedule}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isScheduler=e;
},{}],"lrFe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToArray=void 0;var e=function(e){return function(r){for(var o=0,t=e.length;o<t&&!r.closed;o++)r.next(e[o]);r.complete()}};exports.subscribeToArray=e;
},{}],"ZGwk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleArray=t;var e=require("../Observable"),r=require("../Subscription");function t(t,n){return new e.Observable(function(e){var u=new r.Subscription,s=0;return u.add(n.schedule(function(){s!==t.length?(e.next(t[s++]),e.closed||u.add(this.schedule())):e.complete()})),u})}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"PJGF":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromArray=u;var e=require("../Observable"),r=require("../util/subscribeToArray"),s=require("../scheduled/scheduleArray");function u(u,a){return a?(0,s.scheduleArray)(u,a):new e.Observable((0,r.subscribeToArray)(u))}
},{"../Observable":"wbSE","../util/subscribeToArray":"lrFe","../scheduled/scheduleArray":"ZGwk"}],"wZuk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.of=t;var e=require("../util/isScheduler"),r=require("./fromArray"),u=require("../scheduled/scheduleArray");function t(){for(var t=[],l=0;l<arguments.length;l++)t[l]=arguments[l];var o=t[t.length-1];return(0,e.isScheduler)(o)?(t.pop(),(0,u.scheduleArray)(t,o)):(0,r.fromArray)(t)}
},{"../util/isScheduler":"VqoH","./fromArray":"PJGF","../scheduled/scheduleArray":"ZGwk"}],"FdIu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.throwError=e;var r=require("../Observable");function e(e,o){return o?new r.Observable(function(r){return o.schedule(n,0,{error:e,subscriber:r})}):new r.Observable(function(r){return r.error(e)})}function n(r){var e=r.error;r.subscriber.error(e)}
},{"../Observable":"wbSE"}],"n7Mc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NotificationKind=exports.Notification=void 0;var e,t=require("./observable/empty"),r=require("./observable/of"),o=require("./observable/throwError");exports.NotificationKind=e,function(e){e.NEXT="N",e.ERROR="E",e.COMPLETE="C"}(e||(exports.NotificationKind=e={}));var i=function(){function e(e,t,r){this.kind=e,this.value=t,this.error=r,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,r){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return r&&r()}},e.prototype.accept=function(e,t,r){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,r)},e.prototype.toObservable=function(){switch(this.kind){case"N":return(0,r.of)(this.value);case"E":return(0,o.throwError)(this.error);case"C":return(0,t.empty)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}();exports.Notification=i;
},{"./observable/empty":"XsKQ","./observable/of":"wZuk","./observable/throwError":"FdIu"}],"ezNs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ObserveOnSubscriber=exports.ObserveOnOperator=exports.ObserveOnMessage=void 0,exports.observeOn=s;var e=i(require("tslib")),t=require("../Subscriber"),r=require("../Notification");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var u=s?Object.getOwnPropertyDescriptor(e,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}function s(e,t){return void 0===t&&(t=0),function(r){return r.lift(new o(e,t))}}var o=function(){function e(e,t){void 0===t&&(t=0),this.scheduler=e,this.delay=t}return e.prototype.call=function(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))},e}();exports.ObserveOnOperator=o;var u=function(t){function n(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return e.__extends(n,t),n.dispatch=function(e){var t=e.notification,r=e.destination;t.observe(r),this.unsubscribe()},n.prototype.scheduleMessage=function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new c(e,this.destination)))},n.prototype._next=function(e){this.scheduleMessage(r.Notification.createNext(e))},n.prototype._error=function(e){this.scheduleMessage(r.Notification.createError(e)),this.unsubscribe()},n.prototype._complete=function(){this.scheduleMessage(r.Notification.createComplete()),this.unsubscribe()},n}(t.Subscriber);exports.ObserveOnSubscriber=u;var c=function(){return function(e,t){this.notification=e,this.destination=t}}();exports.ObserveOnMessage=c;
},{"tslib":"B5W1","../Subscriber":"RaFB","../Notification":"n7Mc"}],"Cp6P":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ReplaySubject=void 0;var e=c(require("tslib")),t=require("./Subject"),r=require("./scheduler/queue"),i=require("./Subscription"),n=require("./operators/observeOn"),o=require("./util/ObjectUnsubscribedError"),s=require("./SubjectSubscription");function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}function c(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=n?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,r&&r.set(e,i),i}var f=function(t){function u(e,r,i){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this)||this;return n.scheduler=i,n._events=[],n._infiniteTimeWindow=!1,n._bufferSize=e<1?1:e,n._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(n._infiniteTimeWindow=!0,n.next=n.nextInfiniteTimeWindow):n.next=n.nextTimeWindow,n}return e.__extends(u,t),u.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift()}t.prototype.next.call(this,e)},u.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new p(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},u.prototype._subscribe=function(e){var t,r=this._infiniteTimeWindow,u=r?this._events:this._trimBufferThenGetEvents(),c=this.scheduler,f=u.length;if(this.closed)throw new o.ObjectUnsubscribedError;if(this.isStopped||this.hasError?t=i.Subscription.EMPTY:(this.observers.push(e),t=new s.SubjectSubscription(this,e)),c&&e.add(e=new n.ObserveOnSubscriber(e,c)),r)for(var p=0;p<f&&!e.closed;p++)e.next(u[p]);else for(p=0;p<f&&!e.closed;p++)e.next(u[p].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t},u.prototype._getNow=function(){return(this.scheduler||r.queue).now()},u.prototype._trimBufferThenGetEvents=function(){for(var e=this._getNow(),t=this._bufferSize,r=this._windowTime,i=this._events,n=i.length,o=0;o<n&&!(e-i[o].time<r);)o++;return n>t&&(o=Math.max(o,n-t)),o>0&&i.splice(0,o),i},u}(t.Subject);exports.ReplaySubject=f;var p=function(){return function(e,t){this.time=e,this.value=t}}();
},{"tslib":"B5W1","./Subject":"r9t1","./scheduler/queue":"HGOP","./Subscription":"I8KM","./operators/observeOn":"ezNs","./util/ObjectUnsubscribedError":"xQEi","./SubjectSubscription":"fyc3"}],"Scvc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsyncSubject=void 0;var t=n(require("tslib")),e=require("./Subject"),r=require("./Subscription");function o(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(o=function(t){return t?r:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=o(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in t)if("default"!==s&&Object.prototype.hasOwnProperty.call(t,s)){var u=i?Object.getOwnPropertyDescriptor(t,s):null;u&&(u.get||u.set)?Object.defineProperty(n,s,u):n[s]=t[s]}return n.default=t,r&&r.set(t,n),n}var i=function(e){function o(){var t=null!==e&&e.apply(this,arguments)||this;return t.value=null,t.hasNext=!1,t.hasCompleted=!1,t}return t.__extends(o,e),o.prototype._subscribe=function(t){return this.hasError?(t.error(this.thrownError),r.Subscription.EMPTY):this.hasCompleted&&this.hasNext?(t.next(this.value),t.complete(),r.Subscription.EMPTY):e.prototype._subscribe.call(this,t)},o.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},o.prototype.error=function(t){this.hasCompleted||e.prototype.error.call(this,t)},o.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&e.prototype.next.call(this,this.value),e.prototype.complete.call(this)},o}(e.Subject);exports.AsyncSubject=i;
},{"tslib":"B5W1","./Subject":"r9t1","./Subscription":"I8KM"}],"Z56L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TestTools=exports.Immediate=void 0;var e=1,t=function(){return Promise.resolve()}(),r={};function n(e){return e in r&&(delete r[e],!0)}var o={setImmediate:function(o){var i=e++;return r[i]=!0,t.then(function(){return n(i)&&o()}),i},clearImmediate:function(e){n(e)}};exports.Immediate=o;var i={pending:function(){return Object.keys(r).length}};exports.TestTools=i;
},{}],"k3eS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapAction=void 0;var e=i(require("tslib")),t=require("../util/Immediate"),r=require("./AsyncAction");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function i(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=o?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(i,u,c):i[u]=e[u]}return i.default=e,r&&r.set(e,i),i}var o=function(r){function n(e,t){var n=r.call(this,e,t)||this;return n.scheduler=e,n.work=t,n}return e.__extends(n,r),n.prototype.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?r.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e.scheduled||(e.scheduled=t.Immediate.setImmediate(e.flush.bind(e,null))))},n.prototype.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!==i&&i>0||null===i&&this.delay>0)return r.prototype.recycleAsyncId.call(this,e,n,i);0===e.actions.length&&(t.Immediate.clearImmediate(n),e.scheduled=void 0)},n}(r.AsyncAction);exports.AsapAction=o;
},{"tslib":"B5W1","../util/Immediate":"Z56L","./AsyncAction":"llYF"}],"czze":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AsapScheduler=void 0;var e=n(require("tslib")),t=require("./AsyncScheduler");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var s=u?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(i,o,s):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},r}(t.AsyncScheduler);exports.AsapScheduler=i;
},{"tslib":"B5W1","./AsyncScheduler":"hnPK"}],"ZqYc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asapScheduler=exports.asap=void 0;var e=require("./AsapAction"),r=require("./AsapScheduler"),s=new r.AsapScheduler(e.AsapAction);exports.asapScheduler=s;var a=s;exports.asap=a;
},{"./AsapAction":"k3eS","./AsapScheduler":"czze"}],"jun6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asyncScheduler=exports.async=void 0;var e=require("./AsyncAction"),r=require("./AsyncScheduler"),c=new r.AsyncScheduler(e.AsyncAction);exports.asyncScheduler=c;var s=c;exports.async=s;
},{"./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],"m8qQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameAction=void 0;var e=n(require("tslib")),t=require("./AsyncAction");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=i?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var o=function(t){function r(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return e.__extends(r,t),r.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},r.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},r}(t.AsyncAction);exports.AnimationFrameAction=o;
},{"tslib":"B5W1","./AsyncAction":"llYF"}],"gboY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AnimationFrameScheduler=void 0;var e=n(require("tslib")),t=require("./AsyncScheduler");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=u?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}var i=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype.flush=function(e){this.active=!0,this.scheduled=void 0;var t,r=this.actions,n=-1,i=r.length;e=e||r.shift();do{if(t=e.execute(e.state,e.delay))break}while(++n<i&&(e=r.shift()));if(this.active=!1,t){for(;++n<i&&(e=r.shift());)e.unsubscribe();throw t}},r}(t.AsyncScheduler);exports.AnimationFrameScheduler=i;
},{"tslib":"B5W1","./AsyncScheduler":"hnPK"}],"zUKp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.animationFrameScheduler=exports.animationFrame=void 0;var e=require("./AnimationFrameAction"),r=require("./AnimationFrameScheduler"),a=new r.AnimationFrameScheduler(e.AnimationFrameAction);exports.animationFrameScheduler=a;var i=a;exports.animationFrame=i;
},{"./AnimationFrameAction":"m8qQ","./AnimationFrameScheduler":"gboY"}],"RuMO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.VirtualTimeScheduler=exports.VirtualAction=void 0;var e=n(require("tslib")),t=require("./AsyncAction"),r=require("./AsyncScheduler");function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var c=o?Object.getOwnPropertyDescriptor(e,u):null;c&&(c.get||c.set)?Object.defineProperty(n,u,c):n[u]=e[u]}return n.default=e,r&&r.set(e,n),n}var o=function(t){function r(e,r){void 0===e&&(e=u),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e,function(){return i.frame})||this;return i.maxFrames=r,i.frame=0,i.index=-1,i}return e.__extends(r,t),r.prototype.flush=function(){for(var e,t,r=this.actions,i=this.maxFrames;(t=r[0])&&t.delay<=i&&(r.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=r.shift();)t.unsubscribe();throw e}},r.frameTimeFactor=10,r}(r.AsyncScheduler);exports.VirtualTimeScheduler=o;var u=function(t){function r(e,r,i){void 0===i&&(i=e.index+=1);var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.index=i,n.active=!0,n.index=e.index=i,n}return e.__extends(r,t),r.prototype.schedule=function(e,i){if(void 0===i&&(i=0),!this.id)return t.prototype.schedule.call(this,e,i);this.active=!1;var n=new r(this.scheduler,this.work);return this.add(n),n.schedule(e,i)},r.prototype.requestAsyncId=function(e,t,i){void 0===i&&(i=0),this.delay=e.frame+i;var n=e.actions;return n.push(this),n.sort(r.sortActions),!0},r.prototype.recycleAsyncId=function(e,t,r){void 0===r&&(r=0)},r.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},r.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},r}(t.AsyncAction);exports.VirtualAction=u;
},{"tslib":"B5W1","./AsyncAction":"llYF","./AsyncScheduler":"hnPK"}],"rXfM":[function(require,module,exports) {
"use strict";function e(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.noop=e;
},{}],"cUXi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isObservable=r;var e=require("../Observable");function r(r){return!!r&&(r instanceof e.Observable||"function"==typeof r.lift&&"function"==typeof r.subscribe)}
},{"../Observable":"wbSE"}],"Qh4I":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ArgumentOutOfRangeError=void 0;var r=function(){function r(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.ArgumentOutOfRangeError=e;
},{}],"vsl0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EmptyError=void 0;var r=function(){function r(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.EmptyError=e;
},{}],"SZK7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TimeoutError=void 0;var r=function(){function r(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return r.prototype=Object.create(Error.prototype),r}(),e=r;exports.TimeoutError=e;
},{}],"dNh5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.MapOperator=void 0,exports.map=o;var t=n(require("tslib")),r=require("../Subscriber");function e(t){if("function"!=typeof WeakMap)return null;var r=new WeakMap,n=new WeakMap;return(e=function(t){return t?n:r})(t)}function n(t,r){if(!r&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=e(r);if(n&&n.has(t))return n.get(t);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var c=i?Object.getOwnPropertyDescriptor(t,u):null;c&&(c.get||c.set)?Object.defineProperty(o,u,c):o[u]=t[u]}return o.default=t,n&&n.set(t,o),o}function o(t,r){return function(e){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return e.lift(new i(t,r))}}var i=function(){function t(t,r){this.project=t,this.thisArg=r}return t.prototype.call=function(t,r){return r.subscribe(new u(t,this.project,this.thisArg))},t}();exports.MapOperator=i;var u=function(r){function e(t,e,n){var o=r.call(this,t)||this;return o.project=e,o.count=0,o.thisArg=n||o,o}return t.__extends(e,r),e.prototype._next=function(t){var r;try{r=this.project.call(this.thisArg,t,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(r)},e}(r.Subscriber);
},{"tslib":"B5W1","../Subscriber":"RaFB"}],"lxDK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindCallback=a;var r=require("../Observable"),e=require("../AsyncSubject"),t=require("../operators/map"),c=require("../util/canReportError"),n=require("../util/isArray"),u=require("../util/isScheduler");function a(s,o,l){if(o){if(!(0,u.isScheduler)(o))return function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return a(s,l).apply(void 0,r).pipe((0,t.map)(function(r){return(0,n.isArray)(r)?o.apply(void 0,r):o(r)}))};l=o}return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var u,a=this,o={context:a,subject:u,callbackFunc:s,scheduler:l};return new r.Observable(function(r){if(l){var n={args:t,subscriber:r,params:o};return l.schedule(i,0,n)}if(!u){u=new e.AsyncSubject;try{s.apply(a,t.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];u.next(r.length<=1?r[0]:r),u.complete()}]))}catch(b){(0,c.canReportError)(u)?u.error(b):console.warn(b)}}return u.subscribe(r)})}}function i(r){var t=this,c=r.args,n=r.subscriber,u=r.params,a=u.callbackFunc,i=u.context,o=u.scheduler,l=u.subject;if(!l){l=u.subject=new e.AsyncSubject;try{a.apply(i,c.concat([function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];var c=r.length<=1?r[0]:r;t.add(o.schedule(s,0,{value:c,subject:l}))}]))}catch(b){l.error(b)}}this.add(l.subscribe(n))}function s(r){var e=r.value,t=r.subject;t.next(e),t.complete()}function o(r){var e=r.err;r.subject.error(e)}
},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isArray":"KeTG","../util/isScheduler":"VqoH"}],"uTDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindNodeCallback=s;var e=require("../Observable"),r=require("../AsyncSubject"),t=require("../operators/map"),c=require("../util/canReportError"),u=require("../util/isScheduler"),n=require("../util/isArray");function s(i,o,l){if(o){if(!(0,u.isScheduler)(o))return function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return s(i,l).apply(void 0,e).pipe((0,t.map)(function(e){return(0,n.isArray)(e)?o.apply(void 0,e):o(e)}))};l=o}return function(){for(var t=[],u=0;u<arguments.length;u++)t[u]=arguments[u];var n={subject:void 0,args:t,callbackFunc:i,scheduler:l,context:this};return new e.Observable(function(e){var u=n.context,s=n.subject;if(l)return l.schedule(a,0,{params:n,subscriber:e,context:u});if(!s){s=n.subject=new r.AsyncSubject;try{i.apply(u,t.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e.shift();t?s.error(t):(s.next(e.length<=1?e[0]:e),s.complete())}]))}catch(o){(0,c.canReportError)(s)?s.error(o):console.warn(o)}}return s.subscribe(e)})}}function a(e){var t=this,c=e.params,u=e.subscriber,n=e.context,s=c.callbackFunc,a=c.args,l=c.scheduler,b=c.subject;if(!b){b=c.subject=new r.AsyncSubject;try{s.apply(n,a.concat([function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var c=e.shift();if(c)t.add(l.schedule(o,0,{err:c,subject:b}));else{var u=e.length<=1?e[0]:e;t.add(l.schedule(i,0,{value:u,subject:b}))}}]))}catch(d){this.add(l.schedule(o,0,{err:d,subject:b}))}}this.add(b.subscribe(u))}function i(e){var r=e.value,t=e.subject;t.next(r),t.complete()}function o(e){var r=e.err;e.subject.error(r)}
},{"../Observable":"wbSE","../AsyncSubject":"Scvc","../operators/map":"dNh5","../util/canReportError":"wHmS","../util/isScheduler":"VqoH","../util/isArray":"KeTG"}],"hZYI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.OuterSubscriber=void 0;var e=n(require("tslib")),t=require("./Subscriber");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var o={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var p=i?Object.getOwnPropertyDescriptor(e,u):null;p&&(p.get||p.set)?Object.defineProperty(o,u,p):o[u]=e[u]}return o.default=e,n&&n.set(e,o),o}var o=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return e.__extends(r,t),r.prototype.notifyNext=function(e,t,r,n,o){this.destination.next(t)},r.prototype.notifyError=function(e,t){this.destination.error(e)},r.prototype.notifyComplete=function(e){this.destination.complete()},r}(t.Subscriber);exports.OuterSubscriber=o;
},{"tslib":"B5W1","./Subscriber":"RaFB"}],"aQbR":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.InnerSubscriber=void 0;var e=n(require("tslib")),t=require("./Subscriber");function r(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(r=function(e){return e?n:t})(e)}function n(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=r(t);if(n&&n.has(e))return n.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in e)if("default"!==u&&Object.prototype.hasOwnProperty.call(e,u)){var s=o?Object.getOwnPropertyDescriptor(e,u):null;s&&(s.get||s.set)?Object.defineProperty(i,u,s):i[u]=e[u]}return i.default=e,n&&n.set(e,i),i}var i=function(t){function r(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return e.__extends(r,t),r.prototype._next=function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)},r.prototype._error=function(e){this.parent.notifyError(e,this),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(t.Subscriber);exports.InnerSubscriber=i;
},{"tslib":"B5W1","./Subscriber":"RaFB"}],"eggw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToPromise=void 0;var r=require("./hostReportError"),e=function(e){return function(o){return e.then(function(r){o.closed||(o.next(r),o.complete())},function(r){return o.error(r)}).then(null,r.hostReportError),o}};exports.subscribeToPromise=e;
},{"./hostReportError":"JfKC"}],"AqTP":[function(require,module,exports) {
"use strict";function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}Object.defineProperty(exports,"__esModule",{value:!0}),exports.$$iterator=void 0,exports.getSymbolIterator=t,exports.iterator=void 0;var r=t();exports.iterator=r;var e=r;exports.$$iterator=e;
},{}],"QEdH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToIterable=void 0;var e=require("../symbol/iterator"),r=function(r){return function(t){for(var o=r[e.iterator]();;){var n=void 0;try{n=o.next()}catch(u){return t.error(u),t}if(n.done){t.complete();break}if(t.next(n.value),t.closed)break}return"function"==typeof o.return&&t.add(function(){o.return&&o.return()}),t}};exports.subscribeToIterable=r;
},{"../symbol/iterator":"AqTP"}],"buzG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToObservable=void 0;var e=require("../symbol/observable"),r=function(r){return function(o){var b=r[e.observable]();if("function"!=typeof b.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return b.subscribe(o)}};exports.subscribeToObservable=r;
},{"../symbol/observable":"tjV3"}],"LS84":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isArrayLike=void 0;var e=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};exports.isArrayLike=e;
},{}],"Ok8F":[function(require,module,exports) {
"use strict";function e(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isPromise=e;
},{}],"vq9L":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeTo=void 0;var e=require("./subscribeToArray"),r=require("./subscribeToPromise"),i=require("./subscribeToIterable"),s=require("./subscribeToObservable"),o=require("./isArrayLike"),b=require("./isPromise"),u=require("./isObject"),t=require("../symbol/iterator"),a=require("../symbol/observable"),c=function(c){if(c&&"function"==typeof c[a.observable])return(0,s.subscribeToObservable)(c);if((0,o.isArrayLike)(c))return(0,e.subscribeToArray)(c);if((0,b.isPromise)(c))return(0,r.subscribeToPromise)(c);if(c&&"function"==typeof c[t.iterator])return(0,i.subscribeToIterable)(c);var n=(0,u.isObject)(c)?"an invalid object":"'"+c+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};exports.subscribeTo=c;
},{"./subscribeToArray":"lrFe","./subscribeToPromise":"eggw","./subscribeToIterable":"QEdH","./subscribeToObservable":"buzG","./isArrayLike":"LS84","./isPromise":"Ok8F","./isObject":"nU7r","../symbol/iterator":"AqTP","../symbol/observable":"tjV3"}],"JM7e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.subscribeToResult=b;var e=require("../InnerSubscriber"),r=require("./subscribeTo"),s=require("../Observable");function b(b,i,u,c,n){if(void 0===n&&(n=new e.InnerSubscriber(b,u,c)),!n.closed)return i instanceof s.Observable?i.subscribe(n):(0,r.subscribeTo)(i)(n)}
},{"../InnerSubscriber":"aQbR","./subscribeTo":"vq9L","../Observable":"wbSE"}],"omVc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CombineLatestSubscriber=exports.CombineLatestOperator=void 0,exports.combineLatest=l;var e=u(require("tslib")),t=require("../util/isScheduler"),r=require("../util/isArray"),i=require("../OuterSubscriber"),o=require("../util/subscribeToResult"),s=require("./fromArray");function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(n=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=n(t);if(r&&r.has(e))return r.get(e);var i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var u=o?Object.getOwnPropertyDescriptor(e,s):null;u&&(u.get||u.set)?Object.defineProperty(i,s,u):i[s]=e[s]}return i.default=e,r&&r.set(e,i),i}var a={};function l(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o=void 0,n=void 0;return(0,t.isScheduler)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(o=e.pop()),1===e.length&&(0,r.isArray)(e[0])&&(e=e[0]),(0,s.fromArray)(e,n).lift(new c(o))}var c=function(){function e(e){this.resultSelector=e}return e.prototype.call=function(e,t){return t.subscribe(new p(e,this.resultSelector))},e}();exports.CombineLatestOperator=c;var p=function(t){function r(e,r){var i=t.call(this,e)||this;return i.resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return e.__extends(r,t),r.prototype._next=function(e){this.values.push(a),this.observables.push(e)},r.prototype._complete=function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var r=0;r<t;r++){var i=e[r];this.add((0,o.subscribeToResult)(this,i,void 0,r))}}},r.prototype.notifyComplete=function(e){0==(this.active-=1)&&this.destination.complete()},r.prototype.notifyNext=function(e,t,r){var i=this.values,o=i[r],s=this.toRespond?o===a?--this.toRespond:this.toRespond:0;i[r]=t,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},r.prototype._tryResultSelector=function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(r){return void this.destination.error(r)}this.destination.next(t)},r}(i.OuterSubscriber);exports.CombineLatestSubscriber=p;
},{"tslib":"B5W1","../util/isScheduler":"VqoH","../util/isArray":"KeTG","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e","./fromArray":"PJGF"}],"lgBy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleObservable=u;var e=require("../Observable"),r=require("../Subscription"),n=require("../symbol/observable");function u(u,t){return new e.Observable(function(e){var o=new r.Subscription;return o.add(t.schedule(function(){var r=u[n.observable]();o.add(r.subscribe({next:function(r){o.add(t.schedule(function(){return e.next(r)}))},error:function(r){o.add(t.schedule(function(){return e.error(r)}))},complete:function(){o.add(t.schedule(function(){return e.complete()}))}}))})),o})}
},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/observable":"tjV3"}],"aPE6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.schedulePromise=n;var e=require("../Observable"),r=require("../Subscription");function n(n,u){return new e.Observable(function(e){var t=new r.Subscription;return t.add(u.schedule(function(){return n.then(function(r){t.add(u.schedule(function(){e.next(r),t.add(u.schedule(function(){return e.complete()}))}))},function(r){t.add(u.schedule(function(){return e.error(r)}))})})),t})}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"XzIO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduleIterable=n;var e=require("../Observable"),r=require("../Subscription"),t=require("../symbol/iterator");function n(n,u){if(!n)throw new Error("Iterable cannot be null");return new e.Observable(function(e){var o,i=new r.Subscription;return i.add(function(){o&&"function"==typeof o.return&&o.return()}),i.add(u.schedule(function(){o=n[t.iterator](),i.add(u.schedule(function(){if(!e.closed){var r,t;try{var n=o.next();r=n.value,t=n.done}catch(u){return void e.error(u)}t?e.complete():(e.next(r),this.schedule())}}))})),i})}
},{"../Observable":"wbSE","../Subscription":"I8KM","../symbol/iterator":"AqTP"}],"CTP2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isInteropObservable=r;var e=require("../symbol/observable");function r(r){return r&&"function"==typeof r[e.observable]}
},{"../symbol/observable":"tjV3"}],"NjuQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isIterable=r;var e=require("../symbol/iterator");function r(r){return r&&"function"==typeof r[e.iterator]}
},{"../symbol/iterator":"AqTP"}],"mNZE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.scheduled=a;var e=require("./scheduleObservable"),r=require("./schedulePromise"),i=require("./scheduleArray"),s=require("./scheduleIterable"),u=require("../util/isInteropObservable"),l=require("../util/isPromise"),t=require("../util/isArrayLike"),o=require("../util/isIterable");function a(a,b){if(null!=a){if((0,u.isInteropObservable)(a))return(0,e.scheduleObservable)(a,b);if((0,l.isPromise)(a))return(0,r.schedulePromise)(a,b);if((0,t.isArrayLike)(a))return(0,i.scheduleArray)(a,b);if((0,o.isIterable)(a)||"string"==typeof a)return(0,s.scheduleIterable)(a,b)}throw new TypeError((null!==a&&typeof a||a)+" is not observable")}
},{"./scheduleObservable":"lgBy","./schedulePromise":"aPE6","./scheduleArray":"ZGwk","./scheduleIterable":"XzIO","../util/isInteropObservable":"CTP2","../util/isPromise":"Ok8F","../util/isArrayLike":"LS84","../util/isIterable":"NjuQ"}],"WXUl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.from=u;var e=require("../Observable"),r=require("../util/subscribeTo"),s=require("../scheduled/scheduled");function u(u,b){return b?(0,s.scheduled)(u,b):u instanceof e.Observable?u:new e.Observable((0,r.subscribeTo)(u))}
},{"../Observable":"wbSE","../util/subscribeTo":"vq9L","../scheduled/scheduled":"mNZE"}],"OHtH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SimpleOuterSubscriber=exports.SimpleInnerSubscriber=exports.ComplexOuterSubscriber=exports.ComplexInnerSubscriber=void 0,exports.innerSubscribe=f;var t=o(require("tslib")),e=require("./Subscriber"),r=require("./Observable"),n=require("./util/subscribeTo");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=t[u]}return n.default=t,r&&r.set(t,n),n}var u=function(e){function r(t){var r=e.call(this)||this;return r.parent=t,r}return t.__extends(r,e),r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(e.Subscriber);exports.SimpleInnerSubscriber=u;var s=function(e){function r(t,r,n){var i=e.call(this)||this;return i.parent=t,i.outerValue=r,i.outerIndex=n,i}return t.__extends(r,e),r.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},r}(e.Subscriber);exports.ComplexInnerSubscriber=s;var p=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(e.Subscriber);exports.SimpleOuterSubscriber=p;var c=function(e){function r(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(r,e),r.prototype.notifyNext=function(t,e,r,n){this.destination.next(e)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(t){this.destination.complete()},r}(e.Subscriber);function f(t,e){if(!e.closed){if(t instanceof r.Observable)return t.subscribe(e);var i;try{i=(0,n.subscribeTo)(t)(e)}catch(o){e.error(o)}return i}}exports.ComplexOuterSubscriber=c;
},{"tslib":"B5W1","./Subscriber":"RaFB","./Observable":"wbSE","./util/subscribeTo":"vq9L"}],"nFsM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.flatMap=exports.MergeMapSubscriber=exports.MergeMapOperator=void 0,exports.mergeMap=u;var t=o(require("tslib")),e=require("./map"),r=require("../observable/from"),n=require("../innerSubscribe");function i(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(i=function(t){return t?r:e})(t)}function o(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=i(e);if(r&&r.has(t))return r.get(t);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var u in t)if("default"!==u&&Object.prototype.hasOwnProperty.call(t,u)){var s=o?Object.getOwnPropertyDescriptor(t,u):null;s&&(s.get||s.set)?Object.defineProperty(n,u,s):n[u]=t[u]}return n.default=t,r&&r.set(t,n),n}function u(t,n,i){return void 0===i&&(i=Number.POSITIVE_INFINITY),"function"==typeof n?function(o){return o.pipe(u(function(i,o){return(0,r.from)(t(i,o)).pipe((0,e.map)(function(t,e){return n(i,t,o,e)}))},i))}:("number"==typeof n&&(i=n),function(e){return e.lift(new s(t,i))})}var s=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.project,this.concurrent))},t}();exports.MergeMapOperator=s;var p=function(e){function r(t,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return t.__extends(r,e),r.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},r.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(n){return void this.destination.error(n)}this.active++,this._innerSub(e)},r.prototype._innerSub=function(t){var e=new n.SimpleInnerSubscriber(this),r=this.destination;r.add(e);var i=(0,n.innerSubscribe)(t,e);i!==e&&r.add(i)},r.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},r}(n.SimpleOuterSubscriber);exports.MergeMapSubscriber=p;var c=u;exports.flatMap=c;
},{"tslib":"B5W1","./map":"dNh5","../observable/from":"WXUl","../innerSubscribe":"OHtH"}],"Nkv4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.mergeAll=t;var e=require("./mergeMap"),r=require("../util/identity");function t(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),(0,e.mergeMap)(r.identity,t)}
},{"./mergeMap":"nFsM","../util/identity":"LXph"}],"Yxey":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concatAll=r;var e=require("./mergeAll");function r(){return(0,e.mergeAll)(1)}
},{"./mergeAll":"Nkv4"}],"CsdO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.concat=o;var e=require("./of"),r=require("../operators/concatAll");function o(){for(var o=[],t=0;t<arguments.length;t++)o[t]=arguments[t];return(0,r.concatAll)()(e.of.apply(void 0,o))}
},{"./of":"wZuk","../operators/concatAll":"Yxey"}],"w9G6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defer=u;var e=require("../Observable"),r=require("./from"),t=require("./empty");function u(u){return new e.Observable(function(e){var o;try{o=u()}catch(i){return void e.error(i)}return(o?(0,r.from)(o):(0,t.empty)()).subscribe(e)})}
},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],"R2GC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.forkJoin=u;var r=require("../Observable"),e=require("../util/isArray"),t=require("../operators/map"),n=require("../util/isObject"),o=require("./from");function u(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(1===r.length){var u=r[0];if((0,e.isArray)(u))return i(u,null);if((0,n.isObject)(u)&&Object.getPrototypeOf(u)===Object.prototype){var f=Object.keys(u);return i(f.map(function(r){return u[r]}),f)}}if("function"==typeof r[r.length-1]){var c=r.pop();return i(r=1===r.length&&(0,e.isArray)(r[0])?r[0]:r,null).pipe((0,t.map)(function(r){return c.apply(void 0,r)}))}return i(r,null)}function i(e,t){return new r.Observable(function(r){var n=e.length;if(0!==n)for(var u=new Array(n),i=0,f=0,c=function(c){var l=(0,o.from)(e[c]),a=!1;r.add(l.subscribe({next:function(r){a||(a=!0,f++),u[c]=r},error:function(e){return r.error(e)},complete:function(){++i!==n&&a||(f===n&&r.next(t?t.reduce(function(r,e,t){return r[e]=u[t],r},{}):u),r.complete())}}))},l=0;l<n;l++)c(l);else r.complete()})}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../operators/map":"dNh5","../util/isObject":"nU7r","./from":"WXUl"}],"ZHZV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEvent=i;var e=require("../Observable"),n=require("../util/isArray"),t=require("../util/isFunction"),r=require("../operators/map"),o=function(){return Object.prototype.toString}();function i(o,f,c,a){return(0,t.isFunction)(c)&&(a=c,c=void 0),a?i(o,f,c).pipe((0,r.map)(function(e){return(0,n.isArray)(e)?a.apply(void 0,e):a(e)})):new e.Observable(function(e){u(o,f,function(n){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(n)},e,c)})}function u(e,n,t,r,o){var i;if(a(e)){var s=e;e.addEventListener(n,t,o),i=function(){return s.removeEventListener(n,t,o)}}else if(c(e)){var v=e;e.on(n,t),i=function(){return v.off(n,t)}}else if(f(e)){var p=e;e.addListener(n,t),i=function(){return p.removeListener(n,t)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)u(e[l],n,t,r,o)}r.add(i)}function f(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function c(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}function a(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],"HFE7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEventPattern=i;var r=require("../Observable"),e=require("../util/isArray"),t=require("../util/isFunction"),n=require("../operators/map");function i(u,o,a){return a?i(u,o).pipe((0,n.map)(function(r){return(0,e.isArray)(r)?a.apply(void 0,r):a(r)})):new r.Observable(function(r){var e,n=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return r.next(1===e.length?e[0]:e)};try{e=u(n)}catch(i){return void r.error(i)}if((0,t.isFunction)(o))return function(){return o(n,e)}})}
},{"../Observable":"wbSE","../util/isArray":"KeTG","../util/isFunction":"Qnsq","../operators/map":"dNh5"}],"xNZb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generate=i;var e=require("../Observable"),r=require("../util/identity"),t=require("../util/isScheduler");function i(i,c,n,a,s){var u,d;if(1==arguments.length){var l=i;d=l.initialState,c=l.condition,n=l.iterate,u=l.resultSelector||r.identity,s=l.scheduler}else void 0===a||(0,t.isScheduler)(a)?(d=i,u=r.identity,s=a):(d=i,u=a);return new e.Observable(function(e){var r=d;if(s)return s.schedule(o,0,{subscriber:e,iterate:n,condition:c,resultSelector:u,state:r});for(;;){if(c){var t=void 0;try{t=c(r)}catch(a){return void e.error(a)}if(!t){e.complete();break}}var i=void 0;try{i=u(r)}catch(a){return void e.error(a)}if(e.next(i),e.closed)break;try{r=n(r)}catch(a){return void e.error(a)}}})}function o(e){var r=e.subscriber,t=e.condition;if(!r.closed){if(e.needIterate)try{e.state=e.iterate(e.state)}catch(c){return void r.error(c)}else e.needIterate=!0;if(t){var i=void 0;try{i=t(e.state)}catch(c){return void r.error(c)}if(!i)return void r.complete();if(r.closed)return}var o;try{o=e.resultSelector(e.state)}catch(c){return void r.error(c)}if(!r.closed&&(r.next(o),!r.closed))return this.schedule(e)}}
},{"../Observable":"wbSE","../util/identity":"LXph","../util/isScheduler":"VqoH"}],"SXp5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.iif=t;var e=require("./defer"),r=require("./empty");function t(t,i,u){return void 0===i&&(i=r.EMPTY),void 0===u&&(u=r.EMPTY),(0,e.defer)(function(){return t()?i:u})}
},{"./defer":"w9G6","./empty":"XsKQ"}],"wBpm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isNumeric=e;var r=require("./isArray");function e(e){return!(0,r.isArray)(e)&&e-parseFloat(e)+1>=0}
},{"./isArray":"KeTG"}],"QHLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interval=i;var e=require("../Observable"),r=require("../scheduler/async"),u=require("../util/isNumeric");function i(i,c){return void 0===i&&(i=0),void 0===c&&(c=r.async),(!(0,u.isNumeric)(i)||i<0)&&(i=0),c&&"function"==typeof c.schedule||(c=r.async),new e.Observable(function(e){return e.add(c.schedule(s,i,{subscriber:e,counter:0,period:i})),e})}function s(e){var r=e.subscriber,u=e.counter,i=e.period;r.next(u),this.schedule({subscriber:r,counter:u+1,period:i},i)}
},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm"}],"DQig":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.merge=u;var e=require("../Observable"),r=require("../util/isScheduler"),l=require("../operators/mergeAll"),t=require("./fromArray");function u(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];var n=Number.POSITIVE_INFINITY,p=null,i=u[u.length-1];return(0,r.isScheduler)(i)?(p=u.pop(),u.length>1&&"number"==typeof u[u.length-1]&&(n=u.pop())):"number"==typeof i&&(n=u.pop()),null===p&&1===u.length&&u[0]instanceof e.Observable?u[0]:(0,l.mergeAll)(n)((0,t.fromArray)(u,p))}
},{"../Observable":"wbSE","../util/isScheduler":"VqoH","../operators/mergeAll":"Nkv4","./fromArray":"PJGF"}],"TBTl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NEVER=void 0,exports.never=t;var e=require("../Observable"),r=require("../util/noop"),o=new e.Observable(r.noop);function t(){return o}exports.NEVER=o;
},{"../Observable":"wbSE","../util/noop":"rXfM"}],"VCq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.onErrorResumeNext=i;var e=require("../Observable"),r=require("./from"),t=require("../util/isArray"),n=require("./empty");function i(){for(var u=[],o=0;o<arguments.length;o++)u[o]=arguments[o];if(0===u.length)return n.EMPTY;var s=u[0],a=u.slice(1);return 1===u.length&&(0,t.isArray)(s)?i.apply(void 0,s):new e.Observable(function(e){var t=function(){return e.add(i.apply(void 0,a).subscribe(e))};return(0,r.from)(s).subscribe({next:function(r){e.next(r)},error:t,complete:t})})}
},{"../Observable":"wbSE","./from":"WXUl","../util/isArray":"KeTG","./empty":"XsKQ"}],"QHfc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch=i,exports.pairs=s;var e=require("../Observable"),r=require("../Subscription");function s(s,t){return t?new e.Observable(function(e){var n=Object.keys(s),b=new r.Subscription;return b.add(t.schedule(i,0,{keys:n,index:0,subscriber:e,subscription:b,obj:s})),b}):new e.Observable(function(e){for(var r=Object.keys(s),i=0;i<r.length&&!e.closed;i++){var t=r[i];s.hasOwnProperty(t)&&e.next([t,s[t]])}e.complete()})}function i(e){var r=e.keys,s=e.index,i=e.subscriber,t=e.subscription,n=e.obj;if(!i.closed)if(s<r.length){var b=r[s];i.next([b,n[b]]),t.add(this.schedule({keys:r,index:s+1,subscriber:i,subscription:t,obj:n}))}else i.complete()}
},{"../Observable":"wbSE","../Subscription":"I8KM"}],"nij6":[function(require,module,exports) {
"use strict";function e(e,r){function t(){return!t.pred.apply(t.thisArg,arguments)}return t.pred=e,t.thisArg=r,t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.not=e;
},{}],"HKzi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.filter=i;var t=n(require("tslib")),e=require("../Subscriber");function r(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,n=new WeakMap;return(r=function(t){return t?n:e})(t)}function n(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var n=r(e);if(n&&n.has(t))return n.get(t);var i={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var c=u?Object.getOwnPropertyDescriptor(t,o):null;c&&(c.get||c.set)?Object.defineProperty(i,o,c):i[o]=t[o]}return i.default=t,n&&n.set(t,i),i}function i(t,e){return function(r){return r.lift(new u(t,e))}}var u=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))},t}(),o=function(e){function r(t,r,n){var i=e.call(this,t)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return t.__extends(r,e),r.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(r){return void this.destination.error(r)}e&&this.destination.next(t)},r}(e.Subscriber);
},{"tslib":"B5W1","../Subscriber":"RaFB"}],"wJ9V":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.partition=s;var e=require("../util/not"),r=require("../util/subscribeTo"),t=require("../operators/filter"),i=require("../Observable");function s(s,u,b){return[(0,t.filter)(u,b)(new i.Observable((0,r.subscribeTo)(s))),(0,t.filter)((0,e.not)(u,b))(new i.Observable((0,r.subscribeTo)(s)))]}
},{"../util/not":"nij6","../util/subscribeTo":"vq9L","../operators/filter":"HKzi","../Observable":"wbSE"}],"bwYX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RaceSubscriber=exports.RaceOperator=void 0,exports.race=u;var r=o(require("tslib")),e=require("../util/isArray"),t=require("./fromArray"),i=require("../OuterSubscriber"),s=require("../util/subscribeToResult");function n(r){if("function"!=typeof WeakMap)return null;var e=new WeakMap,t=new WeakMap;return(n=function(r){return r?t:e})(r)}function o(r,e){if(!e&&r&&r.__esModule)return r;if(null===r||"object"!=typeof r&&"function"!=typeof r)return{default:r};var t=n(e);if(t&&t.has(r))return t.get(r);var i={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in r)if("default"!==o&&Object.prototype.hasOwnProperty.call(r,o)){var u=s?Object.getOwnPropertyDescriptor(r,o):null;u&&(u.get||u.set)?Object.defineProperty(i,o,u):i[o]=r[o]}return i.default=r,t&&t.set(r,i),i}function u(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(1===r.length){if(!(0,e.isArray)(r[0]))return r[0];r=r[0]}return(0,t.fromArray)(r,void 0).lift(new a)}var a=function(){function r(){}return r.prototype.call=function(r,e){return e.subscribe(new c(r))},r}();exports.RaceOperator=a;var c=function(e){function t(r){var t=e.call(this,r)||this;return t.hasFirst=!1,t.observables=[],t.subscriptions=[],t}return r.__extends(t,e),t.prototype._next=function(r){this.observables.push(r)},t.prototype._complete=function(){var r=this.observables,e=r.length;if(0===e)this.destination.complete();else{for(var t=0;t<e&&!this.hasFirst;t++){var i=r[t],n=(0,s.subscribeToResult)(this,i,void 0,t);this.subscriptions&&this.subscriptions.push(n),this.add(n)}this.observables=null}},t.prototype.notifyNext=function(r,e,t){if(!this.hasFirst){this.hasFirst=!0;for(var i=0;i<this.subscriptions.length;i++)if(i!==t){var s=this.subscriptions[i];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},t}(i.OuterSubscriber);exports.RaceSubscriber=c;
},{"tslib":"B5W1","../util/isArray":"KeTG","./fromArray":"PJGF","../OuterSubscriber":"hZYI","../util/subscribeToResult":"JM7e"}],"N84r":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.dispatch=t,exports.range=r;var e=require("../Observable");function r(r,s,i){return void 0===r&&(r=0),new e.Observable(function(e){void 0===s&&(s=r,r=0);var n=0,o=r;if(i)return i.schedule(t,0,{index:n,count:s,start:r,subscriber:e});for(;;){if(n++>=s){e.complete();break}if(e.next(o++),e.closed)break}})}function t(e){var r=e.start,t=e.index,s=e.count,i=e.subscriber;t>=s?i.complete():(i.next(r),i.closed||(e.index=t+1,e.start=r+1,this.schedule(e)))}
},{"../Observable":"wbSE"}],"RPvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.timer=s;var e=require("../Observable"),r=require("../scheduler/async"),i=require("../util/isNumeric"),u=require("../util/isScheduler");function s(s,n,t){void 0===s&&(s=0);var d=-1;return(0,i.isNumeric)(n)?d=Number(n)<1?1:Number(n):(0,u.isScheduler)(n)&&(t=n),(0,u.isScheduler)(t)||(t=r.async),new e.Observable(function(e){var r=(0,i.isNumeric)(s)?s:+s-t.now();return t.schedule(c,r,{index:0,period:d,subscriber:e})})}function c(e){var r=e.index,i=e.period,u=e.subscriber;if(u.next(r),!u.closed){if(-1===i)return u.complete();e.index=r+1,this.schedule(e,i)}}
},{"../Observable":"wbSE","../scheduler/async":"jun6","../util/isNumeric":"wBpm","../util/isScheduler":"VqoH"}],"gc1W":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.using=t;var r=require("../Observable"),e=require("./from"),u=require("./empty");function t(t,n){return new r.Observable(function(r){var i,s;try{i=t()}catch(c){return void r.error(c)}try{s=n(i)}catch(c){return void r.error(c)}var o=(s?(0,e.from)(s):u.EMPTY).subscribe(r);return function(){o.unsubscribe(),i&&i.unsubscribe()}})}
},{"../Observable":"wbSE","./from":"WXUl","./empty":"XsKQ"}],"ff2A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ZipSubscriber=exports.ZipOperator=void 0,exports.zip=a;var t=u(require("tslib")),e=require("./fromArray"),r=require("../util/isArray"),n=require("../Subscriber"),i=require("../../internal/symbol/iterator"),o=require("../innerSubscribe");function s(t){if("function"!=typeof WeakMap)return null;var e=new WeakMap,r=new WeakMap;return(s=function(t){return t?r:e})(t)}function u(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!=typeof t&&"function"!=typeof t)return{default:t};var r=s(e);if(r&&r.has(t))return r.get(t);var n={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if("default"!==o&&Object.prototype.hasOwnProperty.call(t,o)){var u=i?Object.getOwnPropertyDescriptor(t,o):null;u&&(u.get||u.set)?Object.defineProperty(n,o,u):n[o]=t[o]}return n.default=t,r&&r.set(t,n),n}function a(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[t.length-1];return"function"==typeof n&&t.pop(),(0,e.fromArray)(t,void 0).lift(new l(n))}var l=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.resultSelector))},t}();exports.ZipOperator=l;var p=function(e){function n(t,r,n){void 0===n&&(n=Object.create(null));var i=e.call(this,t)||this;return i.resultSelector=r,i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:void 0,i}return t.__extends(n,e),n.prototype._next=function(t){var e=this.iterators;(0,r.isArray)(t)?e.push(new h(t)):"function"==typeof t[i.iterator]?e.push(new c(t[i.iterator]())):e.push(new f(this.destination,this,t))},n.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe());else this.active--}}else this.destination.complete()},n.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},n.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<e;n++){var s,u=(s=t[n]).next();if(s.hasCompleted()&&(i=!0),u.done)return void r.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},n.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(r){return void this.destination.error(r)}this.destination.next(e)},n}(n.Subscriber);exports.ZipSubscriber=p;var c=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return Boolean(t&&t.done)},t}(),h=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[i.iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),f=function(e){function r(t,r,n){var i=e.call(this,t)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return t.__extends(r,e),r.prototype[i.iterator]=function(){return this},r.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},r.prototype.hasValue=function(){return this.buffer.length>0},r.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},r.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},r.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},r.prototype.subscribe=function(){return(0,o.innerSubscribe)(this.observable,new o.SimpleInnerSubscriber(this))},r}(o.SimpleOuterSubscriber);
},{"tslib":"B5W1","./fromArray":"PJGF","../util/isArray":"KeTG","../Subscriber":"RaFB","../../internal/symbol/iterator":"AqTP","../innerSubscribe":"OHtH"}],"iRqj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"ArgumentOutOfRangeError",{enumerable:!0,get:function(){return x.ArgumentOutOfRangeError}}),Object.defineProperty(exports,"AsyncSubject",{enumerable:!0,get:function(){return b.AsyncSubject}}),Object.defineProperty(exports,"BehaviorSubject",{enumerable:!0,get:function(){return u.BehaviorSubject}}),Object.defineProperty(exports,"ConnectableObservable",{enumerable:!0,get:function(){return r.ConnectableObservable}}),Object.defineProperty(exports,"EMPTY",{enumerable:!0,get:function(){return A.EMPTY}}),Object.defineProperty(exports,"EmptyError",{enumerable:!0,get:function(){return q.EmptyError}}),Object.defineProperty(exports,"GroupedObservable",{enumerable:!0,get:function(){return t.GroupedObservable}}),Object.defineProperty(exports,"NEVER",{enumerable:!0,get:function(){return L.NEVER}}),Object.defineProperty(exports,"Notification",{enumerable:!0,get:function(){return y.Notification}}),Object.defineProperty(exports,"NotificationKind",{enumerable:!0,get:function(){return y.NotificationKind}}),Object.defineProperty(exports,"ObjectUnsubscribedError",{enumerable:!0,get:function(){return v.ObjectUnsubscribedError}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return e.Observable}}),Object.defineProperty(exports,"ReplaySubject",{enumerable:!0,get:function(){return o.ReplaySubject}}),Object.defineProperty(exports,"Scheduler",{enumerable:!0,get:function(){return f.Scheduler}}),Object.defineProperty(exports,"Subject",{enumerable:!0,get:function(){return i.Subject}}),Object.defineProperty(exports,"Subscriber",{enumerable:!0,get:function(){return m.Subscriber}}),Object.defineProperty(exports,"Subscription",{enumerable:!0,get:function(){return d.Subscription}}),Object.defineProperty(exports,"TimeoutError",{enumerable:!0,get:function(){return S.TimeoutError}}),Object.defineProperty(exports,"UnsubscriptionError",{enumerable:!0,get:function(){return E.UnsubscriptionError}}),Object.defineProperty(exports,"VirtualAction",{enumerable:!0,get:function(){return s.VirtualAction}}),Object.defineProperty(exports,"VirtualTimeScheduler",{enumerable:!0,get:function(){return s.VirtualTimeScheduler}}),Object.defineProperty(exports,"animationFrame",{enumerable:!0,get:function(){return p.animationFrame}}),Object.defineProperty(exports,"animationFrameScheduler",{enumerable:!0,get:function(){return p.animationFrameScheduler}}),Object.defineProperty(exports,"asap",{enumerable:!0,get:function(){return a.asap}}),Object.defineProperty(exports,"asapScheduler",{enumerable:!0,get:function(){return a.asapScheduler}}),Object.defineProperty(exports,"async",{enumerable:!0,get:function(){return l.async}}),Object.defineProperty(exports,"asyncScheduler",{enumerable:!0,get:function(){return l.asyncScheduler}}),Object.defineProperty(exports,"bindCallback",{enumerable:!0,get:function(){return h.bindCallback}}),Object.defineProperty(exports,"bindNodeCallback",{enumerable:!0,get:function(){return N.bindNodeCallback}}),Object.defineProperty(exports,"combineLatest",{enumerable:!0,get:function(){return R.combineLatest}}),Object.defineProperty(exports,"concat",{enumerable:!0,get:function(){return k.concat}}),Object.defineProperty(exports,"config",{enumerable:!0,get:function(){return Z.config}}),Object.defineProperty(exports,"defer",{enumerable:!0,get:function(){return C.defer}}),Object.defineProperty(exports,"empty",{enumerable:!0,get:function(){return A.empty}}),Object.defineProperty(exports,"forkJoin",{enumerable:!0,get:function(){return T.forkJoin}}),Object.defineProperty(exports,"from",{enumerable:!0,get:function(){return V.from}}),Object.defineProperty(exports,"fromEvent",{enumerable:!0,get:function(){return U.fromEvent}}),Object.defineProperty(exports,"fromEventPattern",{enumerable:!0,get:function(){return F.fromEventPattern}}),Object.defineProperty(exports,"generate",{enumerable:!0,get:function(){return B.generate}}),Object.defineProperty(exports,"identity",{enumerable:!0,get:function(){return j.identity}}),Object.defineProperty(exports,"iif",{enumerable:!0,get:function(){return w.iif}}),Object.defineProperty(exports,"interval",{enumerable:!0,get:function(){return z.interval}}),Object.defineProperty(exports,"isObservable",{enumerable:!0,get:function(){return P.isObservable}}),Object.defineProperty(exports,"merge",{enumerable:!0,get:function(){return J.merge}}),Object.defineProperty(exports,"never",{enumerable:!0,get:function(){return L.never}}),Object.defineProperty(exports,"noop",{enumerable:!0,get:function(){return O.noop}}),Object.defineProperty(exports,"observable",{enumerable:!0,get:function(){return n.observable}}),Object.defineProperty(exports,"of",{enumerable:!0,get:function(){return M.of}}),Object.defineProperty(exports,"onErrorResumeNext",{enumerable:!0,get:function(){return G.onErrorResumeNext}}),Object.defineProperty(exports,"pairs",{enumerable:!0,get:function(){return K.pairs}}),Object.defineProperty(exports,"partition",{enumerable:!0,get:function(){return Y.partition}}),Object.defineProperty(exports,"pipe",{enumerable:!0,get:function(){return g.pipe}}),Object.defineProperty(exports,"queue",{enumerable:!0,get:function(){return c.queue}}),Object.defineProperty(exports,"queueScheduler",{enumerable:!0,get:function(){return c.queueScheduler}}),Object.defineProperty(exports,"race",{enumerable:!0,get:function(){return _.race}}),Object.defineProperty(exports,"range",{enumerable:!0,get:function(){return D.range}}),Object.defineProperty(exports,"scheduled",{enumerable:!0,get:function(){return X.scheduled}}),Object.defineProperty(exports,"throwError",{enumerable:!0,get:function(){return H.throwError}}),Object.defineProperty(exports,"timer",{enumerable:!0,get:function(){return I.timer}}),Object.defineProperty(exports,"using",{enumerable:!0,get:function(){return Q.using}}),Object.defineProperty(exports,"zip",{enumerable:!0,get:function(){return W.zip}});var e=require("./internal/Observable"),r=require("./internal/observable/ConnectableObservable"),t=require("./internal/operators/groupBy"),n=require("./internal/symbol/observable"),i=require("./internal/Subject"),u=require("./internal/BehaviorSubject"),o=require("./internal/ReplaySubject"),b=require("./internal/AsyncSubject"),a=require("./internal/scheduler/asap"),l=require("./internal/scheduler/async"),c=require("./internal/scheduler/queue"),p=require("./internal/scheduler/animationFrame"),s=require("./internal/scheduler/VirtualTimeScheduler"),f=require("./internal/Scheduler"),d=require("./internal/Subscription"),m=require("./internal/Subscriber"),y=require("./internal/Notification"),g=require("./internal/util/pipe"),O=require("./internal/util/noop"),j=require("./internal/util/identity"),P=require("./internal/util/isObservable"),x=require("./internal/util/ArgumentOutOfRangeError"),q=require("./internal/util/EmptyError"),v=require("./internal/util/ObjectUnsubscribedError"),E=require("./internal/util/UnsubscriptionError"),S=require("./internal/util/TimeoutError"),h=require("./internal/observable/bindCallback"),N=require("./internal/observable/bindNodeCallback"),R=require("./internal/observable/combineLatest"),k=require("./internal/observable/concat"),C=require("./internal/observable/defer"),A=require("./internal/observable/empty"),T=require("./internal/observable/forkJoin"),V=require("./internal/observable/from"),U=require("./internal/observable/fromEvent"),F=require("./internal/observable/fromEventPattern"),B=require("./internal/observable/generate"),w=require("./internal/observable/iif"),z=require("./internal/observable/interval"),J=require("./internal/observable/merge"),L=require("./internal/observable/never"),M=require("./internal/observable/of"),G=require("./internal/observable/onErrorResumeNext"),K=require("./internal/observable/pairs"),Y=require("./internal/observable/partition"),_=require("./internal/observable/race"),D=require("./internal/observable/range"),H=require("./internal/observable/throwError"),I=require("./internal/observable/timer"),Q=require("./internal/observable/using"),W=require("./internal/observable/zip"),X=require("./internal/scheduled/scheduled"),Z=require("./internal/config");
},{"./internal/Observable":"wbSE","./internal/observable/ConnectableObservable":"kkfD","./internal/operators/groupBy":"dNgG","./internal/symbol/observable":"tjV3","./internal/Subject":"r9t1","./internal/BehaviorSubject":"MPU6","./internal/ReplaySubject":"Cp6P","./internal/AsyncSubject":"Scvc","./internal/scheduler/asap":"ZqYc","./internal/scheduler/async":"jun6","./internal/scheduler/queue":"HGOP","./internal/scheduler/animationFrame":"zUKp","./internal/scheduler/VirtualTimeScheduler":"RuMO","./internal/Scheduler":"QglZ","./internal/Subscription":"I8KM","./internal/Subscriber":"RaFB","./internal/Notification":"n7Mc","./internal/util/pipe":"HQCS","./internal/util/noop":"rXfM","./internal/util/identity":"LXph","./internal/util/isObservable":"cUXi","./internal/util/ArgumentOutOfRangeError":"Qh4I","./internal/util/EmptyError":"vsl0","./internal/util/ObjectUnsubscribedError":"xQEi","./internal/util/UnsubscriptionError":"pMaL","./internal/util/TimeoutError":"SZK7","./internal/observable/bindCallback":"lxDK","./internal/observable/bindNodeCallback":"uTDa","./internal/observable/combineLatest":"omVc","./internal/observable/concat":"CsdO","./internal/observable/defer":"w9G6","./internal/observable/empty":"XsKQ","./internal/observable/forkJoin":"R2GC","./internal/observable/from":"WXUl","./internal/observable/fromEvent":"ZHZV","./internal/observable/fromEventPattern":"HFE7","./internal/observable/generate":"xNZb","./internal/observable/iif":"SXp5","./internal/observable/interval":"QHLS","./internal/observable/merge":"DQig","./internal/observable/never":"TBTl","./internal/observable/of":"wZuk","./internal/observable/onErrorResumeNext":"VCq5","./internal/observable/pairs":"QHfc","./internal/observable/partition":"wJ9V","./internal/observable/race":"bwYX","./internal/observable/range":"N84r","./internal/observable/throwError":"FdIu","./internal/observable/timer":"RPvN","./internal/observable/using":"gc1W","./internal/observable/zip":"ff2A","./internal/scheduled/scheduled":"mNZE","./internal/config":"Q3iD"}],"JLMc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeSocket=void 0;var n=require("rxjs"),t=function(n){return function(t,e){return n.on(t.event,e),function(){return n.off(t.event,e)}}},e=function(n){return function(t,e){n.emit(t.event,e)}},o=function(n){return function(t,e){n.off(t.event,e)}},r=function(n){return function(t,e){return n.on("Update-"+t.constructor.name+"-"+t.id,e),function(){return n.off("Update-"+t.constructor.name+"-"+t.id,e)}}},u=function(t){return function(e){var o=new n.BehaviorSubject(e);return console.log("subscribing."),t.on("Update-"+e.entity+"-"+e.id,function(n){console.log("new data."),o.next(n)}),t.on("Remove-"+e.constructor.name+"-"+e.id,function(n){o.next(null),o.complete()}),o}},i=function(n){return function(t){return function(e,o){var r=t;void 0!==r.to&&r.to(n).emit(e.event,o)}}},c=function(n){return{emit:e(n),on:t(n),off:o(n),to:function(t){return{emit:i(t)(n)}},asObservable:u(n)}};exports.typeSocket=c;
},{"rxjs":"iRqj"}],"gnH6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.typeEvent=void 0;var e=function(e){return{event:e,data:null}};exports.typeEvent=e;
},{}],"d5s2":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,o){void 0===o&&(o=r),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,o){void 0===o&&(o=r),e[o]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var o in t)"default"===o||Object.prototype.hasOwnProperty.call(r,o)||e(r,t,o)};Object.defineProperty(exports,"__esModule",{value:!0}),t(require("./typeIo"),exports),t(require("./typeSocket"),exports),t(require("./typeEvent"),exports);
},{"./typeIo":"k5FS","./typeSocket":"JLMc","./typeEvent":"gnH6"}],"Etob":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.syncClock=void 0;var e=require("../typedEvents");exports.syncClock=e.typeEvent("syncClock");
},{"../typedEvents":"d5s2"}],"axBZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.userConnected=void 0;var e=require("../typedEvents");exports.userConnected=e.typeEvent("userConnected");
},{"../typedEvents":"d5s2"}],"a6jW":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__exportStar||function(t,r){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(r,i)||e(r,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),t(require("./syncClock"),exports),t(require("./userEvents"),exports);
},{"./syncClock":"Etob","./userEvents":"axBZ"}],"lVWn":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r),Object.defineProperty(e,i,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),t=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(r){if(r&&r.__esModule)return r;var i={};if(null!=r)for(var n in r)"default"!==n&&Object.prototype.hasOwnProperty.call(r,n)&&e(i,r,n);return t(i,r),i};Object.defineProperty(exports,"__esModule",{value:!0}),exports.setTimeDiff=exports.getTimeDiff=void 0;var i=r(require("../shared/events")),n=0,o=function(){return n};exports.getTimeDiff=o;var u=function(e){var t,r,o=0;e.on(i.syncClock,function(e){var i=Date.now()-r;t?t>i&&(t=i,n=r+Math.round(i/2)-e.msTime):t=i,o<10&&setTimeout(u,1e3)});var u=function(){r=Date.now(),o++,e.emit(i.syncClock,{msTime:r})};u()};exports.setTimeDiff=u;
},{"../shared/events":"a6jW"}],"jCFd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.BlockSafari=void 0;var e=!1;function r(){var r,i=document.querySelector("#error-text"),o=document.querySelector("#error-list");window.alert("This simulation is not supported in Safari. Please use Chrome."),e=!0,i.classList.remove("hidden"),r=document.createElement("li"),o.appendChild(r),r.innerText="This simulation is not supported in Safari. Please use Chrome."}window.BlockSafari=function(){r()},window.isSafariBlocked=function(){return e},exports.BlockSafari=r;
},{}],"GBGZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.afterIdle=void 0;var e=function(e,n){var o,t=!(null==n?void 0:n.timeMS)||n.timeMS<=0?36e5:n.timeMS,i=(null==n?void 0:n.onReset)?n.onReset:function(){};function d(){o&&(clearTimeout(o),i()),o=setTimeout(e,t)}window.addEventListener("onmousemove",d),window.addEventListener("onmousedown",d),window.addEventListener("onclick",d),window.addEventListener("onscroll",d),window.addEventListener("onkeypress",d),d()};exports.afterIdle=e;
},{}],"taa1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("@gosynthschool/nebula-client"),n=require("./nebulaSetup");window.SendGamePerformance=function(r){e.sendGamePerformanceToAV(r,n.getNebulaClientOptions())};
},{"@gosynthschool/nebula-client":"FlUp","./nebulaSetup":"qPox"}],"bdJa":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,t,i){void 0===i&&(i=t),Object.defineProperty(e,i,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,i){void 0===i&&(i=t),e[i]=r[t]}),r=this&&this.__exportStar||function(r,t){for(var i in r)"default"===i||Object.prototype.hasOwnProperty.call(t,i)||e(t,r,i)};Object.defineProperty(exports,"__esModule",{value:!0}),r(require("./pollGoSynth"),exports),r(require("./syncToServerTime"),exports),r(require("./redirectAfterInactivity"),exports),r(require("./nebulaSetup"),exports),r(require("./blockSafari"),exports),r(require("./afterIdle"),exports),r(require("./errorReporting/sentrySetup"),exports),r(require("./sendGamePerformance"),exports);
},{"./pollGoSynth":"UcdH","./syncToServerTime":"lVWn","./redirectAfterInactivity":"VW4R","./nebulaSetup":"qPox","./blockSafari":"jCFd","./afterIdle":"GBGZ","./errorReporting/sentrySetup":"HfeY","./sendGamePerformance":"taa1"}],"QCba":[function(require,module,exports) {
"use strict";var e=this&&this.__createBinding||(Object.create?function(e,r,t,s){void 0===s&&(s=t),Object.defineProperty(e,s,{enumerable:!0,get:function(){return r[t]}})}:function(e,r,t,s){void 0===s&&(s=t),e[s]=r[t]}),r=this&&this.__setModuleDefault||(Object.create?function(e,r){Object.defineProperty(e,"default",{enumerable:!0,value:r})}:function(e,r){e.default=r}),t=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var s={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&e(s,t,o);return r(s,t),s},s=this&&this.__awaiter||function(e,r,t,s){return new(t||(t=Promise))(function(o,n){function a(e){try{u(s.next(e))}catch(r){n(r)}}function i(e){try{u(s.throw(e))}catch(r){n(r)}}function u(e){var r;e.done?o(e.value):(r=e.value,r instanceof t?r:new t(function(e){e(r)})).then(a,i)}u((s=s.apply(e,r||[])).next())})},o=this&&this.__generator||function(e,r){var t,s,o,n,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:i(0),throw:i(1),return:i(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function i(n){return function(i){return function(n){if(t)throw new TypeError("Generator is already executing.");for(;a;)try{if(t=1,s&&(o=2&n[0]?s.return:n[0]?s.throw||((o=s.return)&&o.call(s),0):s.next)&&!(o=o.call(s,n[1])).done)return o;switch(s=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return a.label++,{value:n[1],done:!1};case 5:a.label++,s=n[1],n=[0];continue;case 7:n=a.ops.pop(),a.trys.pop();continue;default:if(!(o=(o=a.trys).length>0&&o[o.length-1])&&(6===n[0]||2===n[0])){a=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){a.label=n[1];break}if(6===n[0]&&a.label<o[1]){a.label=o[1],o=n;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(n);break}o[2]&&a.ops.pop(),a.trys.pop();continue}n=r.call(e,a)}catch(i){n=[6,i],s=0}finally{t=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,i])}}},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0}),exports.releaseWeeks=exports.releaseScripts=exports.settings=exports.teamFunds=exports.latestHeadlines=exports.currentWeekend=exports.castRequests=exports.hasCrewRequest=exports.counterOffers=exports.timeRemaining=exports.holidayScripts=exports.summerScripts=exports.springScripts=exports.festivalScripts=exports.silentPartnerScripts=exports.unreleasedScripts=exports.teamScripts=exports.myCrew=exports.myCast=exports.myDirectors=exports.crew=exports.cast=exports.script=exports.director=exports.genres=exports.directors=exports.scripts=exports.phase=exports.otherTeams=exports.team=exports.player=exports.admin=exports.sessionId=exports.gamestate=exports.generateBugError=exports.showErrorDetails=exports.activeError=exports.emit=exports.getEmitFn=exports.room=void 0;var a=require("@colyseus/schema"),i=n(require("./components/App.svelte")),u=require("./network"),c=require("@gosynthschool/game-utils/client/errorReporting/sentrySetup"),p=require("@gosynthschool/game-utils/client/nebulaSetup"),l=require("@gosynthschool/game-utils/client/pollGoSynth"),f=require("@gosynthschool/game-utils/client/redirectAfterInactivity"),m=require("svelte/store"),d=require("../../server/src/rooms/schema/CastOffer"),x=require("../../server/src/rooms/schema/DirectorOffer"),v=require("../../server/src/rooms/schema/Team"),h=t(require("../../server/src/shared/clientMessages")),g=require("../../server/src/shared/GamePhase"),y=require("../../server/src/shared/Season"),S=require("./joinRoom"),w=require("./typeEmit"),b=require("@gosynthschool/game-utils/client"),P=(0,m.writable)(null);function q(){throw new Error("User Bug Report")}function A(e){P.set(e)}exports.activeError=(0,m.derived)(P,function(e){return e}),exports.showErrorDetails=(0,m.writable)(!1),exports.generateBugError=q;var O=(0,m.writable)(null),R=(0,m.writable)(null);exports.gamestate=(0,m.derived)(O,function(e){return e}),exports.sessionId=(0,m.derived)(R,function(e){return e}),exports.admin=(0,m.derived)([exports.sessionId,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?t.admins.get(r):null}),exports.player=(0,m.derived)([exports.sessionId,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?t.players.get(r):null}),exports.team=(0,m.derived)([exports.player,exports.gamestate,exports.admin],function(e){var r=e[0],t=e[1],s=e[2];return s?{color:s.view}:t&&r?t.teams.get(r.team):{color:""}}),exports.otherTeams=(0,m.derived)([exports.gamestate,exports.team],function(e){var r=e[0],t=e[1];return r&&t?Array.from(r.teams.values()).filter(function(e){return e.color!==t.color}):[]}),exports.phase=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return(null==r?void 0:r.phase)||g.GamePhase.Welcome}),exports.scripts=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return null==r?void 0:r.scripts}),exports.directors=(0,m.writable)(new a.MapSchema);var _=function(e,r){exports.directors.update(function(t){return t.set(r,e),t})},E=function(e){exports.directors.update(function(r){return r.delete(e),r})};exports.genres=(0,m.derived)([exports.gamestate,exports.team],function(e){var r=e[0],t=e[1],s={};return exports.gamestate&&t?(r.scripts.forEach(function(e){if(e.team===t.color){var r=e.genre;s[r]=!0}}),s):s});var k=function(e){return(0,m.derived)([exports.gamestate],function(r){return r[0].directors.get(e)})};exports.director=k;var j=function(e){return(0,m.derived)([exports.gamestate],function(r){return r[0].scripts.get(e)})};exports.script=j,exports.cast=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return null==r?void 0:r.cast}),exports.crew=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return null==r?void 0:r.crew}),exports.myDirectors=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.directors.values()).filter(function(e){return e.team===r.color}):[]}),exports.myCast=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.cast.values()).filter(function(e){return e.team===r.color}):[]}),exports.myCrew=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.crew.values()).filter(function(e){return e.team===r.color}):[]}),exports.teamScripts=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.scripts.values()).filter(function(e){return e.team===r.color}):[]}),exports.unreleasedScripts=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.scripts.values()).filter(function(e){return!!e.team&&e.team!==r.color&&!e.releaseSeason}):[]}),exports.silentPartnerScripts=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];return t&&r?Array.from(t.scripts.values()).filter(function(e){return e.partnerTeam===r.color}):[]}),exports.festivalScripts=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return r?Array.from(r.scripts.values()).filter(function(e){return e.festivalRelease}):[]}),exports.springScripts=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return r?Array.from(r.scripts.values()).filter(function(e){return e.releaseSeason===y.Season.Spring}):[]}),exports.summerScripts=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return r?Array.from(r.scripts.values()).filter(function(e){return e.releaseSeason===y.Season.Summer}):[]}),exports.holidayScripts=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return r?Array.from(r.scripts.values()).filter(function(e){return e.releaseSeason===y.Season.Holiday}):[]}),exports.timeRemaining=(0,m.derived)(exports.gamestate,function(e){if(e)return e.timer-e.timerOffset}),exports.counterOffers=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];if(!r||!t)return{};var s={};return t.directors.forEach(function(e){var t=e.offers.filter(function(e){return e.team===r.color}).pop();(null==t?void 0:t.type)===x.OfferType.Counter&&(s[e.name]=!0)}),s}),exports.hasCrewRequest=(0,m.derived)([exports.team,exports.gamestate],function(e){var r=e[0],t=e[1];if(!r||!t)return!1;var s=!1;return t.crew.forEach(function(e){var t=e.proposal;(null==t?void 0:t.team)!==r.color||e.team||(s=!0)}),s}),exports.castRequests=(0,m.derived)([exports.team,exports.otherTeams,exports.gamestate],function(e){var r=e[0],t=e[1],s=e[2],o={};if(!r||!t||!s)return o;for(var n=function(e){var t=s.castOffers.filter(function(t){return t.to===r.color&&t.from===e.color||t.to===e.color&&t.from===r.color}).pop();t&&t.from!==r.color&&t.type===d.TradeType.Request&&(0,d.isValidOffer)(t,r.color)&&(o[e.color]=t)},a=0,i=t;a<i.length;a++){n(i[a])}return o}),exports.currentWeekend=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return(0,g.currentWeekendOfSeason)(r)}),exports.latestHeadlines=(0,m.derived)([exports.gamestate],function(e){var r=e[0];return(null==r?void 0:r.headlines)?Array.from(r.headlines.values()).slice(-3):[]}),exports.teamFunds=(0,m.derived)([exports.gamestate,exports.team],function(e){var r=e[0],t=e[1];if(r&&t)return(0,v.totalProfitAndLoss)(t.color,r)}),exports.settings=(0,m.derived)([exports.gamestate],function(e){var r=e[0],t=function(e){var r=e.replace(/([A-Z])/g," $1");return r.charAt(0).toUpperCase()+r.slice(1)},s=function(e,r){return e.includes("Duration")||"earlyReleaseBuzzPoints"===e?r/10:r};return exports.gamestate?Object.entries(r.settings).map(function(e){var r=e[0],o=e[1];return s(r,o),t(r),{key:r,text:t(r),value:s(r,o)}}):[]}),exports.releaseScripts=(0,m.derived)([exports.phase,exports.springScripts,exports.summerScripts,exports.holidayScripts],function(e){var r=e[0],t=e[1],s=e[2],o=e[3];switch(r){case g.GamePhase.Spring:case g.GamePhase.SpringPreview:return t;case g.GamePhase.Summer:case g.GamePhase.SummerPreview:return s;case g.GamePhase.HolidayPreview:case g.GamePhase.Holiday:return o;default:return[]}}),exports.releaseWeeks=(0,m.derived)([exports.phase,exports.gamestate],function(e){var r=e[0],t=e[1];switch(r){case g.GamePhase.Spring:return t.settings.springWeeks;case g.GamePhase.Summer:return t.settings.summerWeeks;case g.GamePhase.Holiday:return t.settings.holidayWeeks;default:return[]}});var G=window.location.search,T=new URLSearchParams(G),C=!0;try{var W=T.get("jwt");(0,l.pollGoSynth)(W),(0,f.redirectAfterInactivity)(W)}catch(M){console.log("unable to parse jwt")}var D=function(){return s(void 0,void 0,void 0,function(){var e;return o(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,(0,S.joinCreateOrReconnectToRoom)(u.client)];case 1:return exports.room=r.sent(),exports.room.onLeave(function(e){console.log("left game - code:",e),C&&setTimeout(D,3e3)}),exports.room.onStateChange(function(e){O.update(function(){return e})}),exports.directors.update(function(){return exports.room.state.directors}),exports.room.state.directors.onAdd=function(e,r){_(e,r),e.offers.onAdd=function(){return _(e,r)}},exports.room.state.directors.onRemove=function(e,r){E(r)},Object.entries(h).forEach(function(e){var r=e[0],t=e[1];exports.room.onMessage(r,t)}),R.update(function(){return exports.room.sessionId}),exports.getEmitFn=(0,w.getTypedEmitFn)(exports.room),exports.emit=(0,w.typedEmit)(exports.room),[3,3];case 2:return e=r.sent(),console.error("join error",e),[2];case 3:return[2]}})})};function I(){return s(this,void 0,void 0,function(){var e,r;return o(this,function(t){switch(t.label){case 0:(0,p.handshakeWithNebula)("https://av.synthesis.is","hollywood"),e={dsn:"https://33190763ffe74947bbfec5a974fe9f5e@sentry.dev.compute.synthesis.is/6271808",organizationSlug:"synthesis-school-inc",projectSlug:"hollywood",releaseVersion:"9d544af",environment:"production",tracesSampleRate:.5,useTunnel:!0},(0,c.startSentry)({errorReportCallback:A,sentrySetupData:e}),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,D()];case 2:return t.sent(),new i.default({target:document.body}),[3,4];case 3:return r=t.sent(),console.error("init error",r),[3,4];case 4:return[2]}})})}I();
},{"@colyseus/schema":"SdlP","./components/App.svelte":"HjHG","./network":"PuRK","@gosynthschool/game-utils/client/errorReporting/sentrySetup":"HfeY","@gosynthschool/game-utils/client/nebulaSetup":"qPox","@gosynthschool/game-utils/client/pollGoSynth":"UcdH","@gosynthschool/game-utils/client/redirectAfterInactivity":"VW4R","svelte/store":"zBaE","../../server/src/rooms/schema/CastOffer":"XfOi","../../server/src/rooms/schema/DirectorOffer":"o4jR","../../server/src/rooms/schema/Team":"wXpb","../../server/src/shared/clientMessages":"UHzJ","../../server/src/shared/GamePhase":"wedU","../../server/src/shared/Season":"deTc","./joinRoom":"Kmzx","./typeEmit":"prC8","@gosynthschool/game-utils/client":"bdJa"}]},{},["QCba"], null)
//# sourceMappingURL=src.1859388c.js.map